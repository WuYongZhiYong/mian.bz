(function(){var e;var t=[],n=[];var r=0;var i=+new Date+"";var a=75;var s=40;var o=" 	\f\xa0\ufeff"+"\n\r\u2028\u2029"+"\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000";var u=/\b__p \+= '';/g,f=/\b(__p \+=) '' \+/g,l=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var c=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var h=/\w*$/;var p=/^\s*function[ \n\r\t]+\w/;var d=/<%=([\s\S]+?)%>/g;var v=RegExp("^["+o+"]*0+(?=.$)");var m=/($^)/;var g=/\bthis\b/;var y=/['\n\r\t\u2028\u2029\\]/g;var b=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"];var w=0;var x="[object Arguments]",_="[object Array]",E="[object Boolean]",k="[object Date]",A="[object Function]",T="[object Number]",C="[object Object]",O="[object RegExp]",S="[object String]";var R={};R[A]=false;R[x]=R[_]=R[E]=R[k]=R[T]=R[C]=R[O]=R[S]=true;var N={leading:false,maxWait:0,trailing:false};var L={configurable:false,enumerable:false,value:null,writable:false};var I={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false};var P={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};var j=I[typeof window]&&window||this;var F=I[typeof exports]&&exports&&!exports.nodeType&&exports;var D=I[typeof module]&&module&&!module.nodeType&&module;var M=D&&D.exports===F&&F;var V=I[typeof global]&&global;if(V&&(V.global===V||V.window===V)){j=V}function U(e,t,n){var r=(n||0)-1,i=e?e.length:0;while(++r<i){if(e[r]===t){return r}}return-1}function $(e,t){var n=typeof t;e=e.cache;if(n=="boolean"||t==null){return e[t]?0:-1}if(n!="number"&&n!="string"){n="object"}var r=n=="number"?t:i+t;e=(e=e[n])&&e[r];return n=="object"?e&&U(e,t)>-1?0:-1:e?0:-1}function q(e){var t=this.cache,n=typeof e;if(n=="boolean"||e==null){t[e]=true}else{if(n!="number"&&n!="string"){n="object"}var r=n=="number"?e:i+e,a=t[n]||(t[n]={});if(n=="object"){(a[r]||(a[r]=[])).push(e)}else{a[r]=true}}}function W(e){return e.charCodeAt(0)}function B(e,t){var n=e.criteria,r=t.criteria,i=-1,a=n.length;while(++i<a){var s=n[i],o=r[i];if(s!==o){if(s>o||typeof s=="undefined"){return 1}if(s<o||typeof o=="undefined"){return-1}}}return e.index-t.index}function z(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],a=e[n-1];if(r&&typeof r=="object"&&i&&typeof i=="object"&&a&&typeof a=="object"){return false}var s=K();s["false"]=s["null"]=s["true"]=s["undefined"]=false;var o=K();o.array=e;o.cache=s;o.push=q;while(++t<n){o.push(e[t])}return o}function H(e){return"\\"+P[e]}function G(){return t.pop()||[]}function K(){return n.pop()||{array:null,cache:null,criteria:null,"false":false,index:0,"null":false,number:null,object:null,push:null,string:null,"true":false,undefined:false,value:null}}function Z(e){e.length=0;if(t.length<s){t.push(e)}}function Q(e){var t=e.cache;if(t){Q(t)}e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null;if(n.length<s){n.push(e)}}function X(e,t,n){t||(t=0);if(typeof n=="undefined"){n=e?e.length:0}var r=-1,i=n-t||0,a=Array(i<0?0:i);while(++r<i){a[r]=e[t+r]}return a}function Y(t){t=t?J.defaults(j.Object(),t,J.pick(j,b)):j;var n=t.Array,s=t.Boolean,P=t.Date,F=t.Function,D=t.Math,M=t.Number,V=t.Object,q=t.RegExp,et=t.String,tt=t.TypeError;var nt=[];var rt=V.prototype;var it=t._;var at=rt.toString;var st=q("^"+et(at).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");var ot=D.ceil,ut=t.clearTimeout,ft=D.floor,lt=F.prototype.toString,ct=Ht(ct=V.getPrototypeOf)&&ct,ht=rt.hasOwnProperty,pt=nt.push,dt=t.setTimeout,vt=nt.splice,mt=nt.unshift;var gt=function(){try{var e={},t=Ht(t=V.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}();var yt=Ht(yt=V.create)&&yt,bt=Ht(bt=n.isArray)&&bt,wt=t.isFinite,xt=t.isNaN,_t=Ht(_t=V.keys)&&_t,Et=D.max,kt=D.min,At=t.parseInt,Tt=D.random;var Ct={};Ct[_]=n;Ct[E]=s;Ct[k]=P;Ct[A]=F;Ct[C]=V;Ct[T]=M;Ct[O]=q;Ct[S]=et;function Ot(e){return e&&typeof e=="object"&&!Xt(e)&&ht.call(e,"__wrapped__")?e:new St(e)}function St(e,t){this.__chain__=!!t;this.__wrapped__=e}St.prototype=Ot.prototype;var Rt=Ot.support={};Rt.funcDecomp=!Ht(t.WinRTError)&&g.test(Y);Rt.funcNames=typeof F.name=="string";Ot.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:d,variable:"",imports:{_:Ot}};function Nt(e){var t=e[0],n=e[2],r=e[4];function i(){if(n){var e=X(n);pt.apply(e,arguments)}if(this instanceof i){var a=It(t.prototype),s=t.apply(a,e||arguments);return Tn(s)?s:a}return t.apply(r,e||arguments)}Gt(i,e);return i}function Lt(e,t,n,r,i){if(n){var a=n(e);if(typeof a!="undefined"){return a}}var s=Tn(e);if(s){var o=at.call(e);if(!R[o]){return e}var u=Ct[o];switch(o){case E:case k:return new u(+e);case T:case S:return new u(e);case O:a=u(e.source,h.exec(e));a.lastIndex=e.lastIndex;return a}}else{return e}var f=Xt(e);if(t){var l=!r;r||(r=G());i||(i=G());var c=r.length;while(c--){if(r[c]==e){return i[c]}}a=f?u(e.length):{}}else{a=f?X(e):an({},e)}if(f){if(ht.call(e,"index")){a.index=e.index}if(ht.call(e,"input")){a.input=e.input}}if(!t){return a}r.push(e);i.push(a);(f?Kn:dn)(e,function(e,s){a[s]=Lt(e,t,n,r,i)});if(l){Z(r);Z(i)}return a}function It(e,t){return Tn(e)?yt(e):{}}if(!yt){It=function(){function e(){}return function(n){if(Tn(n)){e.prototype=n;var r=new e;e.prototype=null}return r||t.Object()}}()}function Pt(e,t,n){if(typeof e!="function"){return Jr}if(typeof t=="undefined"||!("prototype"in e)){return e}var r=e.__bindData__;if(typeof r=="undefined"){if(Rt.funcNames){r=!e.name}r=r||!Rt.funcDecomp;if(!r){var i=lt.call(e);if(!Rt.funcNames){r=!p.test(i)}if(!r){r=g.test(i);Gt(e,r)}}}if(r===false||r!==true&&r[1]&1){return e}switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return Fr(e,t)}function jt(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],s=e[5];var o=n&1,u=n&2,f=n&4,l=n&8,c=t;function h(){var e=o?a:this;if(r){var p=X(r);pt.apply(p,arguments)}if(i||f){p||(p=X(arguments));if(i){pt.apply(p,i)}if(f&&p.length<s){n|=16&~32;return jt([t,l?n:n&~3,p,null,a,s])}}p||(p=arguments);if(u){t=e[c]}if(this instanceof h){e=It(t.prototype);var d=t.apply(e,p);return Tn(d)?d:e}return t.apply(e,p)}Gt(h,e);return h}function Ft(e,t){var n=-1,r=zt(),i=e?e.length:0,s=i>=a&&r===U,o=[];if(s){var u=z(t);if(u){r=$;t=u}else{s=false}}while(++n<i){var f=e[n];if(r(t,f)<0){o.push(f)}}if(s){Q(t)}return o}function Dt(e,t,n,r){var i=(r||0)-1,a=e?e.length:0,s=[];while(++i<a){var o=e[i];if(o&&typeof o=="object"&&typeof o.length=="number"&&(Xt(o)||Qt(o))){if(!t){o=Dt(o,t,n)}var u=-1,f=o.length,l=s.length;s.length+=f;while(++u<f){s[l++]=o[u]}}else if(!n){s.push(o)}}return s}function Mt(e,t,n,r,i,a){if(n){var s=n(e,t);if(typeof s!="undefined"){return!!s}}if(e===t){return e!==0||1/e==1/t}var o=typeof e,u=typeof t;if(e===e&&!(e&&I[o])&&!(t&&I[u])){return false}if(e==null||t==null){return e===t}var f=at.call(e),l=at.call(t);if(f==x){f=C}if(l==x){l=C}if(f!=l){return false}switch(f){case E:case k:return+e==+t;case T:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case O:case S:return e==et(t)}var c=f==_;if(!c){var h=ht.call(e,"__wrapped__"),p=ht.call(t,"__wrapped__");if(h||p){return Mt(h?e.__wrapped__:e,p?t.__wrapped__:t,n,r,i,a)}if(f!=C){return false}var d=e.constructor,v=t.constructor;if(d!=v&&!(An(d)&&d instanceof d&&An(v)&&v instanceof v)&&("constructor"in e&&"constructor"in t)){return false}}var m=!i;i||(i=G());a||(a=G());var g=i.length;while(g--){if(i[g]==e){return a[g]==t}}var y=0;s=true;i.push(e);a.push(t);if(c){g=e.length;y=t.length;s=y==g;if(s||r){while(y--){var b=g,w=t[y];if(r){while(b--){if(s=Mt(e[b],w,n,r,i,a)){break}}}else if(!(s=Mt(e[y],w,n,r,i,a))){break}}}}else{hn(t,function(t,o,u){if(ht.call(u,o)){y++;return s=ht.call(e,o)&&Mt(e[o],t,n,r,i,a)}});if(s&&!r){hn(e,function(e,t,n){if(ht.call(n,t)){return s=--y>-1}})}}i.pop();a.pop();if(m){Z(i);Z(a)}return s}function Vt(e,t,n,r,i){(Xt(t)?Kn:dn)(t,function(t,a){var s,o,u=t,f=e[a];if(t&&((o=Xt(t))||Rn(t))){var l=r.length;while(l--){if(s=r[l]==t){f=i[l];break}}if(!s){var c;if(n){u=n(f,t);if(c=typeof u!="undefined"){f=u}}if(!c){f=o?Xt(f)?f:[]:Rn(f)?f:{}}r.push(t);i.push(f);if(!c){Vt(f,t,n,r,i)}}}else{if(n){u=n(f,t);if(typeof u=="undefined"){u=t}}if(typeof u!="undefined"){f=u}}e[a]=f})}function Ut(e,t){return e+ft(Tt()*(t-e+1))}function $t(e,t,n){var r=-1,i=zt(),s=e?e.length:0,o=[];var u=!t&&s>=a&&i===U,f=n||u?G():o;if(u){var l=z(f);i=$;f=l}while(++r<s){var c=e[r],h=n?n(c,r,e):c;if(t?!r||f[f.length-1]!==h:i(f,h)<0){if(n||u){f.push(h)}o.push(c)}}if(u){Z(f.array);Q(f)}else if(n){Z(f)}return o}function qt(e){return function(t,n,r){var i={};n=Ot.createCallback(n,r,3);var a=-1,s=t?t.length:0;if(typeof s=="number"){while(++a<s){var o=t[a];e(i,o,n(o,a,t),t)}}else{dn(t,function(t,r,a){e(i,t,n(t,r,a),a)})}return i}}function Wt(e,t,n,r,i,a){var s=t&1,o=t&2,u=t&4,f=t&8,l=t&16,c=t&32;if(!o&&!An(e)){throw new tt}if(l&&!n.length){t&=~16;l=n=false}if(c&&!r.length){t&=~32;c=r=false}var h=e&&e.__bindData__;if(h&&h!==true){h=X(h);if(h[2]){h[2]=X(h[2])}if(h[3]){h[3]=X(h[3])}if(s&&!(h[1]&1)){h[4]=i}if(!s&&h[1]&1){t|=8}if(u&&!(h[1]&4)){h[5]=a}if(l){pt.apply(h[2]||(h[2]=[]),n)}if(c){mt.apply(h[3]||(h[3]=[]),r)}h[1]|=t;return Wt.apply(null,h)}var p=t==1||t===17?Nt:jt;return p([e,t,n,r,i,a])}function Bt(e){return en[e]}function zt(){var e=(e=Ot.indexOf)===br?U:e;return e}function Ht(e){return typeof e=="function"&&st.test(e)}var Gt=!gt?ni:function(e,t){L.value=t;gt(e,"__bindData__",L)};function Kt(e){var t,n;if(!(e&&at.call(e)==C)||(t=e.constructor,An(t)&&!(t instanceof t))){return false}hn(e,function(e,t){n=t});return typeof n=="undefined"||ht.call(e,n)}function Zt(e){return tn[e]}function Qt(e){return e&&typeof e=="object"&&typeof e.length=="number"&&at.call(e)==x||false}var Xt=bt||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&at.call(e)==_||false};var Yt=function(e){var t,n=e,r=[];if(!n)return r;if(!I[typeof e])return r;for(t in n){if(ht.call(n,t)){r.push(t)}}return r};var Jt=!_t?Yt:function(e){if(!Tn(e)){return[]}return _t(e)};var en={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var tn=yn(en);var nn=q("("+Jt(tn).join("|")+")","g"),rn=q("["+Jt(en).join("")+"]","g");var an=function(e,t,n){var r,i=e,a=i;if(!i)return a;var s=arguments,o=0,u=typeof n=="number"?2:s.length;if(u>3&&typeof s[u-2]=="function"){var f=Pt(s[--u-1],s[u--],2)}else if(u>2&&typeof s[u-1]=="function"){f=s[--u]}while(++o<u){i=s[o];if(i&&I[typeof i]){var l=-1,c=I[typeof i]&&Jt(i),h=c?c.length:0;while(++l<h){r=c[l];a[r]=f?f(a[r],i[r]):i[r]}}}return a};function sn(e,t,n,r){if(typeof t!="boolean"&&t!=null){r=n;n=t;t=false}return Lt(e,t,typeof n=="function"&&Pt(n,r,1))}function on(e,t,n){return Lt(e,true,typeof t=="function"&&Pt(t,n,1))}function un(e,t){var n=It(e);return t?an(n,t):n}var fn=function(e,t,n){var r,i=e,a=i;if(!i)return a;var s=arguments,o=0,u=typeof n=="number"?2:s.length;while(++o<u){i=s[o];if(i&&I[typeof i]){var f=-1,l=I[typeof i]&&Jt(i),c=l?l.length:0;while(++f<c){r=l[f];if(typeof a[r]=="undefined")a[r]=i[r]}}}return a};function ln(e,t,n){var r;t=Ot.createCallback(t,n,3);dn(e,function(e,n,i){if(t(e,n,i)){r=n;return false}});return r}function cn(e,t,n){var r;t=Ot.createCallback(t,n,3);vn(e,function(e,n,i){if(t(e,n,i)){r=n;return false}});return r}var hn=function(e,t,n){var r,i=e,a=i;if(!i)return a;if(!I[typeof i])return a;t=t&&typeof n=="undefined"?t:Pt(t,n,3);for(r in i){if(t(i[r],r,e)===false)return a}return a};function pn(e,t,n){var r=[];hn(e,function(e,t){r.push(t,e)});var i=r.length;t=Pt(t,n,3);while(i--){if(t(r[i--],r[i],e)===false){break}}return e}var dn=function(e,t,n){var r,i=e,a=i;if(!i)return a;if(!I[typeof i])return a;t=t&&typeof n=="undefined"?t:Pt(t,n,3);var s=-1,o=I[typeof i]&&Jt(i),u=o?o.length:0;while(++s<u){r=o[s];if(t(i[r],r,e)===false)return a}return a};function vn(e,t,n){var r=Jt(e),i=r.length;t=Pt(t,n,3);while(i--){var a=r[i];if(t(e[a],a,e)===false){break}}return e}function mn(e){var t=[];hn(e,function(e,n){if(An(e)){t.push(n)}});return t.sort()}function gn(e,t){return e?ht.call(e,t):false}function yn(e){var t=-1,n=Jt(e),r=n.length,i={};while(++t<r){var a=n[t];i[e[a]]=a}return i}function bn(e){return e===true||e===false||e&&typeof e=="object"&&at.call(e)==E||false}function wn(e){return e&&typeof e=="object"&&at.call(e)==k||false}function xn(e){return e&&e.nodeType===1||false}function _n(e){var t=true;if(!e){return t}var n=at.call(e),r=e.length;if(n==_||n==S||n==x||n==C&&typeof r=="number"&&An(e.splice)){return!r}dn(e,function(){return t=false});return t}function En(e,t,n,r){return Mt(e,t,typeof n=="function"&&Pt(n,r,2))}function kn(e){return wt(e)&&!xt(parseFloat(e))}function An(e){return typeof e=="function"}function Tn(e){return!!(e&&I[typeof e])}function Cn(e){return Sn(e)&&e!=+e}function On(e){return e===null}function Sn(e){return typeof e=="number"||e&&typeof e=="object"&&at.call(e)==T||false}var Rn=!ct?Kt:function(e){if(!(e&&at.call(e)==C)){return false}var t=e.valueOf,n=Ht(t)&&(n=ct(t))&&ct(n);return n?e==n||ct(e)==n:Kt(e)};function Nn(e){return e&&typeof e=="object"&&at.call(e)==O||false}function Ln(e){return typeof e=="string"||e&&typeof e=="object"&&at.call(e)==S||false}function In(e){return typeof e=="undefined"}function Pn(e,t,n){var r={};t=Ot.createCallback(t,n,3);dn(e,function(e,n,i){r[n]=t(e,n,i)});return r}function jn(e){var t=arguments,n=2;if(!Tn(e)){return e}if(typeof t[2]!="number"){n=t.length}if(n>3&&typeof t[n-2]=="function"){var r=Pt(t[--n-1],t[n--],2)}else if(n>2&&typeof t[n-1]=="function"){r=t[--n]}var i=X(arguments,1,n),a=-1,s=G(),o=G();while(++a<n){Vt(e,i[a],r,s,o)}Z(s);Z(o);return e}function Fn(e,t,n){var r={};if(typeof t!="function"){var i=[];hn(e,function(e,t){i.push(t)});i=Ft(i,Dt(arguments,true,false,1));var a=-1,s=i.length;while(++a<s){var o=i[a];r[o]=e[o]}}else{t=Ot.createCallback(t,n,3);hn(e,function(e,n,i){if(!t(e,n,i)){r[n]=e}})}return r}function Dn(e){var t=-1,r=Jt(e),i=r.length,a=n(i);while(++t<i){var s=r[t];a[t]=[s,e[s]]}return a}function Mn(e,t,n){var r={};if(typeof t!="function"){var i=-1,a=Dt(arguments,true,false,1),s=Tn(e)?a.length:0;while(++i<s){var o=a[i];if(o in e){r[o]=e[o]}}}else{t=Ot.createCallback(t,n,3);hn(e,function(e,n,i){if(t(e,n,i)){r[n]=e}})}return r}function Vn(e,t,n,r){var i=Xt(e);if(n==null){if(i){n=[]}else{var a=e&&e.constructor,s=a&&a.prototype;n=It(s)}}if(t){t=Ot.createCallback(t,r,4);(i?Kn:dn)(e,function(e,r,i){return t(n,e,r,i)})}return n}function Un(e){var t=-1,r=Jt(e),i=r.length,a=n(i);while(++t<i){a[t]=e[r[t]]}return a}function $n(e){var t=arguments,r=-1,i=Dt(t,true,false,1),a=t[2]&&t[2][t[1]]===e?1:i.length,s=n(a);while(++r<a){s[r]=e[i[r]]}return s}function qn(e,t,n){var r=-1,i=zt(),a=e?e.length:0,s=false;n=(n<0?Et(0,a+n):n)||0;if(Xt(e)){s=i(e,t,n)>-1}else if(typeof a=="number"){s=(Ln(e)?e.indexOf(t,n):i(e,t,n))>-1}else{dn(e,function(e){if(++r>=n){return!(s=e===t)}})}return s}var Wn=qt(function(e,t,n){ht.call(e,n)?e[n]++:e[n]=1});function Bn(e,t,n){var r=true;t=Ot.createCallback(t,n,3);var i=-1,a=e?e.length:0;if(typeof a=="number"){while(++i<a){if(!(r=!!t(e[i],i,e))){break}}}else{dn(e,function(e,n,i){return r=!!t(e,n,i)})}return r}function zn(e,t,n){var r=[];t=Ot.createCallback(t,n,3);var i=-1,a=e?e.length:0;if(typeof a=="number"){while(++i<a){var s=e[i];if(t(s,i,e)){r.push(s)}}}else{dn(e,function(e,n,i){if(t(e,n,i)){r.push(e)}})}return r}function Hn(e,t,n){t=Ot.createCallback(t,n,3);var r=-1,i=e?e.length:0;if(typeof i=="number"){while(++r<i){var a=e[r];if(t(a,r,e)){return a}}}else{var s;dn(e,function(e,n,r){if(t(e,n,r)){s=e;return false}});return s}}function Gn(e,t,n){var r;t=Ot.createCallback(t,n,3);Zn(e,function(e,n,i){if(t(e,n,i)){r=e;return false}});return r}function Kn(e,t,n){var r=-1,i=e?e.length:0;t=t&&typeof n=="undefined"?t:Pt(t,n,3);if(typeof i=="number"){while(++r<i){if(t(e[r],r,e)===false){break}}}else{dn(e,t)}return e}function Zn(e,t,n){var r=e?e.length:0;t=t&&typeof n=="undefined"?t:Pt(t,n,3);if(typeof r=="number"){while(r--){if(t(e[r],r,e)===false){break}}}else{var i=Jt(e);r=i.length;dn(e,function(e,n,a){n=i?i[--r]:--r;return t(a[n],n,a)})}return e}var Qn=qt(function(e,t,n){(ht.call(e,n)?e[n]:e[n]=[]).push(t)});var Xn=qt(function(e,t,n){e[n]=t});function Yn(e,t){var r=X(arguments,2),i=-1,a=typeof t=="function",s=e?e.length:0,o=n(typeof s=="number"?s:0);Kn(e,function(e){o[++i]=(a?t:e[t]).apply(e,r)});return o}function Jn(e,t,r){var i=-1,a=e?e.length:0;t=Ot.createCallback(t,r,3);if(typeof a=="number"){var s=n(a);while(++i<a){s[i]=t(e[i],i,e)}}else{s=[];dn(e,function(e,n,r){s[++i]=t(e,n,r)})}return s}function er(e,t,n){var r=-Infinity,i=r;if(typeof t!="function"&&n&&n[t]===e){t=null}if(t==null&&Xt(e)){var a=-1,s=e.length;while(++a<s){var o=e[a];if(o>i){i=o}}}else{t=t==null&&Ln(e)?W:Ot.createCallback(t,n,3);Kn(e,function(e,n,a){var s=t(e,n,a);if(s>r){r=s;i=e}})}return i}function tr(e,t,n){var r=Infinity,i=r;if(typeof t!="function"&&n&&n[t]===e){t=null}if(t==null&&Xt(e)){var a=-1,s=e.length;while(++a<s){var o=e[a];if(o<i){i=o}}}else{t=t==null&&Ln(e)?W:Ot.createCallback(t,n,3);Kn(e,function(e,n,a){var s=t(e,n,a);if(s<r){r=s;i=e}})}return i}var nr=Jn;function rr(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=Ot.createCallback(t,r,4);var a=-1,s=e.length;if(typeof s=="number"){if(i){n=e[++a]}while(++a<s){n=t(n,e[a],a,e)}}else{dn(e,function(e,r,a){n=i?(i=false,e):t(n,e,r,a)})}return n}function ir(e,t,n,r){var i=arguments.length<3;t=Ot.createCallback(t,r,4);Zn(e,function(e,r,a){n=i?(i=false,e):t(n,e,r,a)});return n}function ar(e,t,n){t=Ot.createCallback(t,n,3);return zn(e,function(e,n,r){return!t(e,n,r)})}function sr(t,n,r){if(t&&typeof t.length!="number"){t=Un(t)}if(n==null||r){return t?t[Ut(0,t.length-1)]:e}var i=or(t);i.length=kt(Et(0,n),i.length);return i}function or(e){var t=-1,r=e?e.length:0,i=n(typeof r=="number"?r:0);Kn(e,function(e){var n=Ut(0,++t);i[t]=i[n];i[n]=e});return i}function ur(e){var t=e?e.length:0;return typeof t=="number"?t:Jt(e).length}function fr(e,t,n){var r;t=Ot.createCallback(t,n,3);var i=-1,a=e?e.length:0;if(typeof a=="number"){while(++i<a){if(r=t(e[i],i,e)){break}}}else{dn(e,function(e,n,i){return!(r=t(e,n,i))})}return!!r}function lr(e,t,r){var i=-1,a=Xt(t),s=e?e.length:0,o=n(typeof s=="number"?s:0);if(!a){t=Ot.createCallback(t,r,3)}Kn(e,function(e,n,r){var s=o[++i]=K();if(a){s.criteria=Jn(t,function(t){return e[t]})}else{(s.criteria=G())[0]=t(e,n,r)}s.index=i;s.value=e});s=o.length;o.sort(B);while(s--){var u=o[s];o[s]=u.value;if(!a){Z(u.criteria)}Q(u)}return o}function cr(e){if(e&&typeof e.length=="number"){return X(e)}return Un(e)}var hr=zn;function pr(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];if(i){r.push(i)}}return r}function dr(e){return Ft(e,Dt(arguments,true,true,1))}function vr(e,t,n){var r=-1,i=e?e.length:0;t=Ot.createCallback(t,n,3);while(++r<i){if(t(e[r],r,e)){return r}}return-1}function mr(e,t,n){var r=e?e.length:0;t=Ot.createCallback(t,n,3);while(r--){if(t(e[r],r,e)){return r}}return-1}function gr(t,n,r){var i=0,a=t?t.length:0;if(typeof n!="number"&&n!=null){var s=-1;n=Ot.createCallback(n,r,3);while(++s<a&&n(t[s],s,t)){i++}}else{i=n;if(i==null||r){return t?t[0]:e}}return X(t,0,kt(Et(0,i),a))}function yr(e,t,n,r){if(typeof t!="boolean"&&t!=null){r=n;n=typeof t!="function"&&r&&r[t]===e?null:t;t=false}if(n!=null){e=Jn(e,n,r)}return Dt(e,t)}function br(e,t,n){if(typeof n=="number"){var r=e?e.length:0;n=n<0?Et(0,r+n):n||0}else if(n){var i=Or(e,t);return e[i]===t?i:-1}return U(e,t,n)}function wr(e,t,n){var r=0,i=e?e.length:0;if(typeof t!="number"&&t!=null){var a=i;t=Ot.createCallback(t,n,3);while(a--&&t(e[a],a,e)){r++}}else{r=t==null||n?1:t||r}return X(e,0,kt(Et(0,i-r),i))}function xr(){var e=[],t=-1,n=arguments.length,r=G(),i=zt(),s=i===U,o=G();while(++t<n){var u=arguments[t];if(Xt(u)||Qt(u)){e.push(u);r.push(s&&u.length>=a&&z(t?e[t]:o))}}var f=e[0],l=-1,c=f?f.length:0,h=[];e:while(++l<c){var p=r[0];u=f[l];if((p?$(p,u):i(o,u))<0){t=n;(p||o).push(u);while(--t){p=r[t];if((p?$(p,u):i(e[t],u))<0){continue e}}h.push(u)}}while(n--){p=r[n];if(p){Q(p)}}Z(r);Z(o);return h}function _r(t,n,r){var i=0,a=t?t.length:0;if(typeof n!="number"&&n!=null){var s=a;n=Ot.createCallback(n,r,3);while(s--&&n(t[s],s,t)){i++}}else{i=n;if(i==null||r){return t?t[a-1]:e}}return X(t,Et(0,a-i))}function Er(e,t,n){var r=e?e.length:0;if(typeof n=="number"){r=(n<0?Et(0,r+n):kt(n,r-1))+1}while(r--){if(e[r]===t){return r}}return-1}function kr(e){var t=arguments,n=0,r=t.length,i=e?e.length:0;while(++n<r){var a=-1,s=t[n];while(++a<i){if(e[a]===s){vt.call(e,a--,1);i--}}}return e}function Ar(e,t,r){e=+e||0;r=typeof r=="number"?r:+r||1;if(t==null){t=e;e=0}var i=-1,a=Et(0,ot((t-e)/(r||1))),s=n(a);while(++i<a){s[i]=e;e+=r}return s}function Tr(e,t,n){var r=-1,i=e?e.length:0,a=[];t=Ot.createCallback(t,n,3);while(++r<i){var s=e[r];if(t(s,r,e)){a.push(s);vt.call(e,r--,1);i--}}return a}function Cr(e,t,n){if(typeof t!="number"&&t!=null){var r=0,i=-1,a=e?e.length:0;t=Ot.createCallback(t,n,3);while(++i<a&&t(e[i],i,e)){r++}}else{r=t==null||n?1:Et(0,t)}return X(e,r)}function Or(e,t,n,r){var i=0,a=e?e.length:i;n=n?Ot.createCallback(n,r,1):Jr;t=n(t);while(i<a){var s=i+a>>>1;n(e[s])<t?i=s+1:a=s}return i}function Sr(){return $t(Dt(arguments,true,true))}function Rr(e,t,n,r){if(typeof t!="boolean"&&t!=null){r=n;n=typeof t!="function"&&r&&r[t]===e?null:t;t=false}if(n!=null){n=Ot.createCallback(n,r,3)}return $t(e,t,n)}function Nr(e){return Ft(e,X(arguments,1))}function Lr(){var e=-1,t=arguments.length;while(++e<t){var n=arguments[e];if(Xt(n)||Qt(n)){var r=r?$t(Ft(r,n).concat(Ft(n,r))):n}}return r||[]}function Ir(){var e=arguments.length>1?arguments:arguments[0],t=-1,r=e?er(nr(e,"length")):0,i=n(r<0?0:r);while(++t<r){i[t]=nr(e,t)}return i}function Pr(e,t){var n=-1,r=e?e.length:0,i={};if(!t&&r&&!Xt(e[0])){t=[]}while(++n<r){var a=e[n];if(t){i[a]=t[n]}else if(a){i[a[0]]=a[1]}}return i}function jr(e,t){if(!An(t)){throw new tt}return function(){if(--e<1){return t.apply(this,arguments)}}}function Fr(e,t){return arguments.length>2?Wt(e,17,X(arguments,2),null,t):Wt(e,1,null,null,t)}function Dr(e){var t=arguments.length>1?Dt(arguments,true,false,1):mn(e),n=-1,r=t.length;while(++n<r){var i=t[n];e[i]=Wt(e[i],1,null,null,e)}return e}function Mr(e,t){return arguments.length>2?Wt(t,19,X(arguments,2),null,e):Wt(t,3,null,null,e)}function Vr(){var e=arguments,t=e.length;while(t--){if(!An(e[t])){throw new tt}}return function(){var t=arguments,n=e.length;while(n--){t=[e[n].apply(this,t)]}return t[0]}}function Ur(e,t){t=typeof t=="number"?t:+t||e.length;return Wt(e,4,null,null,null,t)}function $r(t,n,r){var i,a,s,o,u,f,l,c=0,h=false,p=true;if(!An(t)){throw new tt}n=Et(0,n)||0;if(r===true){var d=true;p=false}else if(Tn(r)){d=r.leading;h="maxWait"in r&&(Et(n,r.maxWait)||0);p="trailing"in r?r.trailing:p}var v=function(){var r=n-(ri()-o);if(r<=0){if(a){ut(a)}var h=l;a=f=l=e;if(h){c=ri();s=t.apply(u,i);if(!f&&!a){i=u=null}}}else{f=dt(v,r)}};var m=function(){if(f){ut(f)}a=f=l=e;if(p||h!==n){c=ri();s=t.apply(u,i);if(!f&&!a){i=u=null}}};return function(){i=arguments;o=ri();u=this;l=p&&(f||!d);if(h===false){var e=d&&!f}else{if(!a&&!d){c=o}var r=h-(o-c),g=r<=0;if(g){if(a){a=ut(a)}c=o;s=t.apply(u,i)}else if(!a){a=dt(m,r)}}if(g&&f){f=ut(f)}else if(!f&&n!==h){f=dt(v,n)}if(e){g=true;s=t.apply(u,i)}if(g&&!f&&!a){i=u=null}return s}}function qr(t){if(!An(t)){throw new tt}var n=X(arguments,1);return dt(function(){t.apply(e,n)},1)}function Wr(t,n){if(!An(t)){throw new tt}var r=X(arguments,2);return dt(function(){t.apply(e,r)},n)}function Br(e,t){if(!An(e)){throw new tt}var n=function(){var r=n.cache,a=t?t.apply(this,arguments):i+arguments[0];return ht.call(r,a)?r[a]:r[a]=e.apply(this,arguments)};n.cache={};return n}function zr(e){var t,n;if(!An(e)){throw new tt}return function(){if(t){return n}t=true;n=e.apply(this,arguments);e=null;return n}}function Hr(e){return Wt(e,16,X(arguments,1))}function Gr(e){return Wt(e,32,null,X(arguments,1))}function Kr(e,t,n){var r=true,i=true;if(!An(e)){throw new tt}if(n===false){r=false}else if(Tn(n)){r="leading"in n?n.leading:r;i="trailing"in n?n.trailing:i}N.leading=r;N.maxWait=t;N.trailing=i;return $r(e,t,N)}function Zr(e,t){return Wt(t,16,[e])}function Qr(e){return function(){return e}}function Xr(e,t,n){var r=typeof e;if(e==null||r=="function"){return Pt(e,t,n)}if(r!="object"){return ai(e)}var i=Jt(e),a=i[0],s=e[a];if(i.length==1&&s===s&&!Tn(s)){return function(e){var t=e[a];return s===t&&(s!==0||1/s==1/t)}}return function(t){var n=i.length,r=false;while(n--){if(!(r=Mt(t[i[n]],e[i[n]],null,true))){break}}return r}}function Yr(e){return e==null?"":et(e).replace(rn,Bt)}function Jr(e){return e}function ei(e,t,n){var r=true,i=t&&mn(t);if(!t||!n&&!i.length){if(n==null){n=t}a=St;t=e;e=Ot;i=mn(t)}if(n===false){r=false}else if(Tn(n)&&"chain"in n){r=n.chain}var a=e,s=An(a);Kn(i,function(n){var i=e[n]=t[n];if(s){a.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,s=[n];pt.apply(s,arguments);var o=i.apply(e,s);if(r||t){if(n===o&&Tn(o)){return this}o=new a(o);o.__chain__=t}return o}}})}function ti(){t._=it;return this}function ni(){}var ri=Ht(ri=P.now)&&ri||function(){return(new P).getTime()};var ii=At(o+"08")==8?At:function(e,t){return At(Ln(e)?e.replace(v,""):e,t||0)};function ai(e){return function(t){return t[e]}}function si(e,t,n){var r=e==null,i=t==null;if(n==null){if(typeof e=="boolean"&&i){n=e;e=1}else if(!i&&typeof t=="boolean"){n=t;i=true}}if(r&&i){t=1}e=+e||0;if(i){t=e;e=0}else{t=+t||0}if(n||e%1||t%1){var a=Tt();return kt(e+a*(t-e+parseFloat("1e-"+((a+"").length-1))),t)}return Ut(e,t)}function oi(e,t){if(e){var n=e[t];return An(n)?e[t]():n}}function ui(t,n,r){var i=Ot.templateSettings;t=et(t||"");r=fn({},r,i);var a=fn({},r.imports,i.imports),s=Jt(a),o=Un(a);var h,p=0,v=r.interpolate||m,g="__p += '";var b=q((r.escape||m).source+"|"+v.source+"|"+(v===d?c:m).source+"|"+(r.evaluate||m).source+"|$","g");t.replace(b,function(e,n,r,i,a,s){r||(r=i);g+=t.slice(p,s).replace(y,H);if(n){g+="' +\n__e("+n+") +\n'"}if(a){h=true;g+="';\n"+a+";\n__p += '"}if(r){g+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"}p=s+e.length;return e});g+="';\n";var x=r.variable,_=x;if(!_){x="obj";g="with ("+x+") {\n"+g+"\n}\n"}g=(h?g.replace(u,""):g).replace(f,"$1").replace(l,"$1;");g="function("+x+") {\n"+(_?"":x+" || ("+x+" = {});\n")+"var __t, __p = '', __e = _.escape"+(h?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+g+"return __p\n}";var E="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+w++ +"]")+"\n*/";try{var k=F(s,"return "+g+E).apply(e,o)}catch(A){A.source=g;throw A}if(n){return k(n)}k.source=g;return k}function fi(e,t,r){e=(e=+e)>-1?e:0;var i=-1,a=n(e);t=Pt(t,r,1);while(++i<e){a[i]=t(i)}return a}function li(e){return e==null?"":et(e).replace(nn,Zt)}function ci(e){var t=++r;return et(e==null?"":e)+t}function hi(e){e=new St(e);e.__chain__=true;return e}function pi(e,t){t(e);return e}function di(){this.__chain__=true;return this}function vi(){return et(this.__wrapped__)}function mi(){return this.__wrapped__}Ot.after=jr;Ot.assign=an;Ot.at=$n;Ot.bind=Fr;Ot.bindAll=Dr;Ot.bindKey=Mr;Ot.chain=hi;Ot.compact=pr;Ot.compose=Vr;Ot.constant=Qr;Ot.countBy=Wn;Ot.create=un;Ot.createCallback=Xr;Ot.curry=Ur;Ot.debounce=$r;Ot.defaults=fn;Ot.defer=qr;Ot.delay=Wr;Ot.difference=dr;Ot.filter=zn;Ot.flatten=yr;Ot.forEach=Kn;Ot.forEachRight=Zn;Ot.forIn=hn;Ot.forInRight=pn;Ot.forOwn=dn;Ot.forOwnRight=vn;Ot.functions=mn;Ot.groupBy=Qn;Ot.indexBy=Xn;Ot.initial=wr;Ot.intersection=xr;Ot.invert=yn;Ot.invoke=Yn;Ot.keys=Jt;Ot.map=Jn;Ot.mapValues=Pn;Ot.max=er;Ot.memoize=Br;Ot.merge=jn;Ot.min=tr;Ot.omit=Fn;Ot.once=zr;Ot.pairs=Dn;Ot.partial=Hr;Ot.partialRight=Gr;Ot.pick=Mn;Ot.pluck=nr;Ot.property=ai;Ot.pull=kr;Ot.range=Ar;Ot.reject=ar;Ot.remove=Tr;Ot.rest=Cr;Ot.shuffle=or;Ot.sortBy=lr;Ot.tap=pi;Ot.throttle=Kr;Ot.times=fi;Ot.toArray=cr;Ot.transform=Vn;Ot.union=Sr;Ot.uniq=Rr;Ot.values=Un;Ot.where=hr;Ot.without=Nr;Ot.wrap=Zr;Ot.xor=Lr;Ot.zip=Ir;Ot.zipObject=Pr;Ot.collect=Jn;Ot.drop=Cr;Ot.each=Kn;Ot.eachRight=Zn;Ot.extend=an;Ot.methods=mn;Ot.object=Pr;Ot.select=zn;Ot.tail=Cr;Ot.unique=Rr;Ot.unzip=Ir;ei(Ot);Ot.clone=sn;Ot.cloneDeep=on;Ot.contains=qn;Ot.escape=Yr;Ot.every=Bn;Ot.find=Hn;Ot.findIndex=vr;Ot.findKey=ln;Ot.findLast=Gn;Ot.findLastIndex=mr;Ot.findLastKey=cn;Ot.has=gn;Ot.identity=Jr;Ot.indexOf=br;Ot.isArguments=Qt;Ot.isArray=Xt;Ot.isBoolean=bn;Ot.isDate=wn;Ot.isElement=xn;Ot.isEmpty=_n;Ot.isEqual=En;Ot.isFinite=kn;Ot.isFunction=An;Ot.isNaN=Cn;Ot.isNull=On;Ot.isNumber=Sn;Ot.isObject=Tn;Ot.isPlainObject=Rn;Ot.isRegExp=Nn;Ot.isString=Ln;Ot.isUndefined=In;Ot.lastIndexOf=Er;Ot.mixin=ei;Ot.noConflict=ti;Ot.noop=ni;Ot.now=ri;Ot.parseInt=ii;Ot.random=si;Ot.reduce=rr;Ot.reduceRight=ir;Ot.result=oi;Ot.runInContext=Y;Ot.size=ur;Ot.some=fr;Ot.sortedIndex=Or;Ot.template=ui;Ot.unescape=li;Ot.uniqueId=ci;Ot.all=Bn;Ot.any=fr;Ot.detect=Hn;Ot.findWhere=Hn;Ot.foldl=rr;Ot.foldr=ir;Ot.include=qn;Ot.inject=rr;ei(function(){var e={};dn(Ot,function(t,n){if(!Ot.prototype[n]){e[n]=t}});return e}(),false);Ot.first=gr;Ot.last=_r;Ot.sample=sr;Ot.take=gr;Ot.head=gr;dn(Ot,function(e,t){var n=t!=="sample";if(!Ot.prototype[t]){Ot.prototype[t]=function(t,r){var i=this.__chain__,a=e(this.__wrapped__,t,r);return!i&&(t==null||r&&!(n&&typeof t=="function"))?a:new St(a,i)}}});Ot.VERSION="2.4.1";Ot.prototype.chain=di;Ot.prototype.toString=vi;Ot.prototype.value=mi;Ot.prototype.valueOf=mi;Kn(["join","pop","shift"],function(e){var t=nt[e];Ot.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new St(n,e):n}});Kn(["push","reverse","sort","unshift"],function(e){var t=nt[e];Ot.prototype[e]=function(){t.apply(this.__wrapped__,arguments);return this}});Kn(["concat","slice","splice"],function(e){var t=nt[e];Ot.prototype[e]=function(){return new St(t.apply(this.__wrapped__,arguments),this.__chain__)}});return Ot}var J=Y();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){j._=J;define(function(){return J})}else if(F&&D){if(M){(D.exports=J)._=J}else{F._=J}}else{j._=J}}).call(this);(function(){function e(t,n,r){var i=e.resolve(t);if(null==i){r=r||t;n=n||"root";var a=new Error('Failed to require "'+r+'" from "'+n+'"');a.path=r;a.parent=n;a.require=true;throw a}var s=e.modules[i];if(!s._resolving&&!s.exports){var o={};o.exports={};o.client=o.component=true;s._resolving=true;s.call(this,o.exports,e.relative(i),o);delete s._resolving;s.exports=o.exports}return s.exports}e.modules={};e.aliases={};e.resolve=function(t){if(t.charAt(0)==="/")t=t.slice(1);var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"];for(var r=0;r<n.length;r++){var t=n[r];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}};e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/");t=t.split("/");for(var r=0;r<t.length;++r){if(".."==t[r]){e.pop()}else if("."!=t[r]&&""!=t[r]){n.push(t[r])}}return e.concat(n).join("/")};e.register=function(t,n){e.modules[t]=n};e.alias=function(t,n){if(!e.modules.hasOwnProperty(t)){throw new Error('Failed to alias "'+t+'", it does not exist')}e.aliases[n]=t};e.relative=function(t){var n=e.normalize(t,"..");function r(e,t){var n=e.length;while(n--){if(e[n]===t)return n}return-1}function i(n){var r=i.resolve(n);return e(r,t,n)}i.resolve=function(i){var a=i.charAt(0);if("/"==a)return i.slice(1);if("."==a)return e.normalize(n,i);var s=t.split("/");var o=r(s,"deps")+1;if(!o)o=0;i=s.slice(0,o+1).join("/")+"/deps/"+i;return i};i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))};return i};e.register("component-emitter/index.js",function(e,t,n){n.exports=r;function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype){e[t]=r.prototype[t]}return e}r.prototype.on=r.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[e]=this._callbacks[e]||[]).push(t);return this};r.prototype.once=function(e,t){var n=this;this._callbacks=this._callbacks||{};function r(){n.off(e,r);
t.apply(this,arguments)}r.fn=t;this.on(e,r);return this};r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var n=this._callbacks[e];if(!n)return this;if(1==arguments.length){delete this._callbacks[e];return this}var r;for(var i=0;i<n.length;i++){r=n[i];if(r===t||r.fn===t){n.splice(i,1);break}}return this};r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r){n[r].apply(this,t)}}return this};r.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[e]||[]};r.prototype.hasListeners=function(e){return!!this.listeners(e).length}});e.register("component-reduce/index.js",function(e,t,n){n.exports=function(e,t,n){var r=0;var i=e.length;var a=arguments.length==3?n:e[r++];while(r<i){a=t.call(null,a,e[r],++r,e)}return a}});e.register("superagent/lib/client.js",function(e,t,n){var r=t("emitter");var i=t("reduce");var a="undefined"==typeof window?this:window;function s(){}function o(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return true;default:return false}}function u(){if(a.XMLHttpRequest&&("file:"!=a.location.protocol||!a.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}return false}var f="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function l(e){return e===Object(e)}function c(e){if(!l(e))return e;var t=[];for(var n in e){if(null!=e[n]){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}}return t.join("&")}y.serializeObject=c;function h(e){var t={};var n=e.split("&");var r;var i;for(var a=0,s=n.length;a<s;++a){i=n[a];r=i.split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}y.parseString=h;y.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};y.serialize={"application/x-www-form-urlencoded":c,"application/json":JSON.stringify};y.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse};function p(e){var t=e.split(/\r?\n/);var n={};var r;var i;var a;var s;t.pop();for(var o=0,u=t.length;o<u;++o){i=t[o];r=i.indexOf(":");a=i.slice(0,r).toLowerCase();s=f(i.slice(r+1));n[a]=s}return n}function d(e){return e.split(/ *; */).shift()}function v(e){return i(e.split(/ *; */),function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();if(r&&i)e[r]=i;return e},{})}function m(e,t){t=t||{};this.req=e;this.xhr=this.req.xhr;this.text=this.req.method!="HEAD"?this.xhr.responseText:null;this.setStatusProperties(this.xhr.status);this.header=this.headers=p(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body=this.req.method!="HEAD"?this.parseBody(this.text):null}m.prototype.get=function(e){return this.header[e.toLowerCase()]};m.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=d(t);var n=v(t);for(var r in n)this[r]=n[r]};m.prototype.parseBody=function(e){var t=y.parse[this.type];return t&&e&&e.length?t(e):null};m.prototype.setStatusProperties=function(e){var t=e/100|0;this.status=e;this.statusType=t;this.info=1==t;this.ok=2==t;this.clientError=4==t;this.serverError=5==t;this.error=4==t||5==t?this.toError():false;this.accepted=202==e;this.noContent=204==e||1223==e;this.badRequest=400==e;this.unauthorized=401==e;this.notAcceptable=406==e;this.notFound=404==e;this.forbidden=403==e};m.prototype.toError=function(){var e=this.req;var t=e.method;var n=e.url;var r="cannot "+t+" "+n+" ("+this.status+")";var i=new Error(r);i.status=this.status;i.method=t;i.url=n;return i};y.Response=m;function g(e,t){var n=this;r.call(this);this._query=this._query||[];this.method=e;this.url=t;this.header={};this._header={};this.on("end",function(){var e=null;var t=null;try{t=new m(n)}catch(r){e=new Error("Parser is unable to parse the response");e.parse=true;e.original=r}n.callback(e,t)})}r(g.prototype);g.prototype.use=function(e){e(this);return this};g.prototype.timeout=function(e){this._timeout=e;return this};g.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};g.prototype.abort=function(){if(this.aborted)return;this.aborted=true;this.xhr.abort();this.clearTimeout();this.emit("abort");return this};g.prototype.set=function(e,t){if(l(e)){for(var n in e){this.set(n,e[n])}return this}this._header[e.toLowerCase()]=t;this.header[e]=t;return this};g.prototype.unset=function(e){delete this._header[e.toLowerCase()];delete this.header[e];return this};g.prototype.getHeader=function(e){return this._header[e.toLowerCase()]};g.prototype.type=function(e){this.set("Content-Type",y.types[e]||e);return this};g.prototype.accept=function(e){this.set("Accept",y.types[e]||e);return this};g.prototype.auth=function(e,t){var n=btoa(e+":"+t);this.set("Authorization","Basic "+n);return this};g.prototype.query=function(e){if("string"!=typeof e)e=c(e);if(e)this._query.push(e);return this};g.prototype.field=function(e,t){if(!this._formData)this._formData=new FormData;this._formData.append(e,t);return this};g.prototype.attach=function(e,t,n){if(!this._formData)this._formData=new FormData;this._formData.append(e,t,n);return this};g.prototype.send=function(e){var t=l(e);var n=this.getHeader("Content-Type");if(t&&l(this._data)){for(var r in e){this._data[r]=e[r]}}else if("string"==typeof e){if(!n)this.type("form");n=this.getHeader("Content-Type");if("application/x-www-form-urlencoded"==n){this._data=this._data?this._data+"&"+e:e}else{this._data=(this._data||"")+e}}else{this._data=e}if(!t)return this;if(!n)this.type("json");return this};g.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout();if(2==n.length)return n(e,t);if(e)return this.emit("error",e);n(t)};g.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=true;this.callback(e)};g.prototype.timeoutError=function(){var e=this._timeout;var t=new Error("timeout of "+e+"ms exceeded");t.timeout=e;this.callback(t)};g.prototype.withCredentials=function(){this._withCredentials=true;return this};g.prototype.end=function(e){var t=this;var n=this.xhr=u();var r=this._query.join("&");var i=this._timeout;var a=this._formData||this._data;this._callback=e||s;n.onreadystatechange=function(){if(4!=n.readyState)return;if(0==n.status){if(t.aborted)return t.timeoutError();return t.crossDomainError()}t.emit("end")};if(n.upload){n.upload.onprogress=function(e){e.percent=e.loaded/e.total*100;t.emit("progress",e)}}if(i&&!this._timer){this._timer=setTimeout(function(){t.abort()},i)}if(r){r=y.serializeObject(r);this.url+=~this.url.indexOf("?")?"&"+r:"?"+r}n.open(this.method,this.url,true);if(this._withCredentials)n.withCredentials=true;if("GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!o(a)){var f=y.serialize[this.getHeader("Content-Type")];if(f)a=f(a)}for(var l in this.header){if(null==this.header[l])continue;n.setRequestHeader(l,this.header[l])}this.emit("request",this);n.send(a);return this};y.Request=g;function y(e,t){if("function"==typeof t){return new g("GET",e).end(t)}if(1==arguments.length){return new g("GET",e)}return new g(e,t)}y.get=function(e,t,n){var r=y("GET",e);if("function"==typeof t)n=t,t=null;if(t)r.query(t);if(n)r.end(n);return r};y.head=function(e,t,n){var r=y("HEAD",e);if("function"==typeof t)n=t,t=null;if(t)r.send(t);if(n)r.end(n);return r};y.del=function(e,t){var n=y("DELETE",e);if(t)n.end(t);return n};y.patch=function(e,t,n){var r=y("PATCH",e);if("function"==typeof t)n=t,t=null;if(t)r.send(t);if(n)r.end(n);return r};y.post=function(e,t,n){var r=y("POST",e);if("function"==typeof t)n=t,t=null;if(t)r.send(t);if(n)r.end(n);return r};y.put=function(e,t,n){var r=y("PUT",e);if("function"==typeof t)n=t,t=null;if(t)r.send(t);if(n)r.end(n);return r};n.exports=y});e.alias("component-emitter/index.js","superagent/deps/emitter/index.js");e.alias("component-emitter/index.js","emitter/index.js");e.alias("component-reduce/index.js","superagent/deps/reduce/index.js");e.alias("component-reduce/index.js","reduce/index.js");e.alias("superagent/lib/client.js","superagent/index.js");if(typeof exports=="object"){module.exports=e("superagent")}else if(typeof define=="function"&&define.amd){define([],function(){return e("superagent")})}else{this["superagent"]=e("superagent")}})();(function(){var e={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:f,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};e.bullet=/(?:[*+-]|\d+\.)/;e.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;e.item=u(e.item,"gm")(/bull/g,e.bullet)();e.list=u(e.list)(/bull/g,e.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+e.def.source+")")();e.blockquote=u(e.blockquote)("def",e.def)();e._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";e.html=u(e.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,e._tag)();e.paragraph=u(e.paragraph)("hr",e.hr)("heading",e.heading)("lheading",e.lheading)("blockquote",e.blockquote)("tag","<"+e._tag)("def",e.def)();e.normal=l({},e);e.gfm=l({},e.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/});e.gfm.paragraph=u(e.paragraph)("(?!","(?!"+e.gfm.fences.source.replace("\\1","\\2")+"|"+e.list.source.replace("\\1","\\3")+"|")();e.tables=l({},e.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function t(t){this.tokens=[];this.tokens.links={};this.options=t||c.defaults;this.rules=e.normal;if(this.options.gfm){if(this.options.tables){this.rules=e.tables}else{this.rules=e.gfm}}}t.rules=e;t.lex=function(e,n){var r=new t(n);return r.lex(e)};t.prototype.lex=function(e){e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(e,true)};t.prototype.token=function(t,n,r){var t=t.replace(/^ +$/gm,""),i,a,s,o,u,f,l,c,h;while(t){if(s=this.rules.newline.exec(t)){t=t.substring(s[0].length);if(s[0].length>1){this.tokens.push({type:"space"})}}if(s=this.rules.code.exec(t)){t=t.substring(s[0].length);s=s[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?s.replace(/\n+$/,""):s});continue}if(s=this.rules.fences.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"code",lang:s[2],text:s[3]});continue}if(s=this.rules.heading.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});continue}if(n&&(s=this.rules.nptable.exec(t))){t=t.substring(s[0].length);f={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")};for(c=0;c<f.align.length;c++){if(/^ *-+: *$/.test(f.align[c])){f.align[c]="right"}else if(/^ *:-+: *$/.test(f.align[c])){f.align[c]="center"}else if(/^ *:-+ *$/.test(f.align[c])){f.align[c]="left"}else{f.align[c]=null}}for(c=0;c<f.cells.length;c++){f.cells[c]=f.cells[c].split(/ *\| */)}this.tokens.push(f);continue}if(s=this.rules.lheading.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"heading",depth:s[2]==="="?1:2,text:s[1]});continue}if(s=this.rules.hr.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"hr"});continue}if(s=this.rules.blockquote.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"blockquote_start"});s=s[0].replace(/^ *> ?/gm,"");this.token(s,n,true);this.tokens.push({type:"blockquote_end"});continue}if(s=this.rules.list.exec(t)){t=t.substring(s[0].length);o=s[2];this.tokens.push({type:"list_start",ordered:o.length>1});s=s[0].match(this.rules.item);i=false;h=s.length;c=0;for(;c<h;c++){f=s[c];l=f.length;f=f.replace(/^ *([*+-]|\d+\.) +/,"");if(~f.indexOf("\n ")){l-=f.length;f=!this.options.pedantic?f.replace(new RegExp("^ {1,"+l+"}","gm"),""):f.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&c!==h-1){u=e.bullet.exec(s[c+1])[0];if(o!==u&&!(o.length>1&&u.length>1)){t=s.slice(c+1).join("\n")+t;c=h-1}}a=i||/\n\n(?!\s*$)/.test(f);if(c!==h-1){i=f.charAt(f.length-1)==="\n";if(!a)a=i}this.tokens.push({type:a?"loose_item_start":"list_item_start"});this.token(f,false,r);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(s=this.rules.html.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:s[1]==="pre"||s[1]==="script"||s[1]==="style",text:s[0]});continue}if(!r&&n&&(s=this.rules.def.exec(t))){t=t.substring(s[0].length);this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};continue}if(n&&(s=this.rules.table.exec(t))){t=t.substring(s[0].length);f={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(c=0;c<f.align.length;c++){if(/^ *-+: *$/.test(f.align[c])){f.align[c]="right"}else if(/^ *:-+: *$/.test(f.align[c])){f.align[c]="center"}else if(/^ *:-+ *$/.test(f.align[c])){f.align[c]="left"}else{f.align[c]=null}}for(c=0;c<f.cells.length;c++){f.cells[c]=f.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(f);continue}if(n&&(s=this.rules.paragraph.exec(t))){t=t.substring(s[0].length);this.tokens.push({type:"paragraph",text:s[1].charAt(s[1].length-1)==="\n"?s[1].slice(0,-1):s[1]});continue}if(s=this.rules.text.exec(t)){t=t.substring(s[0].length);this.tokens.push({type:"text",text:s[0]});continue}if(t){throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}}return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:f,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:f,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};n._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/;n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;n.link=u(n.link)("inside",n._inside)("href",n._href)();n.reflink=u(n.reflink)("inside",n._inside)();n.normal=l({},n);n.pedantic=l({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});n.gfm=l({},n.normal,{escape:u(n.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(n.text)("]|","~]|")("|","|https?://|")()});n.breaks=l({},n.gfm,{br:u(n.br)("{2,}","*")(),text:u(n.gfm.text)("{2,}","*")()});function r(e,t){this.options=t||c.defaults;this.links=e;this.rules=n.normal;this.renderer=this.options.renderer||new i;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=n.breaks}else{this.rules=n.gfm}}else if(this.options.pedantic){this.rules=n.pedantic}}r.rules=n;r.output=function(e,t,n){var i=new r(t,n);return i.output(e)};r.prototype.output=function(e){var t="",n,r,i,a;while(e){if(a=this.rules.escape.exec(e)){e=e.substring(a[0].length);t+=a[1];continue}if(a=this.rules.autolink.exec(e)){e=e.substring(a[0].length);if(a[2]==="@"){r=a[1].charAt(6)===":"?this.mangle(a[1].substring(7)):this.mangle(a[1]);i=this.mangle("mailto:")+r}else{r=s(a[1]);i=r}t+=this.renderer.link(i,null,r);continue}if(!this.inLink&&(a=this.rules.url.exec(e))){e=e.substring(a[0].length);r=s(a[1]);i=r;t+=this.renderer.link(i,null,r);continue}if(a=this.rules.tag.exec(e)){if(!this.inLink&&/^<a /i.test(a[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(a[0])){this.inLink=false}e=e.substring(a[0].length);t+=this.options.sanitize?s(a[0]):a[0];continue}if(a=this.rules.link.exec(e)){e=e.substring(a[0].length);this.inLink=true;t+=this.outputLink(a,{href:a[2],title:a[3]});this.inLink=false;continue}if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){e=e.substring(a[0].length);n=(a[2]||a[1]).replace(/\s+/g," ");n=this.links[n.toLowerCase()];if(!n||!n.href){t+=a[0].charAt(0);e=a[0].substring(1)+e;continue}this.inLink=true;t+=this.outputLink(a,n);this.inLink=false;continue}if(a=this.rules.strong.exec(e)){e=e.substring(a[0].length);t+=this.renderer.strong(this.output(a[2]||a[1]));continue}if(a=this.rules.em.exec(e)){e=e.substring(a[0].length);t+=this.renderer.em(this.output(a[2]||a[1]));continue}if(a=this.rules.code.exec(e)){e=e.substring(a[0].length);t+=this.renderer.codespan(s(a[2],true));continue}if(a=this.rules.br.exec(e)){e=e.substring(a[0].length);t+=this.renderer.br();continue}if(a=this.rules.del.exec(e)){e=e.substring(a[0].length);t+=this.renderer.del(this.output(a[1]));continue}if(a=this.rules.text.exec(e)){e=e.substring(a[0].length);t+=s(this.smartypants(a[0]));continue}if(e){throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}}return t};r.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return e[0].charAt(0)!=="!"?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))};r.prototype.smartypants=function(e){if(!this.options.smartypants)return e;return e.replace(/--/g,"\u2014").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")};r.prototype.mangle=function(e){var t="",n=e.length,r=0,i;for(;r<n;r++){i=e.charCodeAt(r);if(Math.random()>.5){i="x"+i.toString(16)}t+="&#"+i+";"}return t};function i(e){this.options=e||{}}i.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);if(r!=null&&r!==e){n=true;e=r}}if(!t){return"<pre><code>"+(n?e:s(e,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+s(t,true)+'">'+(n?e:s(e,true))+"\n</code></pre>\n"};i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"};i.prototype.html=function(e){return e};i.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"};i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};i.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"};i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"};i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"};i.prototype.table=function(e,t){return"<table>\n"+"<thead>\n"+e+"</thead>\n"+"<tbody>\n"+t+"</tbody>\n"+"</table>\n"};i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"};i.prototype.tablecell=function(e,t){var n=t.header?"th":"td";var r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"};i.prototype.strong=function(e){return"<strong>"+e+"</strong>"};i.prototype.em=function(e){return"<em>"+e+"</em>"};i.prototype.codespan=function(e){return"<code>"+e+"</code>"};i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};i.prototype.del=function(e){return"<del>"+e+"</del>"};i.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(o(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return""}if(r.indexOf("javascript:")===0){return""}}var a='<a href="'+e+'"';if(t){a+=' title="'+t+'"'}a+=">"+n+"</a>";return a};i.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';if(t){r+=' title="'+t+'"'}r+=this.options.xhtml?"/>":">";return r};function a(e){this.tokens=[];this.token=null;this.options=e||c.defaults;this.options.renderer=this.options.renderer||new i;this.renderer=this.options.renderer;this.renderer.options=this.options}a.parse=function(e,t,n){var r=new a(t,n);return r.parse(e)};a.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer);this.tokens=e.reverse();var t="";while(this.next()){t+=this.tok()}return t};a.prototype.next=function(){return this.token=this.tokens.pop()};a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};a.prototype.parseText=function(){var e=this.token.text;while(this.peek().type==="text"){e+="\n"+this.next().text}return this.inline.output(e)};a.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text)}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var e="",t="",n,r,i,a,s;i="";for(n=0;n<this.token.header.length;n++){a={header:true,align:this.token.align[n]};i+=this.renderer.tablecell(this.inline.output(this.token.header[n]),{header:true,align:this.token.align[n]})}e+=this.renderer.tablerow(i);for(n=0;n<this.token.cells.length;n++){r=this.token.cells[n];i="";for(s=0;s<r.length;s++){i+=this.renderer.tablecell(this.inline.output(r[s]),{header:false,align:this.token.align[s]})}t+=this.renderer.tablerow(i)}return this.renderer.table(e,t)}case"blockquote_start":{var t="";while(this.next().type!=="blockquote_end"){t+=this.tok()}return this.renderer.blockquote(t)}case"list_start":{var t="",o=this.token.ordered;while(this.next().type!=="list_end"){t+=this.tok()}return this.renderer.list(t,o)}case"list_item_start":{var t="";while(this.next().type!=="list_item_end"){t+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(t)}case"loose_item_start":{var t="";while(this.next().type!=="list_item_end"){t+=this.tok()}return this.renderer.listitem(t)}case"html":{var u=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(u)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function s(e,t){return e.replace(!t?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e){return e.replace(/&([#\w]+);/g,function(e,t){t=t.toLowerCase();if(t==="colon")return":";if(t.charAt(0)==="#"){return t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1))}return""})}function u(e,t){e=e.source;t=t||"";return function n(r,i){if(!r)return new RegExp(e,t);i=i.source||i;i=i.replace(/(^|[^\[])\^/g,"$1");e=e.replace(r,i);return n}}function f(){}f.exec=f;function l(e){var t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e}function c(e,n,r){if(r||typeof n==="function"){if(!r){r=n;n=null}n=l({},c.defaults,n||{});var i=n.highlight,o,u,f=0;try{o=t.lex(e,n)}catch(h){return r(h)}u=o.length;var p=function(){var e,t;try{e=a.parse(o,n)}catch(s){t=s}n.highlight=i;return t?r(t):r(null,e)};if(!i||i.length<3){return p()}delete n.highlight;if(!u)return p();for(;f<o.length;f++){(function(e){if(e.type!=="code"){return--u||p()}return i(e.text,e.lang,function(t,n){if(n==null||n===e.text){return--u||p()}e.text=n;e.escaped=true;--u||p()})})(o[f])}return}try{if(n)n=l({},c.defaults,n);return a.parse(t.lex(e,n),n)}catch(h){h.message+="\nPlease report this to https://github.com/chjj/marked.";if((n||c.defaults).silent){return"<p>An error occured:</p><pre>"+s(h.message+"",true)+"</pre>"}throw h}}c.options=c.setOptions=function(e){l(c.defaults,e);return c};c.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new i,xhtml:false};c.Parser=a;c.parser=a.parse;c.Renderer=i;c.Lexer=t;c.lexer=t.lex;c.InlineLexer=r;c.inlineLexer=r.output;c.parse=c;if(typeof exports==="object"){module.exports=c}else if(typeof define==="function"&&define.amd){define(function(){return c})}else{this.marked=c}}).call(function(){return this||(typeof window!=="undefined"?window:global)}());(function(e){"use strict";var t=e.Ractive;var n=function(){var e={el:void 0,append:false,template:{v:1,t:[]},"yield":null,preserveWhitespace:false,sanitize:false,stripComments:true,data:{},computed:{},magic:false,modifyArrays:true,adapt:[],isolated:false,twoway:true,lazy:false,noIntro:false,transitionsEnabled:true,complete:void 0,noCssTransform:false,debug:false};return e}();var r={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){if((e/=.5)<1){return.5*Math.pow(e,3)}return.5*(Math.pow(e-2,3)+2)}};var i=[];var a=Object.prototype.hasOwnProperty;var s=function(){var e=Object.prototype.toString;return function(t){return e.call(t)==="[object Array]"}}();var o=function(){var e=Object.prototype.toString;return function(t){return t&&e.call(t)==="[object Object]"}}();var u=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};var f=function(e,t,n,r,i){var a,s,o;e.push(function(){s=e.interpolate});o=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/;a={number:function(e,t){var n;if(!i(e)||!i(t)){return null}e=+e;t=+t;n=t-e;if(!n){return function(){return e}}return function(t){return e+t*n}},array:function(e,t){var r,i,a,o;if(!n(e)||!n(t)){return null}r=[];i=[];o=a=Math.min(e.length,t.length);while(o--){i[o]=s(e[o],t[o])}for(o=a;o<e.length;o+=1){r[o]=e[o]}for(o=a;o<t.length;o+=1){r[o]=t[o]}return function(e){var t=a;while(t--){r[t]=i[t](e)}return r}},object:function(e,n){var i,a,o,u,f;if(!r(e)||!r(n)){return null}i=[];u={};o={};for(f in e){if(t.call(e,f)){if(t.call(n,f)){i.push(f);o[f]=s(e[f],n[f])}else{u[f]=e[f]}}}for(f in n){if(t.call(n,f)&&!t.call(e,f)){u[f]=n[f]}}a=i.length;return function(e){var t=a,n;while(t--){n=i[t];u[n]=o[n](e)}return u}}};return a}(i,a,s,o,u);var l=function(){var e;if(typeof document==="undefined"){e=false}else{e=document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}return e}();var c=function(){var e,t={};if(typeof console!=="undefined"&&typeof console.warn==="function"&&typeof console.warn.apply==="function"){e=function(e,n){if(!n){if(t[e]){return}t[e]=true}console.warn("%cRactive.js: %c"+e,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}}else{e=function(){}}return e}();var h={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.'};var p=function(e,t){var n={warn:function(e,t){if(!e.debug&&!t){return}this.warnAlways(e)},warnAlways:function(e){this.logger(r(e),e.allowDuplicates)},error:function(e){this.errorOnly(e);if(!e.debug){this.warn(e,true)}},errorOnly:function(e){if(e.debug){this.critical(e)}},critical:function(e){var t=e.err||new Error(r(e));this.thrower(t)},logger:e,thrower:function(e){throw e}};function r(e){var n=t[e.message]||e.message||"";return i(n,e.args)}function i(e,t){return e.replace(/{([^{}]*)}/g,function(e,n){return t[n]})}return n}(c,h);var d=function(e){var t={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated '+"and will likely be removed in a future release. "+'You can either use the "oninit" method which will fire '+"only once prior to, and regardless of, any eventual ractive "+"instance being rendered, or if you need to access the "+'rendered DOM, use "onrender" instead. '+"See http://docs.ractivejs.org/latest/migrating for more information."},complete:{deprecated:"complete",replacement:"oncomplete"}};function n(e){this.event=e;this.method="on"+e;this.deprecate=t[e]}n.prototype.fire=function(t,n){function r(e){if(t[e]){n?t[e](n):t[e]();return true}}r(this.method);if(!t[this.method]&&this.deprecate&&r(this.deprecate.deprecated)){e.warnAlways({debug:t.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate})}n?t.fire(this.event,n):t.fire(this.event)};return n}(p);var v=function(e,t){var n=e.indexOf(t);if(n!==-1){e.splice(n,1)}};var m=function(){var e;var t,n={},r={},i={};if(typeof m==="function"){t=m}else{t=function(e){var u=[],f=[],l=n,c,h,p,d,v,m;p=function(e){return function(t){if(l!==n){return}c=t;l=e;h=s(l===r?u:f,c);a(h)}};d=p(r);v=p(i);try{e(d,v)}catch(g){v(g)}m={then:function(e,r){var i=new t(function(t,s){var c=function(e,n,r){if(typeof e==="function"){n.push(function(n){var r;try{r=e(n);o(i,r,t,s)}catch(a){s(a)}})}else{n.push(r)}};c(e,u,t);c(r,f,s);if(l!==n){a(h)}});return i}};m["catch"]=function(e){return this.then(null,e)};return m};t.all=function(e){return new t(function(t,n){var r=[],i,a,s;if(!e.length){t(r);return}s=function(a){e[a].then(function(e){r[a]=e;if(!--i){t(r)}},n)};i=a=e.length;while(a--){s(a)}})};t.resolve=function(e){return new t(function(t){t(e)})};t.reject=function(e){return new t(function(t,n){n(e)})}}e=t;function a(e){setTimeout(e,0)}function s(e,t){return function(){var n;while(n=e.shift()){n(t)}}}function o(e,n,r,i){var a;if(n===e){throw new TypeError("A promise's fulfillment handler cannot return the same promise")}if(n instanceof t){n.then(r,i)}else if(n&&(typeof n==="object"||typeof n==="function")){try{a=n.then}catch(s){i(s);return}if(typeof a==="function"){var u,f,l;f=function(t){if(u){return}u=true;o(e,t,r,i)};l=function(e){if(u){return}u=true;i(e)};try{a.call(n,f,l)}catch(s){if(!u){i(s);u=true;return}}}else{r(n)}}else{r(n)}}return e}();var g=function(){var e=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function t(n){return(n||"").replace(e,".$1")}}();var y=function(e){do{if(e.context!==undefined){return e.context}}while(e=e.parent);return""};var b=function(e,t){if(e===null&&t===null){return true}if(typeof e==="object"||typeof t==="object"){return false
}return e===t};var w=function(e,t){var n;e.push(function(){return n=e.runloop});var r=function(e,t,n,r){var i=this;this.root=e;this.keypath=t;this.otherInstance=n;this.otherKeypath=r;this.lock=function(){return i.updating=true};this.unlock=function(){return i.updating=false};this.bind();this.value=this.root.viewmodel.get(this.keypath)};r.prototype={isLocked:function(){return this.updating||this.counterpart&&this.counterpart.updating},shuffle:function(e,t){this.propagateChange(t,e)},setValue:function(e){this.propagateChange(e)},propagateChange:function(e,r){var a;if(this.isLocked()){this.value=e;return}if(!t(e,this.value)){this.lock();if(!n.addViewmodel(a=this.otherInstance.viewmodel)&&this.counterpart.value!==e){n.scheduleTask(function(){return n.addViewmodel(a)})}if(r){a.smartUpdate(this.otherKeypath,e,r)}else{if(i(a,this.otherKeypath)){a.set(this.otherKeypath,e)}}this.value=e;n.scheduleTask(this.unlock)}},refineValue:function(e){var t=this;var r;if(this.isLocked()){return}this.lock();n.addViewmodel(r=this.otherInstance.viewmodel);e.map(function(e){return t.otherKeypath+e.substr(t.keypath.length)}).forEach(function(e){return r.mark(e)});n.scheduleTask(this.unlock)},bind:function(){this.root.viewmodel.register(this.keypath,this)},rebind:function(e){this.unbind();this.keypath=e;this.counterpart.otherKeypath=e;this.bind()},unbind:function(){this.root.viewmodel.unregister(this.keypath,this)}};function i(e,t){var n=e.computations[t];return!n||n.setter}return function a(e,t,n,i){var a,s,o,u,f;a=n+"="+i;o=e.bindings;if(o[a]){return}s=e.instance;u=new r(t,n,s,i);o.push(u);if(s.twoway){f=new r(s,i,t,n);o.push(f);u.counterpart=f;f.counterpart=u}o[a]=u}}(i,b);var x=function(e,t,n){var r;var i,a;i='Could not resolve reference - too many "../" prefixes';a={evaluateWrapped:true};r=function o(r,i,u,f){var l,c,h,p,d,v,m,g,y,b;i=e(i);if(i.substr(0,2)==="~/"){return i.substring(2)}if(i.charAt(0)==="."){return s(t(u),i)}c=i.split(".")[0];u=u||{};do{l=u.context;if(!l){continue}v=true;d=r.viewmodel.get(l,a);if(d&&(typeof d==="object"||typeof d==="function")&&c in d){return l+"."+i}}while(u=u.parent);if(c in r.data||c in r.viewmodel.computations){return i}if(r._parent&&!r.isolated){v=true;u=r.component.parentFragment;if(u.indexRefs&&(h=u.indexRefs[i])!==undefined){r.component.indexRefBindings[i]=i;r.viewmodel.set(i,h,true);return}p=o(r._parent,i,u,true);if(p){m=p.split(".");g=i.split(".");while(m.length>1&&g.length>1&&m[m.length-1]===g[g.length-1]){m.pop();g.pop()}y=m.join(".");b=g.join(".");r.viewmodel.set(b,r._parent.viewmodel.get(y),true);n(r.component,r._parent,y,b);return i}}if(!f&&!v){r.viewmodel.set(i,undefined);return i}if(r.viewmodel.get(i)!==undefined){return i}};function s(e,t){var n;if(t===".")return e;n=e?e.split("."):[];if(t.substr(0,3)==="../"){while(t.substr(0,3)==="../"){if(!n.length){throw new Error(i)}n.pop();t=t.substring(3)}n.push(t);return n.join(".")}if(!e){return t.replace(/^\.\/?/,"")}return e+t.replace(/^\.\//,".")}return r}(g,y,w);var _=function(e){var t=function(e,t){this.callback=e;this.parent=t;this.intros=[];this.outros=[];this.children=[];this.totalChildren=this.outroChildren=0;this.detachQueue=[];this.outrosComplete=false;if(t){t.addChild(this)}};t.prototype={addChild:function(e){this.children.push(e);this.totalChildren+=1;this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1;i(this)},decrementTotal:function(){this.totalChildren-=1;i(this)},add:function(e){var t=e.isIntro?this.intros:this.outros;t.push(e)},remove:function(t){var n=t.isIntro?this.intros:this.outros;e(n,t);i(this)},init:function(){this.ready=true;i(this)},detachNodes:function(){this.detachQueue.forEach(n);this.children.forEach(r)}};function n(e){e.detach()}function r(e){e.detachNodes()}function i(e){if(!e.ready||e.outros.length||e.outroChildren)return;if(!e.outrosComplete){if(e.parent){e.parent.decrementOutros(e)}else{e.detachNodes()}e.outrosComplete=true}if(!e.intros.length&&!e.totalChildren){if(typeof e.callback==="function"){e.callback()}if(e.parent){e.parent.decrementTotal()}}}return t}(v);var E=function(e,t,n,r,i,a){var s;var o,u,f=[],l=new t("change");u={start:function(e,t){var n,i;if(t){n=new r(function(e){return i=e})}o={previousBatch:o,transitionManager:new a(i,o&&o.transitionManager),views:[],tasks:[],viewmodels:[],instance:e};if(e){o.viewmodels.push(e.viewmodel)}return n},end:function(){c();o.transitionManager.init();if(!o.previousBatch&&!!o.instance)o.instance.viewmodel.changes=[];o=o.previousBatch},addViewmodel:function(e){if(o){if(o.viewmodels.indexOf(e)===-1){o.viewmodels.push(e);return true}else{return false}}else{e.applyChanges();return false}},registerTransition:function(e){e._manager=o.transitionManager;o.transitionManager.add(e)},addView:function(e){o.views.push(e)},addUnresolved:function(e){f.push(e)},removeUnresolved:function(e){n(f,e)},detachWhenReady:function(e){o.transitionManager.detachQueue.push(e)},scheduleTask:function(e,t){var n;if(!o){e()}else{n=o;while(t&&n.previousBatch){n=n.previousBatch}n.tasks.push(e)}}};e.runloop=u;s=u;function c(){var e,t,n;for(e=0;e<o.viewmodels.length;e+=1){t=o.viewmodels[e];n=t.applyChanges();if(n){l.fire(t.ractive,n)}}o.viewmodels.length=0;h();for(e=0;e<o.views.length;e+=1){o.views[e].update()}o.views.length=0;for(e=0;e<o.tasks.length;e+=1){o.tasks[e]()}o.tasks.length=0;if(o.viewmodels.length)return c()}function h(){var e,t,n,r;e=f.length;while(e--){t=f[e];if(t.keypath){f.splice(e,1)}if(n=i(t.root,t.ref,t.parentFragment)){(r||(r=[])).push({item:t,keypath:n});f.splice(e,1)}}if(r){r.forEach(p)}}function p(e){e.item.resolve(e.keypath)}return s}(i,d,v,m,x,_);var k=function(){var e=/^\s*[0-9]+\s*$/;return function(t){return e.test(t)?[]:{}}}();var A=function(e,t,n){var r;var i,a;try{Object.defineProperty({},"test",{value:0});i={filter:function(e,t,r){var i,a,s,o,u;if(!t){return false}i=t.split(".");a=i.pop();s=i.join(".");if((o=r.viewmodel.wrapped[s])&&!o.magic){return false}u=r.get(s);if(n(u)&&/^[0-9]+$/.test(a)){return false}return u&&(typeof u==="object"||typeof u==="function")},wrap:function(e,t,n){return new a(e,t,n)}};a=function(e,t,n){var r,i,a,s;this.magic=true;this.ractive=e;this.keypath=n;this.value=t;r=n.split(".");this.prop=r.pop();i=r.join(".");this.obj=i?e.get(i):e.data;a=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop);if(a&&a.set&&(s=a.set._ractiveWrappers)){if(s.indexOf(this)===-1){s.push(this)}return}o(this,t,a)};a.prototype={get:function(){return this.value},reset:function(t){if(this.updating){return}this.updating=true;this.obj[this.prop]=t;e.addViewmodel(this.ractive.viewmodel);this.ractive.viewmodel.mark(this.keypath);this.updating=false},set:function(e,n){if(this.updating){return}if(!this.obj[this.prop]){this.updating=true;this.obj[this.prop]=t(e);this.updating=false}this.obj[this.prop][e]=n},teardown:function(){var e,t,n,r,i;if(this.updating){return false}e=Object.getOwnPropertyDescriptor(this.obj,this.prop);t=e&&e.set;if(!t){return}r=t._ractiveWrappers;i=r.indexOf(this);if(i!==-1){r.splice(i,1)}if(!r.length){n=this.obj[this.prop];Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:true,enumerable:true,configurable:true});this.obj[this.prop]=n}}}}catch(s){i=false}r=i;function o(t,n,r){var i,a,s,o,u,f;i=t.obj;a=t.prop;if(r&&!r.configurable){if(a==="length"){return}throw new Error('Cannot use magic mode with property "'+a+'" - object is not configurable')}if(r){s=r.get;o=r.set}u=s||function(){return n};f=function(e){if(o){o(e)}n=s?s():e;f._ractiveWrappers.forEach(l)};function l(t){var r,i;t.value=n;if(t.updating){return}i=t.ractive;r=t.keypath;t.updating=true;e.start(i);i.viewmodel.mark(r);e.end();t.updating=false}f._ractiveWrappers=[t];Object.defineProperty(i,a,{get:u,set:f,enumerable:true,configurable:true})}return r}(E,k,s);var T=function(e){return!!e}(A);var C={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var O=function(e,t){var n;if(!e){n=function(e,n){if(n&&n!==t.html){throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information"}return document.createElement(e)}}else{n=function(e,n){if(!n||n===t.html){return document.createElement(e)}return document.createElementNS(n,e)}}return n}(l,C);var S=function(){var e=typeof document==="object";return e}();var R=function(e){var t;try{Object.defineProperty({},"test",{value:0});if(e){Object.defineProperty(document.createElement("div"),"test",{value:0})}t=Object.defineProperty}catch(n){t=function(e,t,n){e[t]=n.value}}return t}(S);var N=function(e,t,n){var r;try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}if(n){Object.defineProperties(e("div"),{test:{value:0}})}r=Object.defineProperties}catch(i){r=function(e,n){var r;for(r in n){if(n.hasOwnProperty(r)){t(e,r,n[r])}}}}return r}(O,R,S);var L=function(e){return function t(n,r,i){var a;if(typeof r!=="string"||!e(i)){throw new Error("Bad arguments")}a=+n.get(r)||0;if(!e(a)){throw new Error("Cannot add to a non-numeric value")}return n.set(r,a+i)}}(u);var I=function(e){return function t(n,r){return e(this,n,r===undefined?1:+r)}}(L);var P=function(e){var t=/^\.+/;return function n(r){return e(r).replace(t,"")}}(g);var j=["o","ms","moz","webkit"];var F=function(e){var t;if(typeof window==="undefined"){t=null}else{(function(e,t,n){var r,i;if(n.requestAnimationFrame){return}for(r=0;r<e.length&&!n.requestAnimationFrame;++r){n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"]}if(!n.requestAnimationFrame){i=n.setTimeout;n.requestAnimationFrame=function(e){var n,r,a;n=Date.now();r=Math.max(0,16-(n-t));a=i(function(){e(n+r)},r);t=n+r;return a}}})(e,0,window);t=window.requestAnimationFrame}return t}(j);var D=function(){var e;if(typeof window!=="undefined"&&window.performance&&typeof window.performance.now==="function"){e=function(){return window.performance.now()}}else{e=function(){return Date.now()}}return e}();var M=function(e,t,n){var r=[];var i={tick:function(){var a,s,o;o=t();n.start();for(a=0;a<r.length;a+=1){s=r[a];if(!s.tick(o)){r.splice(a--,1)}}n.end();if(r.length){e(i.tick)}else{i.running=false}},add:function(t){r.push(t);if(!i.running){i.running=true;e(i.tick)}},abort:function(e,t){var n=r.length,i;while(n--){i=r[n];if(i.root===t&&i.keypath===e){i.stop()}}}};return i}(F,D,E);var V=function(){var e;var t=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,n=/\/\*.*?\*\//g,r=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g,i=/^@media/,a=/\[data-rvcguid="[a-z0-9-]+"]/g;e=function u(e,f){var l,c;c=function(e){var t,n,i,a,s,u,l,c,h=[];t=[];while(n=r.exec(e)){t.push({str:n[0],base:n[1],modifiers:n[2]})}a='[data-rvcguid="'+f+'"]';s=t.map(o);c=t.length;while(c--){l=s.slice();i=t[c];l[c]=i.base+a+i.modifiers||"";u=s.slice();u[c]=a+" "+u[c];h.push(l.join(" "),u.join(" "))}return h.join(", ")};if(a.test(e)){l=e.replace(a,'[data-rvcguid="'+f+'"]')}else{l=e.replace(n,"").replace(t,function(e,t){var n,r;if(i.test(t))return e;n=t.split(",").map(s);r=n.map(c).join(", ")+" ";return e.replace(t,r)})}return l};function s(e){if(e.trim){return e.trim()}return e.replace(/^\s+/,"").replace(/\s+$/,"")}function o(e){return e.str}return e}();var U=function(e){var t={name:"css",extend:n,init:function(){}};function n(e,t,n){var i=t.constructor._guid,a;if(a=r(n.css,n,i)||r(e.css,e,i)){t.constructor.css=a}}function r(t,n,r){if(!t){return}return n.noCssTransform?t:e(t,r)}return t}(V);var $=function(){var e;e=function(e,n,r){if(r||t(e,n)){return function(){var t="_super"in this,r=this._super,i;this._super=n;i=e.apply(this,arguments);if(t){this._super=r}return i}}else{return e}};function t(e,t){return typeof t==="function"&&/_super/.test(e)}return e}();var q=function(e){var t;var n={name:"data",extend:i,init:a,reset:s};t=n;function r(e,t,n){var r=n.data||{},i=o(e.prototype.data);if(typeof r!=="object"&&typeof r!=="function"){throw new TypeError('data option must be an object or a function, "'+r+'" is not valid')}return u(i,r)}function i(e,t,n){t.data=r(e,t,n)}function a(e,t,n){var i=n.data,a=r(e,t,n);if(typeof a==="function"){a=a.call(t,i)||i}return t.data=a||{}}function s(e){var t=this.init(e.constructor,e,e);if(t){e.data=t;return true}}function o(e){if(typeof e!=="function"||!Object.keys(e).length){return e}var t={};f(e,t);return u(e,t)}function u(e,t){if(typeof t==="function"){return h(t,e)}else if(typeof e==="function"){return c(t,e)}else{return l(t,e)}}function f(e,t,n){for(var r in e){if(n&&r in t){continue}t[r]=e[r]}}function l(e,t){e=e||{};if(!t){return e}f(t,e,true);return e}function c(e,t){return function(n){var r;if(e){r=[];for(var i in e){if(!n||!(i in n)){r.push(i)}}}n=t.call(this,n)||n;if(r&&r.length){n=n||{};r.forEach(function(t){n[t]=e[t]})}return n}}function h(t,n){var r;if(typeof n!=="function"){r=function(e){l(e,n)}}else{r=function(t){n=e(n,function(){},true);return n.call(this,t)||t}}return e(t,r)}return t}($);var W={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53,SECTION_IF_WITH:54};var B=function(){var e;try{Object.create(null);e=Object.create}catch(t){e=function(){var e=function(){};return function(t,n){var r;if(t===null){return{}}e.prototype=t;r=new e;if(n){Object.defineProperties(r,n)}return r}}()}return e}();var z={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"};var H=function(e){var t=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;return function(n){var r;if(r=n.matchPattern(t)){return{t:e.NUMBER_LITERAL,v:r}}return null}}(W);var G=function(e){return function(t){var n=t.remaining();if(n.substr(0,4)==="true"){t.pos+=4;return{t:e.BOOLEAN_LITERAL,v:"true"}}if(n.substr(0,5)==="false"){t.pos+=5;return{t:e.BOOLEAN_LITERAL,v:"false"}}return null}}(W);var K=function(){var e,t,n;e=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/;t=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/;n=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;return function(r){return function(i){var a,s,o,u;a=i.pos;s='"';o=false;while(!o){u=i.matchPattern(e)||i.matchPattern(t)||i.matchString(r);if(u){if(u==='"'){s+='\\"'}else if(u==="\\'"){s+="'"}else{s+=u}}else{u=i.matchPattern(n);if(u){s+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4)}else{o=true}}}s+='"';return JSON.parse(s)}}}();var Z=function(e){return e('"')}(K);var Q=function(e){return e("'")}(K);var X=function(e,t,n){return function(r){var i,a;i=r.pos;if(r.matchString('"')){a=n(r);if(!r.matchString('"')){r.pos=i;return null}return{t:e.STRING_LITERAL,v:a}}if(r.matchString("'")){a=t(r);if(!r.matchString("'")){r.pos=i;return null}return{t:e.STRING_LITERAL,v:a}}return null}}(W,Z,Q);var Y={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/};var J=function(e,t,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var a;if(a=e(i)){return r.test(a.v)?a.v:'"'+a.v.replace(/"/g,'\\"')+'"'}if(a=t(i)){return a.v}if(a=i.matchPattern(n.name)){return a}}}(X,H,Y);var et=function(e,t){return function(n){var r,i,a;r=n.pos;n.allowWhitespace();i=t(n);if(i===null){n.pos=r;return null}n.allowWhitespace();if(!n.matchString(":")){n.pos=r;return null}n.allowWhitespace();a=n.readExpression();if(a===null){n.pos=r;return null}return{t:e.KEY_VALUE_PAIR,k:i,v:a}}}(W,J);var tt=function(e){return function t(n){var r,i,a,s;r=n.pos;a=e(n);if(a===null){return null}i=[a];if(n.matchString(",")){s=t(n);if(!s){n.pos=r;return null}return i.concat(s)}return i}}(et);var nt=function(e,t){return function(n){var r,i;r=n.pos;n.allowWhitespace();if(!n.matchString("{")){n.pos=r;return null}i=t(n);n.allowWhitespace();if(!n.matchString("}")){n.pos=r;return null}return{t:e.OBJECT_LITERAL,m:i}}}(W,tt);var rt=function(e){return function t(n){var r,i,a,s;r=n.pos;n.allowWhitespace();a=n.readExpression();if(a===null){return null}i=[a];n.allowWhitespace();if(n.matchString(",")){s=t(n);if(s===null){n.error(e.expectedExpression)}s.forEach(o)}function o(e){i.push(e)}return i}}(z);var it=function(e,t){return function(n){var r,i;r=n.pos;n.allowWhitespace();if(!n.matchString("[")){n.pos=r;return null}i=t(n);if(!n.matchString("]")){n.pos=r;return null}return{t:e.ARRAY_LITERAL,m:i}}}(W,rt);var at=function(e,t,n,r,i){return function(a){var s=e(a)||t(a)||n(a)||r(a)||i(a);return s}}(H,G,X,nt,it);var st=function(e,t){var n,r,i,a,s;n=/^\.[a-zA-Z_$0-9]+/;i=function(e){var t=e.matchPattern(r);if(t){return"."+t}return null};r=/^\[(0|[1-9][0-9]*)\]/;a=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/;s=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;return function(r){var o,u,f,l,c,h,p;o=r.pos;if(r.matchString("~/")){u="~/"}else{u="";while(r.matchString("../")){u+="../"}}if(!u){l=r.matchString("./")||r.matchString(".")||""}f=r.matchPattern(/^@(?:keypath|index|key)/)||r.matchPattern(t.name)||"";if(s.test(f)){r.pos=o;return null}if(!u&&!l&&a.test(f)){return{t:e.GLOBAL,v:f}}c=(u||l)+f;if(!c){return null}while(h=r.matchPattern(n)||i(r)){c+=h}if(r.matchString("(")){p=c.lastIndexOf(".");if(p!==-1){c=c.substr(0,p);r.pos=o+c.length}else{r.pos-=1}}return{t:e.REFERENCE,n:c.replace(/^this\./,"./").replace(/^this$/,".")}}}(W,Y);var ot=function(e,t){return function(n){var r,i;r=n.pos;if(!n.matchString("(")){return null}n.allowWhitespace();i=n.readExpression();if(!i){n.error(t.expectedExpression)}n.allowWhitespace();if(!n.matchString(")")){n.error(t.expectedParen)}return{t:e.BRACKETED,x:i}}}(W,z);var ut=function(e,t,n){return function(r){return e(r)||t(r)||n(r)}}(at,st,ot);var ft=function(e,t,n){return function r(i){var a,s,o;a=i.pos;i.allowWhitespace();if(i.matchString(".")){i.allowWhitespace();if(s=i.matchPattern(n.name)){return{t:e.REFINEMENT,n:s}}i.error("Expected a property name")}if(i.matchString("[")){i.allowWhitespace();o=i.readExpression();if(!o){i.error(t.expectedExpression)}i.allowWhitespace();if(!i.matchString("]")){i.error("Expected ']'")}return{t:e.REFINEMENT,x:o}}return null}}(W,z,Y);var lt=function(e,t,n,r,i){return function(a){var s,o,u,f;o=t(a);if(!o){return null}while(o){s=a.pos;if(u=r(a)){o={t:e.MEMBER,x:o,r:u}}else if(a.matchString("(")){a.allowWhitespace();f=n(a);a.allowWhitespace();if(!a.matchString(")")){a.error(i.expectedParen)}o={t:e.INVOCATION,x:o};if(f){o.o=f}}else{break}}return o}}(W,ut,rt,ft,z);var ct=function(e,t,n){var r,i;i=function(n,r){return function(i){var a;if(a=r(i)){return a}if(!i.matchString(n)){return null}i.allowWhitespace();a=i.readExpression();if(!a){i.error(t.expectedExpression)}return{s:n,o:a,t:e.PREFIX_OPERATOR}}};(function(){var e,t,a,s,o;s="! ~ + - typeof".split(" ");o=n;for(e=0,t=s.length;e<t;e+=1){a=i(s[e],o);o=a}r=o})();return r}(W,z,lt);var ht=function(e,t){var n,r;r=function(t,n){return function(r){var i,a,s;a=n(r);if(!a){return null}while(true){i=r.pos;r.allowWhitespace();if(!r.matchString(t)){r.pos=i;return a}if(t==="in"&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0))){r.pos=i;return a}r.allowWhitespace();s=n(r);if(!s){r.pos=i;return a}a={t:e.INFIX_OPERATOR,s:t,o:[a,s]}}}};(function(){var e,i,a,s,o;s="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" ");o=t;for(e=0,i=s.length;e<i;e+=1){a=r(s[e],o);o=a}n=o})();return n}(W,ct);var pt=function(e,t,n){return function(r){var i,a,s,o;a=t(r);if(!a){return null}i=r.pos;r.allowWhitespace();if(!r.matchString("?")){r.pos=i;return a}r.allowWhitespace();s=r.readExpression();if(!s){r.error(n.expectedExpression)}r.allowWhitespace();if(!r.matchString(":")){r.error('Expected ":"')}r.allowWhitespace();o=r.readExpression();if(!o){r.error(n.expectedExpression)}return{t:e.CONDITIONAL,o:[a,s,o]}}}(W,ht,z);var dt=function(e,t){var n;n=function(e){var t=[],n;i(e,t);n={r:t,s:a(this,e,t)};return n};function r(e){return JSON.stringify(String(e))}function i(n,r){var a,s;if(n.t===e.REFERENCE){if(r.indexOf(n.n)===-1){r.unshift(n.n)}}s=n.o||n.m;if(s){if(t(s)){i(s,r)}else{a=s.length;while(a--){i(s[a],r)}}}if(n.x){i(n.x,r)}if(n.r){i(n.r,r)}if(n.v){i(n.v,r)}}function a(t,n,i){var s=function(e){return a(t,e,i)};switch(n.t){case e.BOOLEAN_LITERAL:case e.GLOBAL:case e.NUMBER_LITERAL:return n.v;case e.STRING_LITERAL:return r(n.v);case e.ARRAY_LITERAL:return"["+(n.m?n.m.map(s).join(","):"")+"]";case e.OBJECT_LITERAL:return"{"+(n.m?n.m.map(s).join(","):"")+"}";case e.KEY_VALUE_PAIR:return n.k+":"+a(t,n.v,i);case e.PREFIX_OPERATOR:return(n.s==="typeof"?"typeof ":n.s)+a(t,n.o,i);case e.INFIX_OPERATOR:return a(t,n.o[0],i)+(n.s.substr(0,2)==="in"?" "+n.s+" ":n.s)+a(t,n.o[1],i);case e.INVOCATION:return a(t,n.x,i)+"("+(n.o?n.o.map(s).join(","):"")+")";case e.BRACKETED:return"("+a(t,n.x,i)+")";case e.MEMBER:return a(t,n.x,i)+a(t,n.r,i);case e.REFINEMENT:return n.n?"."+n.n:"["+a(t,n.x,i)+"]";case e.CONDITIONAL:return a(t,n.o[0],i)+"?"+a(t,n.o[1],i)+":"+a(t,n.o[2],i);case e.REFERENCE:return"_"+i.indexOf(n.n);default:t.error("Expected legal JavaScript")}}return n}(W,o);var vt=function(e,t,n,r,i){var a,s,o=/^\s+/;s=function(e){this.name="ParseError";this.message=e;try{throw new Error(e)}catch(t){this.stack=t.stack}};s.prototype=Error.prototype;a=function(e,t){var n,r,i=0;this.str=e;this.options=t||{};this.pos=0;this.lines=this.str.split("\n");this.lineEnds=this.lines.map(function(e){var t=i+e.length+1;i=t;return t},0);if(this.init)this.init(e,t);n=[];while(this.pos<this.str.length&&(r=this.read())){n.push(r)}this.leftover=this.remaining();this.result=this.postProcess?this.postProcess(n,t):n};a.prototype={read:function(e){var t,n,r,i;if(!e)e=this.converters;t=this.pos;r=e.length;for(n=0;n<r;n+=1){this.pos=t;if(i=e[n](this)){return i}}return null},readExpression:function(){return r(this)},flattenExpression:i,getLinePos:function(e){var t=0,n=0,r;while(e>=this.lineEnds[t]){n=this.lineEnds[t];t+=1}r=e-n;return[t+1,r+1,e]},error:function(e){var t,n,r,i,a,o;t=this.getLinePos(this.pos);n=t[0];r=t[1];i=this.lines[t[0]-1];a=i+"\n"+new Array(t[1]).join(" ")+"^----";o=new s(e+" at line "+n+" character "+r+":\n"+a);o.line=t[0];o.character=t[1];o.shortMessage=e;throw o},matchString:function(e){if(this.str.substr(this.pos,e.length)===e){this.pos+=e.length;return e}},matchPattern:function(e){var t;if(t=e.exec(this.remaining())){this.pos+=t[0].length;return t[1]||t[0]}},allowWhitespace:function(){this.matchPattern(o)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}};a.extend=function(e){var r=this,i,s;i=function(e,t){a.call(this,e,t)};i.prototype=t(r.prototype);for(s in e){if(n.call(e,s)){i.prototype[s]=e[s]}}i.extend=a.extend;return i};e.Parser=a;return a}(i,B,a,pt,dt);var mt=function(){var e=/^[^\s=]+/,t=/^\s+/;return function(n){var r,i,a;if(!n.matchString("=")){return null}r=n.pos;n.allowWhitespace();i=n.matchPattern(e);if(!i){n.pos=r;return null}if(!n.matchPattern(t)){return null}a=n.matchPattern(e);if(!a){n.pos=r;return null}n.allowWhitespace();if(!n.matchString("=")){n.pos=r;return null}return[i,a]}}();var gt=[{delimiters:"delimiters",isTriple:false,isStatic:false},{delimiters:"tripleDelimiters",isTriple:true,isStatic:false},{delimiters:"staticDelimiters",isTriple:false,isStatic:true},{delimiters:"staticTripleDelimiters",isTriple:true,isStatic:true}];var yt=function(e){var t={"#":e.SECTION,"^":e.INVERTED,"/":e.CLOSING,">":e.PARTIAL,"!":e.COMMENT,"&":e.TRIPLE};return function(e){var n=t[e.str.charAt(e.pos)];if(!n){return null}e.pos+=1;return n}}(W);var bt=function(e){return{each:e.SECTION_EACH,"if":e.SECTION_IF,"if-with":e.SECTION_IF_WITH,"with":e.SECTION_WITH,unless:e.SECTION_UNLESS}}(W);var wt=null;var xt=function(e,t,n){var r;var i=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,a=/^[0-9][1-9]*$/,s=new RegExp("^("+Object.keys(n).join("|")+")\\b"),o;o=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;r=function(n,r){var a,f,l,c,h,p,d,v,m,g;a=n.pos;l={};g=n[r.delimiters];if(r.isStatic){l.s=true}if(r.isTriple){l.t=e.TRIPLE}else{if(n.remaining()[0]==="!"){try{p=n.readExpression();n.allowWhitespace();if(n.remaining().indexOf(g[1])){p=null}else{l.t=e.INTERPOLATOR}}catch(y){}if(!p){m=n.remaining().indexOf(g[1]);if(~m){n.pos+=m}else{n.error("Expected closing delimiter ('"+g[1]+"')")}return{t:e.COMMENT}}}if(!p){c=t(n);l.t=c||e.INTERPOLATOR;if(c===e.SECTION){if(h=n.matchPattern(s)){l.n=h}n.allowWhitespace()}else if(c===e.COMMENT||c===e.CLOSING){v=n.remaining();m=v.indexOf(g[1]);if(m!==-1){l.r=v.substr(0,m).split(" ")[0];n.pos+=m;return l}}}}if(!p){n.allowWhitespace();p=n.readExpression();var b;if(l.t===e.PARTIAL&&p&&(b=n.readExpression())){l={contextPartialExpression:p};p=b}v=n.remaining();if(v.substr(0,g[1].length)!==g[1]&&v.charAt(0)!==":"){f=n.pos;n.pos=a;v=n.remaining();m=v.indexOf(g[1]);if(m!==-1){l.r=v.substr(0,m).trim();if(!o.test(l.r)){n.error("Expected a legal Mustache reference")}n.pos+=m;return l}n.pos=f}}u(n,p,l);if(l.contextPartialExpression){l.contextPartialExpression=[u(n,l.contextPartialExpression,{t:e.PARTIAL})]}if(d=n.matchPattern(i)){l.i=d}return l};function u(t,n,r){var i;if(n){while(n.t===e.BRACKETED&&n.x){n=n.x}if(n.t===e.REFERENCE){r.r=n.n}else{if(n.t===e.NUMBER_LITERAL&&a.test(n.v)){r.r=n.v}else if(i=f(t,n)){r.rx=i}else{r.x=t.flattenExpression(n)}}return r}}function f(t,n){var r=[],i;while(n.t===e.MEMBER&&n.r.t===e.REFINEMENT){i=n.r;if(i.x){if(i.x.t===e.REFERENCE){r.unshift(i.x)}else{r.unshift(t.flattenExpression(i.x))}}else{r.unshift(i.n)}n=n.x}if(n.t!==e.REFERENCE){return null}return{r:n.n,m:r}}return r}(W,yt,bt,wt);var _t=function(e,t,n,r,i){var a;var s={t:e.DELIMCHANGE,exclude:true};a=o;function o(e){var t;if(e.interpolate[e.inside]===false){return null}t=n.slice().sort(function r(t,n){return e[n.delimiters][0].length-e[t.delimiters][0].length});return function i(n){if(!n){return null}else{return u(e,n)||i(t.shift())}}(t.shift())}function u(n,a){var o,u,l,c,h,p,d,v;o=n.pos;l=n[a.delimiters];if(!n.matchString(l[0])){return null}if(u=t(n)){if(!n.matchString(l[1])){return null}n[a.delimiters]=u;return s}n.allowWhitespace();u=r(n,a);if(u===null){n.pos=o;return null}n.allowWhitespace();if(!n.matchString(l[1])){n.error("Expected closing delimiter '"+l[1]+"' after reference")}if(u.t===e.COMMENT){u.exclude=true}if(u.t===e.CLOSING){n.sectionDepth-=1;if(n.sectionDepth<0){n.pos=o;n.error("Attempted to close a section that wasn't open")}}if(u.contextPartialExpression){u.f=u.contextPartialExpression;u.t=e.SECTION;u.n="with";delete u.contextPartialExpression}else if(f(u)){n.sectionDepth+=1;c=[];d=c;h=u.n;while(v=n.read()){if(v.t===e.CLOSING){if(h&&v.r!==h){n.error("Expected {{/"+h+"}}")}break}if(v.t===e.INTERPOLATOR&&v.r==="else"){if(u.n==="unless"){n.error("{{else}} not allowed in {{#unless}}")}else{d=p=[];continue}}d.push(v)}if(c.length){u.f=c}if(p&&p.length){u.l=p;if(u.n==="with"){u.n="if-with"}}}if(n.includeLinePositions){u.p=n.getLinePos(o)}if(u.n){u.n=i[u.n]}else if(u.t===e.INVERTED){u.t=e.SECTION;u.n=e.SECTION_UNLESS}return u}function f(t){return t.t===e.SECTION||t.t===e.INVERTED}return a}(W,mt,gt,xt,bt);var Et=function(e){var t="<!--",n="-->";return function(r){var i,a,s,o,u;i=r.pos;if(!r.matchString(t)){return null}s=r.remaining();o=s.indexOf(n);if(o===-1){r.error("Illegal HTML - expected closing comment sequence ('-->')")}a=s.substr(0,o);r.pos+=o+3;u={t:e.COMMENT,c:a};if(r.includeLinePositions){u.p=r.getLinePos(i)}return u}}(W);var kt=function(){var e=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return e}();var At=function(e,t){var n,r,i;n=t.length;while(n--){r=e.indexOf(t[n]);if(!r){return 0}if(r===-1){continue}if(!i||r<i){i=r}}return i||-1};var Tt=function(){var e;var t,n,r;t={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};n=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376];r=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(t).join("|")+"));?","g");e=function a(e){return e.replace(r,function(e,n){var r;if(n[0]!=="#"){r=t[n]}else if(n[1]==="x"){r=parseInt(n.substring(2),16)}else{r=parseInt(n.substring(1),10)}if(!r){return e}return String.fromCharCode(i(r))})};function i(e){if(!e){return 65533}if(e===10){return 32}if(e<128){return e}if(e<=159){return n[e-128]}if(e<55296){return e}if(e<=57343){return 65533}if(e<=65535){return e}return 65533}return e}(wt);var Ct=function(e,t){return function(n){var r,i,a,s;i=n.remaining();s=n.inside?"</"+n.inside:"<";if(n.inside&&!n.interpolate[n.inside]){r=i.indexOf(s)}else{a=[n.delimiters[0],n.tripleDelimiters[0],n.staticDelimiters[0],n.staticTripleDelimiters[0]];if(n.inAttribute===true){a.push('"',"'","=","<",">","`")}else if(n.inAttribute){a.push(n.inAttribute)}else{a.push(s)}r=e(i,a)}if(!r){return null}if(r===-1){r=i.length}n.pos+=r;return n.inside?i.substr(0,r):t(i.substr(0,r))}}(At,Tt);var Ot=function(e){var t=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;
return function(n){var r;if(!n.matchString("</")){return null}if(r=n.matchPattern(t)){return{t:e.CLOSING_TAG,e:r}}n.pos-=2;n.error("Illegal closing tag")}}(W);var St=function(e,t,n){var r;var i=/^[^\s"'>\/=]+/,a=/^[^\s"'=<>`]+/;r=s;function s(e){var t,n,r;e.allowWhitespace();n=e.matchPattern(i);if(!n){return null}t={name:n};r=o(e);if(r){t.value=r}return t}function o(e){var t,r,i,a;t=e.pos;e.allowWhitespace();if(!e.matchString("=")){e.pos=t;return null}e.allowWhitespace();r=e.pos;i=e.sectionDepth;a=l(e,"'")||l(e,'"')||f(e);if(e.sectionDepth!==i){e.pos=r;e.error("An attribute value must contain as many opening section tags as closing section tags")}if(a===null){e.pos=t;return null}if(!a.length){return null}if(a.length===1&&typeof a[0]==="string"){return n(a[0])}return a}function u(t){var n,r,i,s,o;n=t.pos;r=t.matchPattern(a);if(!r){return null}i=r;s=[t.delimiters[0],t.tripleDelimiters[0],t.staticDelimiters[0],t.staticTripleDelimiters[0]];if((o=e(i,s))!==-1){r=r.substr(0,o);t.pos=n+r.length}return r}function f(e){var n,r;e.inAttribute=true;n=[];r=t(e)||u(e);while(r!==null){n.push(r);r=t(e)||u(e)}if(!n.length){return null}e.inAttribute=false;return n}function l(e,n){var r,i,a;r=e.pos;if(!e.matchString(n)){return null}e.inAttribute=n;i=[];a=t(e)||c(e,n);while(a!==null){i.push(a);a=t(e)||c(e,n)}if(!e.matchString(n)){e.pos=r;return null}e.inAttribute=false;return i}function c(t,n){var r,i,a,s;r=t.pos;a=t.remaining();s=[n,t.delimiters[0],t.tripleDelimiters[0],t.staticDelimiters[0],t.staticTripleDelimiters[0]];i=e(a,s);if(i===-1){t.error("Quoted attribute value must have a closing quote")}if(!i){return null}t.pos+=i;return a.substr(0,i)}return r}(At,_t,Tt);var Rt=function(e,t,n){var r,i,a,s,o,u,f;i={"true":true,"false":false,undefined:undefined,"null":null};a=new RegExp("^(?:"+Object.keys(i).join("|")+")");s=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;o=/\$\{([^\}]+)\}/g;u=/^\$\{([^\}]+)\}/;f=/^\s*$/;r=e.extend({init:function(e,t){this.values=t.values;this.allowWhitespace()},postProcess:function(e){if(e.length!==1||!f.test(this.leftover)){return null}return{value:e[0].v}},converters:[function c(e){var t;if(!e.values){return null}t=e.matchPattern(u);if(t&&e.values.hasOwnProperty(t)){return{v:e.values[t]}}},function h(e){var t;if(t=e.matchPattern(a)){return{v:i[t]}}},function p(e){var t;if(t=e.matchPattern(s)){return{v:+t}}},function d(e){var n=t(e),r;if(n&&(r=e.values)){return{v:n.v.replace(o,function(e,t){return t in r?r[t]:t})}}return n},function v(e){var t,n;if(!e.matchString("{")){return null}t={};e.allowWhitespace();if(e.matchString("}")){return{v:t}}while(n=l(e)){t[n.key]=n.value;e.allowWhitespace();if(e.matchString("}")){return{v:t}}if(!e.matchString(",")){return null}}return null},function m(e){var t,n;if(!e.matchString("[")){return null}t=[];e.allowWhitespace();if(e.matchString("]")){return{v:t}}while(n=e.read()){t.push(n.v);e.allowWhitespace();if(e.matchString("]")){return{v:t}}if(!e.matchString(",")){return null}e.allowWhitespace()}return null}]});function l(e){var t,r,i;e.allowWhitespace();t=n(e);if(!t){return null}i={key:t};e.allowWhitespace();if(!e.matchString(":")){return null}e.allowWhitespace();r=e.read();if(!r){return null}i.value=r.v;return i}return function(e,t){var n=new r(e,{values:t});return n.result}}(vt,X,J);var Nt=function(e,t,n,r){var i=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,a;a=e.extend({converters:[t]});return function(e){var t,s,o,u,f,l,c,h,p;if(typeof e==="string"){if(s=i.exec(e)){t={m:s[1]};u="["+e.slice(t.m.length+1,-1)+"]";o=new a(u);t.a=n(o.result[0]);return t}if(e.indexOf(":")===-1){return e.trim()}e=[e]}t={};c=[];h=[];if(e){while(e.length){f=e.shift();if(typeof f==="string"){l=f.indexOf(":");if(l===-1){c.push(f)}else{if(l){c.push(f.substr(0,l))}if(f.length>l+1){h[0]=f.substring(l+1)}break}}else{c.push(f)}}h=h.concat(e)}if(!c.length){t=""}else if(h.length||typeof c!=="string"){t={n:c.length===1&&typeof c[0]==="string"?c[0]:c};if(h.length===1&&typeof h[0]==="string"){p=r("["+h[0]+"]");t.a=p?p.value:h[0].trim()}else{t.d=h}}else{t=c}return t}}(vt,pt,dt,Rt);var Lt=function(e,t,n,r,i,a,s,o){var u;var f=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,l=/^[\s\n\/>]/,c=/^on/,h=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,p=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,d={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},v={exclude:true},m,g;m=[n,r,y,i,a];g={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};u=y;function y(r){var i,a,u,g,y,w,x,_,E,k,A;i=r.pos;if(r.inside||r.inAttribute){return null}if(!r.matchString("<")){return null}if(r.nextChar()==="/"){return null}a={t:e.ELEMENT};if(r.includeLinePositions){a.p=r.getLinePos(i)}if(r.matchString("!")){a.y=1}a.e=r.matchPattern(f);if(!a.e){return null}if(!l.test(r.nextChar())){r.error("Illegal tag name")}w=function(e,t){var n=t.n||t;if(p.test(n)){r.pos-=n.length;r.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")}a.v[e]=t};r.allowWhitespace();while(x=n(r)||s(r)){if(x.name){if(g=d[x.name]){a[g]=o(x.value)}else if(y=h.exec(x.name)){if(!a.v)a.v={};_=o(x.value);w(y[1],_)}else{if(!r.sanitizeEventAttributes||!c.test(x.name)){if(!a.a)a.a={};a.a[x.name]=x.value||0}}}else{if(!a.m)a.m=[];a.m.push(x)}r.allowWhitespace()}r.allowWhitespace();if(r.matchString("/")){E=true}if(!r.matchString(">")){return null}u=a.e.toLowerCase();if(!E&&!t.test(a.e)){if(u==="script"||u==="style"){r.inside=u}k=[];while(b(u,r.remaining())&&(A=r.read(m))){if(A.t===e.CLOSING){break}if(A.t===e.CLOSING_TAG){break}k.push(A)}if(k.length){a.f=k}}r.inside=null;if(r.sanitizeElements&&r.sanitizeElements.indexOf(u)!==-1){return v}return a}function b(e,t){var n,r;n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(t);r=g[e];if(!n||!r){return true}return!~r.indexOf(n[1].toLowerCase())}return u}(W,kt,_t,Et,Ct,Ot,St,Nt);var It=function(){var e=/^[ \t\f\r\n]+/,t=/[ \t\f\r\n]+$/;return function(n,r,i){var a;if(r){a=n[0];if(typeof a==="string"){a=a.replace(e,"");if(!a){n.shift()}else{n[0]=a}}}if(i){a=n[n.length-1];if(typeof a==="string"){a=a.replace(t,"");if(!a){n.pop()}else{n[n.length-1]=a}}}}}();var Pt=function(e){var t;var n=/^\s*\r?\n/,r=/\r?\n\s*$/;t=function(e){var t,o,u,f,l;for(t=1;t<e.length;t+=1){o=e[t];u=e[t-1];f=e[t-2];if(i(o)&&a(u)&&i(f)){if(r.test(f)&&n.test(o)){e[t-2]=f.replace(r,"\n");e[t]=o.replace(n,"")}}if(s(o)&&i(u)){if(r.test(u)&&i(o.f[0])&&n.test(o.f[0])){e[t-1]=u.replace(r,"\n");o.f[0]=o.f[0].replace(n,"")}}if(i(o)&&s(u)){l=u.f[u.f.length-1];if(i(l)&&r.test(l)&&n.test(o)){u.f[u.f.length-1]=l.replace(r,"\n");e[t]=o.replace(n,"")}}}return e};function i(e){return typeof e==="string"}function a(t){return t.t===e.COMMENT||t.t===e.DELIMCHANGE}function s(t){return(t.t===e.SECTION||t.t===e.INVERTED)&&t.f}return t}(W);var jt=function(){var e=/[-/\\^$*+?.()|[\]{}]/g;return function t(n){return n.replace(e,"\\$&")}}();var Ft=function(e,t,n,r,i,a,s,o,u){var f;var l,c,h=/[ \t\f\r\n]+/g,p=/^(?:pre|script|style|textarea)$/i,d=/^\s+/,v=/\s+$/;l=t.extend({init:function(e,t){g(t,this);this.sectionDepth=0;this.interpolate={script:!t.interpolate||t.interpolate.script!==false,style:!t.interpolate||t.interpolate.style!==false};if(t.sanitize===true){t.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:true}}this.sanitizeElements=t.sanitize&&t.sanitize.elements;this.sanitizeEventAttributes=t.sanitize&&t.sanitize.eventAttributes;this.includeLinePositions=t.includeLinePositions},postProcess:function(e,t){if(this.sectionDepth>0){this.error("A section was left open")}m(e,t.stripComments!==false,t.preserveWhitespace,!t.preserveWhitespace,!t.preserveWhitespace,t.rewriteElse!==false);return e},converters:[n,r,i,a]});c=function(e){var t=arguments[1];if(t===void 0)t={};var n,r,i,a,s,o,f,c;g(t);f=new RegExp("<!--\\s*"+u(t.delimiters[0])+"\\s*>\\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\\s*"+u(t.delimiters[1])+"\\s*-->");c=new RegExp("<!--\\s*"+u(t.delimiters[0])+"\\s*\\/\\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\\s*"+u(t.delimiters[1])+"\\s*-->");n={v:1};if(f.test(e)){r=e;e="";while(s=f.exec(r)){a=s[1];e+=r.substr(0,s.index);r=r.substring(s.index+s[0].length);o=c.exec(r);if(!o||o[1]!==a){throw new Error('Inline partials must have a closing delimiter, and cannot be nested. Expected closing for "'+a+'", but '+(o?'instead found "'+o[1]+'"':" no closing found"))}(i||(i={}))[a]=new l(r.substr(0,o.index),t).result;r=r.substring(o.index+o[0].length)}e+=r;n.p=i}n.t=new l(e,t).result;return n};f=c;function m(t,n,r,i,a,u){var f,l,c,g,y,b,w,x,_;o(t);f=t.length;while(f--){l=t[f];if(l.exclude){t.splice(f,1)}else if(n&&l.t===e.COMMENT){t.splice(f,1)}}s(t,i,a);f=t.length;while(f--){l=t[f];if(l.f){y=r||l.t===e.ELEMENT&&p.test(l.e);if(!y){c=t[f-1];g=t[f+1];if(!c||typeof c==="string"&&v.test(c)){b=true}if(!g||typeof g==="string"&&d.test(g)){w=true}}m(l.f,n,y,b,w,u)}if(l.l){m(l.l,n,r,b,w,u);if(u){x={t:4,n:e.SECTION_UNLESS,f:l.l};if(l.r){x.r=l.r}if(l.x){x.x=l.x}if(l.rx){x.rx=l.rx}t.splice(f+1,0,x);delete l.l}}if(l.a){for(_ in l.a){if(l.a.hasOwnProperty(_)&&typeof l.a[_]!=="string"){m(l.a[_],n,r,b,w,u)}}}}f=t.length;while(f--){if(typeof t[f]==="string"){if(typeof t[f+1]==="string"){t[f]=t[f]+t[f+1];t.splice(f+1,1)}if(!r){t[f]=t[f].replace(h," ")}if(t[f]===""){t.splice(f,1)}}}}function g(e){var t=arguments[1];if(t===void 0)t=e;t.delimiters=e.delimiters||["{{","}}"];t.tripleDelimiters=e.tripleDelimiters||["{{{","}}}"];t.staticDelimiters=e.staticDelimiters||["[[","]]"];t.staticTripleDelimiters=e.staticTripleDelimiters||["[[[","]]]"]}return f}(W,vt,_t,Et,Lt,Ct,It,Pt,jt);var Dt=function(){return function e(t,n){var r=t.map(n);t.forEach(function(e,t){r[e]=r[t]});return r}}(wt);var Mt=function(e){var t,n;t=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"];n=e(t,function(e){return e});return n}(Dt);var Vt=function(e,t,n,r,i){var a={parse:o,fromId:u,isHashedId:f,isParsed:l,getParseOptions:c,createHelper:s};function s(e){var t=r(a);t.parse=function(t,n){return o(t,n||e)};return t}function o(t,r){if(!n){throw new Error(e.missingParser)}return n(t,r||this.options)}function u(e,n){var r;if(!t){if(n&&n.noThrow){return}throw new Error("Cannot retrieve template #"+e+" as Ractive is not running in a browser.")}if(f(e)){e=e.substring(1)}if(!(r=document.getElementById(e))){if(n&&n.noThrow){return}throw new Error("Could not find template element with id #"+e)}if(r.tagName.toUpperCase()!=="SCRIPT"){if(n&&n.noThrow){return}throw new Error("Template element with id #"+e+", must be a <script> element")}return r.innerHTML}function f(e){return e&&e.charAt(0)==="#"}function l(e){return!(typeof e==="string")}function c(e){if(e.defaults){e=e.defaults}return i.reduce(function(t,n){t[n]=e[n];return t},{})}return a}(h,S,Ft,B,Mt);var Ut=function(e,t){var n={name:"template",extend:function o(e,t,n){var r;if("template"in n){r=n.template;if(typeof r==="function"){t.template=r}else{t.template=a(r,t)}}},init:function u(e,t,n){var r,o;r="template"in n?n.template:e.prototype.template;if(typeof r==="function"){o=r;r=i(t,o);t._config.template={fn:o,result:r}}r=a(r,t);t.template=r.t;if(r.p){s(t.partials,r.p)}},reset:function(e){var t=r(e),n;if(t){n=a(t,e);e.template=n.t;s(e.partials,n.p,true);return true}}};function r(e){var t=e._config.template,n;if(!t||!t.fn){return}n=i(e,t.fn);if(n!==t.result){t.result=n;n=a(n,e);return n}}function i(t,n){var r=e.createHelper(e.getParseOptions(t));return n.call(t,t.data,r)}function a(n,r){if(typeof n==="string"){if(n[0]==="#"){n=e.fromId(n)}n=t(n,e.getParseOptions(r))}else if(n.v!==1){throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return n}function s(e,t,n){if(!t)return;for(var r in t){if(n||!e.hasOwnProperty(r)){e[r]=t[r]}}}return n}(Vt,Ft);var $t=function(e){function t(e,t){this.name=e;this.useDefaults=t}t.prototype={constructor:t,extend:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,this.useDefaults?t:t.constructor,n)},init:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,t,n)},configure:function(t,n,r){var i=this.name,a=r[i],s;s=e(t[i]);for(var o in a){s[o]=a[o]}n[i]=s},reset:function(e){var t=e[this.name];var n=false;Object.keys(t).forEach(function(e){var r=t[e];if(r._fn){if(r._fn.isOwner){t[e]=r._fn}else{delete t[e]}n=true}});return n},findOwner:function(e,t){return e[this.name].hasOwnProperty(t)?e:this.findConstructor(e.constructor,t)},findConstructor:function(e,t){if(!e){return}return e[this.name].hasOwnProperty(t)?e:this.findConstructor(e._parent,t)},find:function(e,t){var r=this;return n(e,function(e){return e[r.name][t]})},findInstance:function(e,t){var r=this;return n(e,function(e){return e[r.name][t]?e:void 0})}};function n(e,t){var r,i;if(r=t(e)){return r}if(!e.isolated&&(i=e._parent)){return n(i,t)}}return t}(B,wt);var qt=function(e,t){var n=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],r=e(n,function(e){return new t(e,e==="computed")});return r}(Dt,$t);var Wt=function(){};var Bt=function(e){var t;t=function r(e,t,i){if(!/_super/.test(i)){return i}var a=function s(){var e=n(a._parent,t),r="_super"in this,s=this._super,o;this._super=e;o=i.apply(this,arguments);if(r){this._super=s}else{delete this._super}return o};a._parent=e;a._method=i;return a};function n(t,n){var r;if(n in t){var i=t[n];if(typeof i==="function"){r=i}else{r=function a(){return i}}}else{r=e}return r}return t}(Wt);var zt=function(e,t){function n(t,n,i){if(n in t){if(!(i in t)){e(r(n,i));t[i]=t[n]}else{throw new Error(r(n,i,true))}}}function r(e,t,n){return"options."+e+" has been deprecated in favour of options."+t+"."+(n?" You cannot specify both options, please use options."+t+".":"")}function i(e){n(e,"eventDefinitions","events")}function a(e){if(t(e.adaptors)){n(e,"adaptors","adapt")}}return function s(e){n(e,"beforeInit","onconstruct");n(e,"init","onrender");n(e,"complete","oncomplete");i(e);a(e)}}(c,s);var Ht=function(e,t,n,r,i,a,s,o){var u,f,l,c;c={_parent:true,_component:true};u={data:t,template:r,css:e};f=Object.keys(n).filter(function(e){return!a[e]&&!u[e]&&!i[e]});l=[].concat(u.data,i,f,a,u.template,u.css);for(var h in u){l[h]=u[h]}l.keys=Object.keys(n).concat(a.map(function(e){return e.name})).concat(["css"]);l.keys.forEach(function(e){return c[e]=true});l.parseOptions=i;l.registries=a;function p(e,t,n,r,i){u[t][e](n,r,i)}l.extend=function(e,t,n){v("extend",e,t,n)};l.init=function(e,t,n){v("init",e,t,n)};function d(e){return e in n&&!(e in l.parseOptions)&&!(e in u)}function v(e,t,n,r){o(r);p(e,"data",t,n,r);l.parseOptions.forEach(function(e){if(e in r){n[e]=r[e]}});for(var i in r){if(d(i)){var a=r[i];n[i]=typeof a==="function"?s(t.prototype,i,a):a}}l.registries.forEach(function(i){i[e](t,n,r)});p(e,"template",t,n,r);p(e,"css",t,n,r);m(t.prototype,n,r)}function m(e,t,n){for(var r in n){if(!(r in c)&&n.hasOwnProperty(r)){var i=n[r];if(typeof i==="function"){i=s(e,r,i)}t[r]=i}}}l.reset=function(e){return l.filter(function(t){return t.reset&&t.reset(e)}).map(function(e){return e.name})};l.getConstructTarget=function(e,t){if(t.onconstruct){return{onconstruct:s(e,"onconstruct",t.onconstruct).bind(e),fire:e.fire.bind(e)}}else{return e}};return l}(U,q,n,Ut,Mt,qt,Bt,zt);var Gt=function(e,t,n,r){var i;var a=function(e,i,a,o){if(e===i){return s(i)}if(o){var u=r.registries.interpolators.find(a,o);if(u){return u(e,i)||s(i)}t('Missing "'+o+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(e,i)||n.array(e,i)||n.object(e,i)||s(i)};e.interpolate=a;i=a;function s(e){return function(){return e}}return i}(i,c,f,Ht);var Kt=function(e,t,n){var r=function(e){var t;this.startTime=Date.now();for(t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}this.interpolator=n(this.from,this.to,this.root,this.interpolator);this.running=true;this.tick()};r.prototype={tick:function(){var n,r,i,a,s,o;o=this.keypath;if(this.running){a=Date.now();n=a-this.startTime;if(n>=this.duration){if(o!==null){t.start(this.root);this.root.viewmodel.set(o,this.to);t.end()}if(this.step){this.step(1,this.to)}this.complete(this.to);s=this.root._animations.indexOf(this);if(s===-1){e("Animation was not found")}this.root._animations.splice(s,1);this.running=false;return false}r=this.easing?this.easing(n/this.duration):n/this.duration;if(o!==null){i=this.interpolator(r);t.start(this.root);this.root.viewmodel.set(o,i);t.end()}if(this.step){this.step(r,i)}return true}return false},stop:function(){var t;this.running=false;t=this.root._animations.indexOf(this);if(t===-1){e("Animation was not found")}this.root._animations.splice(t,1)}};return r}(c,E,Gt);var Zt=function(e,t,n,r,i){var a;var s=function(){},o={stop:s};a=function f(e,n,r){var i,a,o,f,l,c,h,p,d,v,m,g,y,b;i=new t(function(e){a=e});if(typeof e==="object"){r=n||{};c=r.easing;h=r.duration;l=[];p=r.step;d=r.complete;if(p||d){m={};r.step=null;r.complete=null;v=function(e){return function(t,n){m[e]=n}}}for(o in e){if(e.hasOwnProperty(o)){if(p||d){g=v(o);r={easing:c,duration:h};if(p){r.step=g}}r.complete=d?g:s;l.push(u(this,o,e[o],r))}}b={easing:c,duration:h};if(p){b.step=function(e){p(e,m)}}if(d){i.then(function(e){d(e,m)})}b.complete=a;y=u(this,null,null,b);l.push(y);i.stop=function(){var e;while(e=l.pop()){e.stop()}if(y){y.stop()}};return i}r=r||{};if(r.complete){i.then(r.complete)}r.complete=a;f=u(this,e,n,r);i.stop=function(){f.stop()};return i};function u(t,a,s,u){var f,l,c,h;if(a){a=n(a)}if(a!==null){h=t.viewmodel.get(a)}r.abort(a,t);if(e(h,s)){if(u.complete){u.complete(u.to)}return o}if(u.easing){if(typeof u.easing==="function"){f=u.easing}else{f=t.easing[u.easing]}if(typeof f!=="function"){f=null}}l=u.duration===undefined?400:u.duration;c=new i({keypath:a,from:h,to:s,root:t,duration:l,easing:f,interpolator:u.interpolator,step:u.step,complete:u.complete});r.add(c);t._animations.push(c);return c}return a}(b,m,P,M,Kt);var Qt=function(e,t){var n=new e("detach");return function r(){if(this.detached){return this.detached}if(this.el){t(this.el.__ractive_instances__,this)}this.detached=this.fragment.detach();n.fire(this);return this.detached}}(d,v);var Xt=function co(e){if(!this.el){return null}return this.fragment.find(e)};var Yt=function(e,t,n){var r,i,a,s,o,u,f,l;if(!e){r=null}else{i=n("div");a=["matches","matchesSelector"];l=function(e){return function(t,n){return t[e](n)}};u=a.length;while(u--&&!r){s=a[u];if(i[s]){r=l(s)}else{f=t.length;while(f--){o=t[u]+s.substr(0,1).toUpperCase()+s.substring(1);if(i[o]){r=l(o);break}}}}if(!r){r=function(e,t){var n,r,a;r=e.parentNode;if(!r){i.innerHTML="";r=i;e=e.cloneNode();i.appendChild(e)}n=r.querySelectorAll(t);a=n.length;while(a--){if(n[a]===e){return true}}return false}}}return r}(S,j,O);var Jt=function(e){return function(t,n){var r=this._isComponentQuery?!this.selector||t.name===this.selector:e(t.node,this.selector);if(r){this.push(t.node||t.instance);if(!n){this._makeDirty()}return true}}}(Yt);var en=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"];t=this.selector;n=e.indexOf(t);if(n!==-1){e.splice(n,1);e[t]=null}};var tn=function(){var e;e=function(e,t){var r,i,a,s,o,u,f,l,c,h;r=n(e.component||e._ractive.proxy);i=n(t.component||t._ractive.proxy);a=r[r.length-1];s=i[i.length-1];while(a&&a===s){r.pop();i.pop();o=a;a=r[r.length-1];s=i[i.length-1]}a=a.component||a;s=s.component||s;c=a.parentFragment;h=s.parentFragment;if(c===h){u=c.items.indexOf(a);f=h.items.indexOf(s);return u-f||r.length-i.length}if(l=o.fragments){u=l.indexOf(c);f=l.indexOf(h);return u-f||r.length-i.length}throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")};function t(e){var t;if(t=e.parentFragment){return t.owner}if(e.component&&(t=e.component.parentFragment)){return t.owner}}function n(e){var n,r;n=[e];r=t(e);while(r){n.push(r);r=t(r)}return n}return e}();var nn=function(e){return function(t,n){var r;if(t.compareDocumentPosition){r=t.compareDocumentPosition(n);return r&2?1:-1}return e(t,n)}}(tn);var rn=function(e,t){return function(){this.sort(this._isComponentQuery?t:e);this._dirty=false}}(nn,tn);var an=function(e){return function(){var t=this;if(!this._dirty){this._dirty=true;e.scheduleTask(function(){t._sort()})}}}(E);var sn=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);if(t!==-1){this.splice(t,1)}};var on=function(e,t,n,r,i,a){return function s(o,u,f,l){var c=[];e(c,{selector:{value:u},live:{value:f},_isComponentQuery:{value:l},_test:{value:t}});if(!f){return c}e(c,{cancel:{value:n},_root:{value:o},_sort:{value:r},_makeDirty:{value:i},_remove:{value:a},_dirty:{value:false,writable:true}});return c}}(N,Jt,en,rn,an,sn);var un=function(e){return function t(n,r){var i,a;if(!this.el){return[]}r=r||{};i=this._liveQueries;if(a=i[n]){return r&&r.live?a:a.slice()}a=e(this,n,!!r.live,false);if(a.live){i.push(n);i["_"+n]=a}this.fragment.findAll(n,a);return a}}(on);var fn=function(e){return function t(n,r){var i,a;r=r||{};i=this._liveComponentQueries;if(a=i[n]){return r&&r.live?a:a.slice()}a=e(this,n,!!r.live,true);if(a.live){i.push(n);i["_"+n]=a}this.fragment.findAllComponents(n,a);return a}}(on);var ln=function ho(e){return this.fragment.findComponent(e)};var cn=function(){var e;var t={};e=function r(e){var r,i,a,s,o,u;r=e.split(".");if(!(i=t[r.length])){i=n(r.length)}o=[];a=function(e,t){return e?"*":r[t]};s=i.length;while(s--){u=i[s].map(a).join(".");if(!o.hasOwnProperty(u)){o.push(u);o[u]=true}}return o};function n(e){var n="",r,i,a,s,o;if(!t[e]){a=[];while(n.length<e){n+=1}r=parseInt(n,2);s=function(e){return e==="1"};for(o=0;o<=r;o+=1){i=o.toString(2);while(i.length<e){i="0"+i}a[o]=Array.prototype.map.call(i,s)}t[e]=a}return t[e]}return e}();var hn=function(e){var t;t=function i(t,r){var i=arguments[2];if(i===void 0)i={};if(!r){return}if(!i.event){i.event={name:r,context:t.data,keypath:"",_noArg:true}}else{i.event.name=r}var a=e(r);n(t,a,i.event,i.args,true)};function n(t,i,a,s){var o=arguments[4];if(o===void 0)o=false;var u,f,l=true;if(a){t.event=a}for(f=i.length;f>=0;f--){u=t._subs[i[f]];if(u){l=r(t,u,a,s)&&l}}if(a){delete t.event}if(t._parent&&l){if(o&&t.component){var c=t.component.name+"."+i[i.length-1];i=e(c);if(a){a.component=t}}n(t._parent,i,a,s)}}function r(e,t,n,r){var i=null,a=false;if(n&&!n._noArg){r=[n].concat(r)}for(var s=0,o=t.length;s<o;s+=1){if(t[s].apply(e,r)===false){a=true}}if(n&&!n._noArg&&a&&(i=n.original)){i.preventDefault&&i.preventDefault();i.stopPropagation&&i.stopPropagation()}return!a}return t}(cn);var pn=function(e){return function t(n){var r={args:Array.prototype.slice.call(arguments,1)};e(this,n,r)}}(hn);var dn=function(e,t){var n={capture:true};return function r(i){var a;i=e(i);a=this.viewmodel.get(i,n);if(a===undefined&&this._parent&&!this.isolated){if(t(this,i,this.fragment)){a=this.viewmodel.get(i)}}return a}}(P,x);var vn=function po(e){var t;if(!e||typeof e==="boolean"){return}if(typeof window==="undefined"||!document||!e){return null}if(e.nodeType){return e}if(typeof e==="string"){t=document.getElementById(e);if(!t&&document.querySelector){t=document.querySelector(e)}if(t&&t.nodeType){return t}}if(e[0]&&e[0].nodeType){return e[0]}return null};var mn=function(e,t){var n;var r=new e("insert");n=function a(e,n){if(!this.fragment.rendered){throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.")}e=t(e);n=t(n)||null;if(!e){throw new Error("You must specify a valid target to insert into")}e.insertBefore(this.detach(),n);this.el=e;(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this);this.detached=null;i(this)};function i(e){r.fire(e);e.findAllComponents("*").forEach(function(e){i(e.instance)})}return n}(d,vn);var gn=function(e,t,n){return function r(i,a,s){var o,u;i=n(i);o=this.viewmodel.get(i);if(!t(o)||!t(a)){return this.set(i,a,s&&s.complete)}u=e.start(this,true);this.viewmodel.merge(i,o,a,s);e.end();if(s&&s.complete){u.then(s.complete)}return u}}(E,s,P);var yn=function(e,t){var n=function(e,t,n,r){this.root=e;this.keypath=t;this.callback=n;this.defer=r.defer;this.context=r&&r.context?r.context:e};n.prototype={init:function(e){this.value=this.root.get(this.keypath);if(e!==false){this.update()}else{this.oldValue=this.value}},setValue:function(n){var r=this;if(!t(n,this.value)){this.value=n;if(this.defer&&this.ready){e.scheduleTask(function(){return r.update()})}else{this.update()}}},update:function(){if(this.updating){return}this.updating=true;this.callback.call(this.context,this.value,this.oldValue,this.keypath);this.oldValue=this.value;this.updating=false}};return n}(E,b);var bn=function(e){return function t(n,r){var i,a,s;i=r.split(".");s=[""];while(a=i.shift()){if(a==="*"){s=s.reduce(o,[])}else{if(s[0]===""){s[0]=a}else{s=s.map(u(a))}}}return s;function o(t,r){var i,a,s;i=n.viewmodel.wrapped[r]?n.viewmodel.wrapped[r].get():n.get(r);for(a in i){if(i.hasOwnProperty(a)&&(a!=="_ractive"||!e(i))){s=r?r+"."+a:a;t.push(s)}}return t}function u(e){return function(t){return t?t+"."+e:e}}}}(s);var wn=function(e){return function t(n,r){var i,a;i=e(n,r);a={};i.forEach(function(e){a[e]=n.get(e)});return a}}(bn);var xn=function(e,t,n){var r,i=/\*/,a=Array.prototype.slice;r=function(e,t,n,r){this.root=e;this.callback=n;this.defer=r.defer;this.keypath=t;this.regex=new RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$");this.values={};if(this.defer){this.proxies=[]}this.context=r&&r.context?r.context:e};r.prototype={init:function(e){var t,r;t=n(this.root,this.keypath);if(e!==false){for(r in t){if(t.hasOwnProperty(r)){this.update(r)}}}else{this.values=t}},update:function(t){var r=this;var a;if(i.test(t)){a=n(this.root,t);for(t in a){if(a.hasOwnProperty(t)){this.update(t)}}return}if(this.root.viewmodel.implicitChanges[t]){return}if(this.defer&&this.ready){e.scheduleTask(function(){return r.getProxy(t).update()});return}this.reallyUpdate(t)},reallyUpdate:function(e){var n,r,i;n=this.root.viewmodel.get(e);if(this.updating){this.values[e]=n;return}this.updating=true;if(!t(n,this.values[e])||!this.ready){r=a.call(this.regex.exec(e),1);i=[n,this.values[e],e].concat(r);this.callback.apply(this.context,i);this.values[e]=n}this.updating=false},getProxy:function(e){var t=this;if(!this.proxies[e]){this.proxies[e]={update:function(){t.reallyUpdate(e)}}}return this.proxies[e]}};return r}(E,b,wn);var _n=function(e,t,n){var r=/\*/,i={};return function a(s,o,u,f){var l,c,h;o=e(o);f=f||i;if(r.test(o)){l=new n(s,o,u,f);s.viewmodel.patternObservers.push(l);c=true}else{l=new t(s,o,u,f)}s.viewmodel.register(o,l,c?"patternObservers":"observers");l.init(f.init);l.ready=true;return{cancel:function(){var e;if(h){return}if(c){e=s.viewmodel.patternObservers.indexOf(l);s.viewmodel.patternObservers.splice(e,1);s.viewmodel.unregister(o,l,"patternObservers")}else{s.viewmodel.unregister(o,l,"observers")}h=true}}}}(P,yn,xn);var En=function(e,t){return function n(r,i,a){var s,o,u,f;if(e(r)){a=i;o=r;s=[];for(r in o){if(o.hasOwnProperty(r)){i=o[r];s.push(this.observe(r,i,a))}}return{cancel:function(){while(s.length){s.pop().cancel()}}}}if(typeof r==="function"){a=i;i=r;r="";return t(this,r,i,a)}u=r.split(" ");if(u.length===1){return t(this,r,i,a)}s=[];f=u.length;while(f--){r=u[f];if(r){s.push(t(this,r,i,a))}}return{cancel:function(){while(s.length){s.pop().cancel()}}}}}(o,_n);var kn=function(e){return e.trim()};var An=function(e){return e!==""};var Tn=function(e,t){return function n(r,i){var a=this;var s;if(!r){for(r in this._subs){delete this._subs[r]}}else{s=r.split(" ").map(e).filter(t);s.forEach(function(e){var t,n;if(t=a._subs[e]){if(i){n=t.indexOf(i);if(n!==-1){t.splice(n,1)}}else{a._subs[e]=[]}}})}return this}}(kn,An);var Cn=function(e,t){return function n(r,i){var a=this;var s=this,o,u,f;if(typeof r==="object"){o=[];for(u in r){if(r.hasOwnProperty(u)){o.push(this.on(u,r[u]))}}return{cancel:function(){var e;while(e=o.pop()){e.cancel()}}}}f=r.split(" ").map(e).filter(t);f.forEach(function(e){(a._subs[e]||(a._subs[e]=[])).push(i)});return{cancel:function(){s.off(r,i)}}}}(kn,An);var On=function(){var e;e=function n(e,r,i){var a,s,o=[],u,f,l,c;a=t(e,r,i);if(!a){return null}s=e.length;l=a.length-2-a[1];u=Math.min(s,a[0]);f=u+a[1];for(c=0;c<u;c+=1){o.push(c)}for(;c<f;c+=1){o.push(-1)}for(;c<s;c+=1){o.push(c+l)}return o};function t(e,t,n){switch(t){case"splice":if(n[0]!==undefined&&n[0]<0){n[0]=e.length+Math.max(n[0],-e.length)}while(n.length<2){n.push(0)}n[1]=Math.min(n[1],e.length-n[0]);return n;case"sort":case"reverse":return null;case"pop":if(e.length){return[e.length-1,1]}return null;case"push":return[e.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}}return e}();var Sn=function(e,t,n){var r=Array.prototype;return function(i){return function(a){var s=Array.prototype.slice;var o=s.call(arguments,1);var u,f=[],l,c,h;u=this.get(a);l=u.length;if(!e(u)){throw new Error("Called ractive."+i+"('"+a+"'), but '"+a+"' does not refer to an array")}f=n(u,i,o);h=r[i].apply(u,o);c=t.start(this,true).then(function(){return h});if(!!f){this.viewmodel.smartUpdate(a,u,f)}else{this.viewmodel.mark(a)}t.end();return c}}}(s,E,On);var Rn=function(e){return e("pop")}(Sn);var Nn=function(e){return e("push")}(Sn);var Ln=function(e,t,n){var r,i,a,s,o,u,f,l="/* Ractive.js component styles */\n",c={},h=[];if(!t){r=null}else{e.push(function(){a=e.runloop});s=document.createElement("style");s.type="text/css";o=document.getElementsByTagName("head")[0];f=false;u=s.styleSheet;i=function(){var e;if(h.length){e=l+h.join(" ");if(u){u.cssText=e}else{s.innerHTML=e}if(!f){o.appendChild(s);f=true}}else if(f){o.removeChild(s);f=false}};r={add:function(e){if(!e.css){return}if(!c[e._guid]){c[e._guid]=0;h.push(e.css);i()}c[e._guid]+=1},remove:function(e){if(!e.css){return}c[e._guid]-=1;if(!c[e._guid]){n(h,e.css);a.scheduleTask(i)}}}}return r}(i,S,v);var In=function(e,t,n,r){var i=new t("render"),a=new t("complete");return function s(t,o){var u=this;var f,l,c;c=this.transitionsEnabled;if(this.noIntro){this.transitionsEnabled=false}f=r.start(this,true);r.scheduleTask(function(){return i.fire(u)},true);if(this.fragment.rendered){throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first")}t=n(t)||this.el;o=n(o)||this.anchor;this.el=t;this.anchor=o;if(this.constructor.css){e.add(this.constructor)}if(t){if(!(l=t.__ractive_instances__)){t.__ractive_instances__=[this]}else{l.push(this)}if(o){t.insertBefore(this.fragment.render(),o)}else{t.appendChild(this.fragment.render())}}r.end();this.transitionsEnabled=c;f.then(function(){return a.fire(u)});return f}}(Ln,d,vn,E);var Pn=function vo(){this.dirtyValue=this.dirtyArgs=true;if(this.bound&&typeof this.owner.bubble==="function"){this.owner.bubble()}};var jn=function mo(){var e;if(this.items.length===1){return this.items[0].detach()}e=document.createDocumentFragment();this.items.forEach(function(t){var n=t.detach();if(n){e.appendChild(n)}});return e};var Fn=function go(e){var t,n,r,i;if(this.items){n=this.items.length;for(t=0;t<n;t+=1){r=this.items[t];if(r.find&&(i=r.find(e))){return i}}return null}};var Dn=function yo(e,t){var n,r,i;if(this.items){r=this.items.length;for(n=0;n<r;n+=1){i=this.items[n];if(i.findAll){i.findAll(e,t)}}}return t};var Mn=function bo(e,t){var n,r,i;if(this.items){r=this.items.length;for(n=0;n<r;n+=1){i=this.items[n];if(i.findAllComponents){i.findAllComponents(e,t)
}}}return t};var Vn=function wo(e){var t,n,r,i;if(this.items){t=this.items.length;for(n=0;n<t;n+=1){r=this.items[n];if(r.findComponent&&(i=r.findComponent(e))){return i}}return null}};var Un=function xo(e){var t=e.index,n;if(this.items[t+1]){n=this.items[t+1].firstNode()}else if(this.owner===this.root){if(!this.owner.component){n=null}else{n=this.owner.component.findNextNode()}}else{n=this.owner.findNextNode(this)}return n};var $n=function _o(){if(this.items&&this.items[0]){return this.items[0].firstNode()}return null};var qn=function Eo(){var e=this;do{if(e.pElement){return e.pElement.node}}while(e=e.parent);return this.root.detached||this.root.el};var Wn=function(e){var t;var n={};t=function i(){var t=arguments[0];if(t===void 0)t=n;var i,a,s,o,u,f,l;i=t.args;u=i?"argsList":"value";f=i?"dirtyArgs":"dirtyValue";if(this[f]){s=r(this.items,a={},this.root._guid);o=e(i?"["+s+"]":s,a);if(!o){l=i?[this.toString()]:this.toString()}else{l=o.value}this[u]=l;this[f]=false}return this[u]};function r(e,t,n,i){i=i||0;return e.map(function(e){var a,s,o;if(e.text){return e.text}if(e.fragments){return e.fragments.map(function(e){return r(e.items,t,n,i)}).join("")}a=n+"-"+i++;if(s=e.root.viewmodel.wrapped[e.keypath]){o=s.value}else{o=e.getValue()}t[a]=o;return"${"+a+"}"}).join("")}return t}(Rt);var Bn=function(){var e=/</g;var t=/>/g;var n=/&/g;return function r(i){return i.replace(n,"&amp;").replace(e,"&lt;").replace(t,"&gt;")}}();var zn=function ko(e){if(e&&e.parentNode){e.parentNode.removeChild(e)}return e};var Hn=function(e){return function(){return e(this.node)}}(zn);var Gn=function(e,t,n){var r=function(t){this.type=e.TEXT;this.text=t.template};r.prototype={detach:n,firstNode:function(){return this.node},render:function(){if(!this.node){this.node=document.createTextNode(this.text)}return this.node},toString:function(e){return e?t(this.text):this.text},unrender:function(e){if(e){return this.detach()}}};return r}(W,Bn,Hn);var Kn=function Ao(){if(this.registered){this.root.viewmodel.unregister(this.keypath,this)}if(this.resolver){this.resolver.unbind()}};var Zn=function To(){return this.value};var Qn=function Co(e,t){return e&&t&&e.substr(0,t.length+1)===t+"."};var Xn=function(e){return function t(n,r,i){if(n===r){return i!==undefined?i:null}if(e(n,r)){return i===null?i:n.replace(r+".",i+".")}}}(Qn);var Yn=function(e,t,n){var r=function(n,r,i){var a;this.ref=r;this.resolved=false;this.root=n.root;this.parentFragment=n.parentFragment;this.callback=i;a=t(n.root,r,n.parentFragment);if(a!==undefined){this.resolve(a)}else{e.addUnresolved(this)}};r.prototype={resolve:function(e){this.resolved=true;this.keypath=e;this.callback(e)},forceResolution:function(){this.resolve(this.ref)},rebind:function(e,t,r,i){var a;if(this.keypath!==undefined){a=n(this.keypath,r,i);if(a!==undefined){this.resolve(a)}}},unbind:function(){if(!this.resolved){e.removeUnresolved(this)}}};return r}(E,x,Xn);var Jn=function(){var e=function(e,t,n){this.parentFragment=e.parentFragment;this.ref=t;this.callback=n;this.rebind()};e.prototype={rebind:function(){var e=this.ref,t=this.parentFragment;if(e==="@keypath"){while(t){if(!!t.context){return this.callback("@"+t.context)}t=t.parent}}if(e==="@index"||e==="@key"){while(t){if(t.index!==undefined){return this.callback("@"+t.index)}t=t.parent}}throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath')},unbind:function(){}};return e}();var er=function(){var e=function(e,t,n){this.parentFragment=e.parentFragment;this.ref=t;this.callback=n;this.rebind()};e.prototype={rebind:function(){var e=this.ref,t=this.parentFragment.indexRefs,n=t[e];if(n!==undefined){this.callback("@"+n)}},unbind:function(){}};return e}();var tr=function(e,t,n){return function r(i,a,s){var o,u;if(a.charAt(0)==="@"){return new t(i,a,s)}o=i.parentFragment.indexRefs;if(o&&(u=o[a])!==undefined){return new n(i,a,s)}return new e(i,a,s)}}(Yn,Jn,er);var nr=function(){var e={};return function t(n,r){var i,a;if(e[n]){return e[n]}a=[];while(r--){a[r]="_"+r}i=new Function(a.join(","),"return("+n+")");e[n]=i;return i}}();var rr=function(e,t,n,r){var i;var a,s=Function.prototype.bind;a=function(e,t,r,i){var a=this,s,o;s=e.root;a.root=s;a.parentFragment=t;a.callback=i;a.owner=e;a.str=r.s;a.keypaths=[];o=t.indexRefs;a.pending=r.r.length;a.refResolvers=r.r.map(function(e,t){return n(a,e,function(e){a.resolve(t,e)})});a.ready=true;a.bubble()};a.prototype={bubble:function(){if(!this.ready){return}this.uniqueString=u(this.str,this.keypaths);this.keypath=f(this.uniqueString);this.createEvaluator();this.callback(this.keypath)},unbind:function(){var e;while(e=this.refResolvers.pop()){e.unbind()}},resolve:function(e,t){this.keypaths[e]=t;this.bubble()},createEvaluator:function(){var e=this;var n=this,i,a,s,u,f;i=this.root.viewmodel.computations[this.keypath];if(!i){f=r(this.str,this.refResolvers.length);a=this.keypaths.map(function(r){var i;if(r==="undefined"){return function(){return undefined}}if(r[0]==="@"){i=r.slice(1);return t(i)?function(){return+i}:function(){return i}}return function(){var t=e.root.viewmodel.get(r);if(typeof t==="function"){t=c(t,n.root)}return t}});s={deps:this.keypaths.filter(l),get:function(){var e=a.map(o);return f.apply(null,e)}};i=this.root.viewmodel.compute(this.keypath,s)}else{this.root.viewmodel.mark(this.keypath)}},rebind:function(e,t,n,r){this.refResolvers.forEach(function(i){return i.rebind(e,t,n,r)})}};i=a;function o(e){return e.call()}function u(e,n){return e.replace(/_([0-9]+)/g,function(e,r){var i,a;i=n[r];if(i===undefined){return"undefined"}if(i[0]==="@"){a=i.slice(1);return t(a)?a:'"'+a+'"'}return i})}function f(e){return"${"+e.replace(/[\.\[\]]/g,"-")+"}"}function l(e){return e!==undefined&&e[0]!=="@"}function c(t,n){var r,i,a;if(t._noWrap){return t}i="__ractive_"+n._guid;r=t[i];if(r){return r}else if(/this/.test(t.toString())){e(t,i,{value:s.call(t,n)});for(a in t){if(t.hasOwnProperty(a)){t[i][a]=t[a]}}return t[i]}e(t,"__ractive_nowrap",{value:t});return t.__ractive_nowrap}return i}(R,u,tr,nr,wt);var ir=function(e,t,n){var r=function(r,i,a){var s=this,o;s.resolver=i;s.root=i.root;s.parentFragment=a;s.viewmodel=i.root.viewmodel;if(typeof r==="string"){s.value=r}else if(r.t===e.REFERENCE){s.refResolver=t(this,r.n,function(e){s.resolve(e)})}else{new n(i,a,r,function(e){s.resolve(e)})}};r.prototype={resolve:function(e){if(this.keypath){this.viewmodel.unregister(this.keypath,this)}this.keypath=e;this.value=this.viewmodel.get(e);this.bind();this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(e,t,n,r){if(this.refResolver){this.refResolver.rebind(e,t,n,r)}},setValue:function(e){this.value=e;this.resolver.bubble()},unbind:function(){if(this.keypath){this.viewmodel.unregister(this.keypath,this)}if(this.unresolved){this.unresolved.unbind()}},forceResolution:function(){if(this.refResolver){this.refResolver.forceResolution()}}};return r}(W,tr,rr);var ar=function(e,t,n){var r=function(r,i,a){var s=this;var o=this,u,f,l,c;o.parentFragment=c=r.parentFragment;o.root=u=r.root;o.mustache=r;o.ref=f=i.r;o.callback=a;o.unresolved=[];if(l=e(u,f,c)){o.base=l}else{o.baseResolver=new t(this,f,function(e){o.base=e;o.baseResolver=null;o.bubble()})}o.members=i.m.map(function(e){return new n(e,s,c)});o.ready=true;o.bubble()};r.prototype={getKeypath:function(){var e=this.members.map(i);if(!e.every(a)||this.baseResolver){return null}return this.base+"."+e.join(".")},bubble:function(){if(!this.ready||this.baseResolver){return}this.callback(this.getKeypath())},unbind:function(){this.members.forEach(s)},rebind:function(e,t,n,r){var i;this.members.forEach(function(a){if(a.rebind(e,t,n,r)){i=true}});if(i){this.bubble()}},forceResolution:function(){if(this.baseResolver){this.base=this.ref;this.baseResolver.unbind();this.baseResolver=null}this.members.forEach(function(e){return e.forceResolution()});this.bubble()}};function i(e){return e.value}function a(e){return e!=undefined}function s(e){e.unbind()}return r}(x,Yn,ir);var sr=function(e,t,n,r){return function i(a,s){var o,u,f;u=s.parentFragment;f=s.template;a.root=u.root;a.parentFragment=u;a.pElement=u.pElement;a.template=s.template;a.index=s.index||0;a.isStatic=s.template.s;a.type=s.template.t;a.registered=false;if(o=f.r){a.resolver=new t(a,o,l)}if(s.template.x){a.resolver=new r(a,u,s.template.x,c)}if(s.template.rx){a.resolver=new n(a,s.template.rx,c)}if(a.template.n===e.SECTION_UNLESS&&!a.hasOwnProperty("value")){a.setValue(undefined)}function l(e){a.resolve(e)}function c(e){var t=a.keypath;if(e!==t){a.resolve(e);if(t!==undefined){a.fragments&&a.fragments.forEach(function(n){n.rebind(null,null,t,e)})}}}}}(W,tr,ar,rr);var or=function(e){return function t(n){var r,i,a;if(n&&n[0]==="@"){i=n.slice(1);if(e(i)){i=+i}this.keypath=n;this.setValue(i);return}if(this.registered){this.root.viewmodel.unregister(this.keypath,this);this.registered=false;r=true}this.keypath=n;if(n!=undefined){i=this.root.viewmodel.get(n);this.root.viewmodel.register(n,this);this.registered=true}this.setValue(i);if(r&&(a=this.twowayBinding)){a.rebound()}}}(u);var ur=function Oo(e,t,n,r){if(this.fragments){this.fragments.forEach(function(i){return i.rebind(e,t,n,r)})}if(this.resolver){this.resolver.rebind(e,t,n,r)}};var fr=function(e,t,n,r){return{getValue:e,init:t,resolve:n,rebind:r}}(Zn,sr,or,ur);var lr=function(e,t,n,r,i,a,s,o){var u=function(t){this.type=e.INTERPOLATOR;s.init(this,t)};u.prototype={update:function(){this.node.data=this.value==undefined?"":this.value},resolve:s.resolve,rebind:s.rebind,detach:o,unbind:a,render:function(){if(!this.node){this.node=document.createTextNode(this.value!=undefined?this.value:"")}return this.node},unrender:function(e){if(e){r(this.node)}},getValue:s.getValue,setValue:function(e){var n;if(n=this.root.viewmodel.wrapped[this.keypath]){e=n.get()}if(!i(e,this.value)){this.value=e;this.parentFragment.bubble();if(this.node){t.addView(this)}}},firstNode:function(){return this.node},toString:function(e){var t=this.value!=undefined?""+this.value:"";return e?n(t):t}};return u}(W,E,Bn,zn,b,Kn,fr,Hn);var cr=function So(){this.parentFragment.bubble()};var hr=function Ro(){var e;if(this.fragments.length===1){return this.fragments[0].detach()}e=document.createDocumentFragment();this.fragments.forEach(function(t){e.appendChild(t.detach())});return e};var pr=function No(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1){if(r=this.fragments[t].find(e)){return r}}return null};var dr=function Lo(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1){this.fragments[n].findAll(e,t)}};var vr=function Io(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1){this.fragments[n].findAllComponents(e,t)}};var mr=function Po(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1){if(r=this.fragments[t].findComponent(e)){return r}}return null};var gr=function jo(e){if(this.fragments[e.index+1]){return this.fragments[e.index+1].firstNode()}return this.parentFragment.findNextNode(this)};var yr=function Fo(){var e,t,n;if(e=this.fragments.length){for(t=0;t<e;t+=1){if(n=this.fragments[t].firstNode()){return n}}}return this.parentFragment.findNextNode(this)};var br=function(e,t,n){var r;n.push(function(){r=n.Fragment});return function i(n){var r=this;var i=this,a,s,o,u,f,l,c;if(this.shuffling||this.unbound||this.subtype&&this.subtype!==e.SECTION_EACH){return}this.shuffling=true;t.scheduleTask(function(){return r.shuffling=false});a=this.parentFragment;f=[];n.forEach(function h(e,t){var n,r,a,o;if(e===t){f[e]=i.fragments[t];return}n=i.fragments[t];if(s===undefined){s=t}if(e===-1){i.fragmentsToUnrender.push(n);n.unbind();return}r=e-t;a=i.keypath+"."+t;o=i.keypath+"."+e;n.rebind(i.template.i,e,a,o);n.index=e;f[e]=n});u=this.root.get(this.keypath).length;if(s===undefined){if(this.length===u){return}s=this.length}this.length=this.fragments.length=u;if(this.rendered){t.addView(this)}l={template:this.template.f,root:this.root,owner:this};if(this.template.i){l.indexRef=this.template.i}for(o=s;o<u;o+=1){c=f[o];if(!c){this.fragmentsToCreate.push(o)}this.fragments[o]=c}}}(W,E,i);var wr=function Do(){var e;e=this.docFrag=document.createDocumentFragment();this.update();this.rendered=true;return e};var xr=function(){var e=/^\[object (?:Array|FileList)\]$/,t=Object.prototype.toString;return function n(r){return e.test(t.call(r))}}();var _r=function(e,t,n,r,i){var a;var s;i.push(function(){s=i.Fragment});a=function m(e){var t=this;var n,i;if(this.updating){return}this.updating=true;if(n=this.root.viewmodel.wrapped[this.keypath]){e=n.get()}if(this.fragmentsToCreate.length){i={template:this.template.f,root:this.root,pElement:this.pElement,owner:this,indexRef:this.template.i};this.fragmentsToCreate.forEach(function(e){var n;i.context=t.keypath+"."+e;i.index=e;n=new s(i);t.fragmentsToRender.push(t.fragments[e]=n)});this.fragmentsToCreate.length=0}else if(o(this,e)){this.bubble();if(this.rendered){r.addView(this)}}this.value=e;this.updating=false};function o(r,i){var a={template:r.template.f,root:r.root,pElement:r.parentFragment.pElement,owner:r};if(r.subtype){switch(r.subtype){case e.SECTION_IF:return h(r,i,false,a);case e.SECTION_UNLESS:return h(r,i,true,a);case e.SECTION_WITH:return c(r,a);case e.SECTION_IF_WITH:return l(r,i,a);case e.SECTION_EACH:if(n(i)){return f(r,i,a)}}}r.ordered=!!t(i);if(r.ordered){return u(r,i,a)}if(n(i)||typeof i==="function"){if(r.template.i){return f(r,i,a)}return c(r,a)}return h(r,i,false,a)}function u(e,t,n){var r,i,a;i=t.length;if(i===e.length){return false}if(i<e.length){e.fragmentsToUnrender=e.fragments.splice(i,e.length-i);e.fragmentsToUnrender.forEach(d)}else{if(i>e.length){for(r=e.length;r<i;r+=1){n.context=e.keypath+"."+r;n.index=r;if(e.template.i){n.indexRef=e.template.i}a=new s(n);e.fragmentsToRender.push(e.fragments[r]=a)}}}e.length=i;return true}function f(e,t,n){var r,i,a,o,u;a=e.hasKey||(e.hasKey={});i=e.fragments.length;while(i--){o=e.fragments[i];if(!(o.index in t)){u=true;o.unbind();e.fragmentsToUnrender.push(o);e.fragments.splice(i,1);a[o.index]=false}}for(r in t){if(!a[r]){u=true;n.context=e.keypath+"."+r;n.index=r;if(e.template.i){n.indexRef=e.template.i}o=new s(n);e.fragmentsToRender.push(o);e.fragments.push(o);a[r]=true}}e.length=e.fragments.length;return u}function l(e,t,n){if(t){return c(e,n)}else{return p(e)}}function c(e,t){var n;if(!e.length){t.context=e.keypath;t.index=0;n=new s(t);e.fragmentsToRender.push(e.fragments[0]=n);e.length=1;return true}}function h(e,r,i,a){var o,u,f,l,c;u=t(r)&&r.length===0;f=false;if(!t(r)&&n(r)){f=true;for(c in r){f=false;break}}if(i){o=u||f||!r}else{o=r&&!u&&!f}if(o){if(!e.length){a.index=0;l=new s(a);e.fragmentsToRender.push(e.fragments[0]=l);e.length=1;return true}if(e.length>1){e.fragmentsToUnrender=e.fragments.splice(1);e.fragmentsToUnrender.forEach(d);return true}}else{return p(e)}}function p(e){if(e.length){e.fragmentsToUnrender=e.fragments.splice(0,e.fragments.length).filter(v);e.fragmentsToUnrender.forEach(d);e.length=e.fragmentsToRender.length=0;return true}}function d(e){e.unbind()}function v(e){return e.rendered}return a}(W,xr,o,E,i);var Er=function Mo(e){var t,n,r;t="";n=0;r=this.length;for(n=0;n<r;n+=1){t+=this.fragments[n].toString(e)}return t};var kr=function(e){var t;t=function r(){this.fragments.forEach(n);e.call(this);this.length=0;this.unbound=true};function n(e){e.unbind()}return t}(Kn);var Ar=function(){var e;e=function r(e){this.fragments.forEach(e?t:n)};function t(e){e.unrender(true)}function n(e){e.unrender(false)}return e}();var Tr=function Vo(){var e,t,n,r,i,a,s;n=this.renderedFragments;while(e=this.fragmentsToUnrender.pop()){e.unrender(true);n.splice(n.indexOf(e),1)}while(e=this.fragmentsToRender.shift()){e.render()}if(this.rendered){i=this.parentFragment.getNode()}s=this.fragments.length;for(a=0;a<s;a+=1){e=this.fragments[a];t=n.indexOf(e,a);if(t===a){if(this.docFrag.childNodes.length){r=e.firstNode();i.insertBefore(this.docFrag,r)}continue}this.docFrag.appendChild(e.detach());if(t!==-1){n.splice(t,1)}n.splice(a,0,e)}if(this.rendered&&this.docFrag.childNodes.length){r=this.parentFragment.findNextNode(this);i.insertBefore(this.docFrag,r)}this.renderedFragments=this.fragments.slice()};var Cr=function(e,t,n,r,i,a,s,o,u,f,l,c,h,p,d,v,m){var g=function(n){this.type=e.SECTION;this.subtype=n.template.n;this.inverted=this.subtype===e.SECTION_UNLESS;this.pElement=n.pElement;this.fragments=[];this.fragmentsToCreate=[];this.fragmentsToRender=[];this.fragmentsToUnrender=[];this.renderedFragments=[];this.length=0;t.init(this,n)};g.prototype={bubble:n,detach:r,find:i,findAll:a,findAllComponents:s,findComponent:o,findNextNode:u,firstNode:f,getValue:t.getValue,shuffle:l,rebind:t.rebind,render:c,resolve:t.resolve,setValue:h,toString:p,unbind:d,unrender:v,update:m};return g}(W,fr,cr,hr,pr,dr,vr,mr,gr,yr,br,wr,_r,Er,kr,Ar,Tr);var Or=function Uo(){var e,t;if(this.docFrag){e=this.nodes.length;for(t=0;t<e;t+=1){this.docFrag.appendChild(this.nodes[t])}return this.docFrag}};var Sr=function(e){return function t(n){var r,i,a,s;i=this.nodes.length;for(r=0;r<i;r+=1){a=this.nodes[r];if(a.nodeType!==1){continue}if(e(a,n)){return a}if(s=a.querySelector(n)){return s}}return null}}(Yt);var Rr=function(e){return function t(n,r){var i,a,s,o,u,f;a=this.nodes.length;for(i=0;i<a;i+=1){s=this.nodes[i];if(s.nodeType!==1){continue}if(e(s,n)){r.push(s)}if(o=s.querySelectorAll(n)){u=o.length;for(f=0;f<u;f+=1){r.push(o[f])}}}}}(Yt);var Nr=function $o(){if(this.rendered&&this.nodes[0]){return this.nodes[0]}return this.parentFragment.findNextNode(this)};var Lr=function(e,t){var n;var r={},i,a;try{t("table").innerHTML="foo"}catch(s){i=true;a={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}n=function(t,n,r){var s,u=[],f,l,c,h;if(t!=null&&t!==""){if(i&&(f=a[n.tagName])){s=o("DIV");s.innerHTML=f[0]+t+f[1];s=s.querySelector(".x");if(s.tagName==="SELECT"){l=s.options[s.selectedIndex]}}else if(n.namespaceURI===e.svg){s=o("DIV");s.innerHTML='<svg class="x">'+t+"</svg>";s=s.querySelector(".x")}else{s=o(n.tagName);s.innerHTML=t;if(s.tagName==="SELECT"){l=s.options[s.selectedIndex]}}while(c=s.firstChild){u.push(c);r.appendChild(c)}if(n.tagName==="SELECT"){h=u.length;while(h--){if(u[h]!==l){u[h].selected=false}}}}return u};function o(e){return r[e]||(r[e]=t(e))}return n}(C,O);var Ir=function qo(e){var t=[],n=e.length;while(n--){t[n]=e[n]}return t};var Pr=function(e){var t;t=function r(t){var r,i,a;if(!t||t.name!=="select"||!t.binding){return}r=e(t.node.options).filter(n);if(t.getAttribute("multiple")){a=r.map(function(e){return e.value})}else if(i=r[0]){a=i.value}if(a!==undefined){t.binding.setValue(a)}t.bubble()};function n(e){return e.selected}return t}(Ir);var jr=function(e,t){return function n(){if(this.rendered){throw new Error("Attempted to render an item that was already rendered")}this.docFrag=document.createDocumentFragment();this.nodes=e(this.value,this.parentFragment.getNode(),this.docFrag);t(this.pElement);this.rendered=true;return this.docFrag}}(Lr,Pr);var Fr=function(e){return function t(n){var r;if(r=this.root.viewmodel.wrapped[this.keypath]){n=r.get()}if(n!==this.value){this.value=n;this.parentFragment.bubble();if(this.rendered){e.addView(this)}}}}(E);var Dr=function(e){return function t(){return this.value!=undefined?e(""+this.value):""}}(Tt);var Mr=function(e){return function t(n){if(this.rendered&&n){this.nodes.forEach(e);this.rendered=false}}}(zn);var Vr=function(e,t){return function n(){var n,r;if(!this.rendered){return}while(this.nodes&&this.nodes.length){n=this.nodes.pop();n.parentNode.removeChild(n)}r=this.parentFragment.getNode();this.nodes=e(this.value,r,this.docFrag);r.insertBefore(this.docFrag,this.parentFragment.findNextNode(this));t(this.pElement)}}(Lr,Pr);var Ur=function(e,t,n,r,i,a,s,o,u,f,l,c){var h=function(n){this.type=e.TRIPLE;t.init(this,n)};h.prototype={detach:n,find:r,findAll:i,firstNode:a,getValue:t.getValue,rebind:t.rebind,render:s,resolve:t.resolve,setValue:o,toString:u,unbind:c,unrender:f,update:l};return h}(W,fr,Or,Sr,Rr,Nr,jr,Fr,Dr,Mr,Vr,Kn);var $r=function(){this.parentFragment.bubble()};var qr=function Wo(){var e=this.node,t;if(e){if(t=e.parentNode){t.removeChild(e)}return e}};var Wr=function(e){return function(t){if(e(this.node,t)){return this.node}if(this.fragment&&this.fragment.find){return this.fragment.find(t)}}}(Yt);var Br=function(e,t){if(t._test(this,true)&&t.live){(this.liveQueries||(this.liveQueries=[])).push(t)}if(this.fragment){this.fragment.findAll(e,t)}};var zr=function(e,t){if(this.fragment){this.fragment.findAllComponents(e,t)}};var Hr=function(e){if(this.fragment){return this.fragment.findComponent(e)}};var Gr=function Bo(){return null};var Kr=function zo(){return this.node};var Zr=function Ho(e){if(!this.attributes||!this.attributes[e]){return}return this.attributes[e].value};var Qr=function(){var e,t,n,r;e="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" ");t="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" ");n=function(e){var t={},n=e.length;while(n--){t[e[n].toLowerCase()]=e[n]}return t};r=n(e.concat(t));return function(e){var t=e.toLowerCase();return r[t]||t}}();var Xr=function(e,t){return function n(){var n=this.fragment.getValue();if(!t(n,this.value)){if(this.name==="id"&&this.value){delete this.root.nodes[this.value]}this.value=n;if(this.name==="value"&&this.node){this.node._ractive.value=n}if(this.rendered){e.addView(this)}}}}(E,b);var Yr=function(){var e=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i;return e}();var Jr=function(e,t){return function(n,r){var i,a;i=r.indexOf(":");if(i!==-1){a=r.substr(0,i);if(a!=="xmlns"){r=r.substring(i+1);n.name=t(r);n.namespace=e[a.toLowerCase()];n.namespacePrefix=a;if(!n.namespace){throw'Unknown namespace ("'+a+'")'}return}}n.name=n.element.namespace!==e.html?t(r):r}}(C,Qr);var ei=function(e){return function t(n){var r=n.fragment.items;if(r.length!==1){return}if(r[0].type===e.INTERPOLATOR){return r[0]}}}(W);var ti=function(e,t){var n={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(r,i){var a;if(r.pNode&&!r.namespace&&(!i.pNode.namespaceURI||i.pNode.namespaceURI===e.html)){a=n[r.name]||r.name;if(i.pNode[a]!==undefined){r.propertyName=a}if(t.test(a)||a==="value"){r.useProperty=true}}}}(C,Yr);var ni=function(e,t,n,r,i,a){var s;a.push(function(){s=a.Fragment});return function o(a){this.type=e.ATTRIBUTE;this.element=a.element;this.root=a.root;n(this,a.name);if(!a.value||typeof a.value==="string"){this.value=t.test(this.name)?true:a.value||"";return}this.parentFragment=this.element.parentFragment;this.fragment=new s({template:a.value,root:this.root,owner:this});this.value=this.fragment.getValue();this.interpolator=r(this);this.isBindable=!!this.interpolator&&!this.interpolator.isStatic;i(this,a);this.ready=true}}(W,Yr,Jr,ei,ti,i);var ri=function Go(e,t,n,r){if(this.fragment){this.fragment.rebind(e,t,n,r)}};var ii=function(e,t){var n={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function r(i){var a;this.node=i;if(!i.namespaceURI||i.namespaceURI===e.html){a=n[this.name]||this.name;if(i[a]!==undefined){this.propertyName=a}if(t.test(a)||a==="value"){this.useProperty=true}if(a==="value"){this.useProperty=true;i._ractive.value=this.value}}this.rendered=true;this.update()}}(C,Yr);var ai=function(e){var t;t=function r(){var t=(s=this).name,r=s.namespacePrefix,i=s.value,a=s.interpolator,s=s.fragment;if(t==="value"&&(this.element.name==="select"||this.element.name==="textarea")){return}if(t==="value"&&this.element.getAttribute("contenteditable")!==undefined){return}if(t==="name"&&this.element.name==="input"&&a){return"name={{"+(a.keypath||a.ref)+"}}"}if(e.test(t)){return i?t:""}if(s){i=s.toString()}if(r){t=r+":"+t}return i?t+'="'+n(i)+'"':t};function n(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}return t}(Yr);var si=function Ko(){if(this.fragment){this.fragment.unbind()}if(this.name==="id"){delete this.root.nodes[this.value]}};var oi=function Zo(){var e=this.value,t,n,r,i;if(!this.locked){this.node._ractive.value=e;t=this.node.options;i=t.length;while(i--){n=t[i];r=n._ractive?n._ractive.value:n.value;if(r==e){n.selected=true;break}}}};var ui=function Qo(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]==t){return true}}return false};var fi=function(e,t){return function n(){var n=this.value,r,i,a,s;if(!t(n)){n=[n]}r=this.node.options;i=r.length;while(i--){a=r[i];s=a._ractive?a._ractive.value:a.value;a.selected=e(n,s)}}}(ui,s);var li=function Xo(){var e=(t=this).node,t=t.value;e.checked=t==e._ractive.value};var ci=function(e){return function t(){var t,n=this.node,r,i,a;t=n.checked;n.value=this.element.getAttribute("value");n.checked=this.element.getAttribute("value")===this.element.getAttribute("name");if(t&&!n.checked&&this.element.binding){i=this.element.binding.siblings;if(a=i.length){while(a--){r=i[a];if(!r.element.node){return}if(r.element.node.checked){e.addViewmodel(r.root.viewmodel);return r.handleChange()}}e.addViewmodel(r.root.viewmodel);this.root.viewmodel.set(r.keypath,undefined)}}}}(E);var hi=function(e){return function t(){var t=(r=this).element,n=r.node,r=r.value,i,a;i=t.getAttribute("value");if(!e(r)){n.checked=r==i}else{a=r.length;while(a--){if(i==r[a]){n.checked=true;return}}n.checked=false}}}(s);var pi=function Yo(){var e,t;e=this.node;t=this.value;if(t===undefined){t=""}e.className=t};var di=function Jo(){var e=(t=this).node,t=t.value;this.root.nodes[t]=e;e.id=t};var vi=function eu(){var e,t;e=this.node;t=this.value;if(t===undefined){t=""}e.style.setAttribute("cssText",t)};var mi=function tu(){var e=this.value;if(e===undefined){e=""}if(!this.locked){this.node.innerHTML=e}};var gi=function nu(){var e=(t=this).node,t=t.value;e._ractive.value=t;if(!this.locked){e.value=t==undefined?"":t}};var yi=function ru(){if(!this.locked){this.node[this.propertyName]=this.value}};var bi=function(e){return function t(){var t=(a=this).node,n=a.namespace,r=a.name,i=a.value,a=a.fragment;if(n){t.setAttributeNS(n,r,(a||i).toString())}else if(!e.test(r)){t.setAttribute(r,(a||i).toString())}else{if(i){t.setAttribute(r,"")}else{t.removeAttribute(r)}}}}(Yr);var wi=function(e,t,n,r,i,a,s,o,u,f,l,c,h,p){return function d(){var d=(m=this).name,v=m.element,m=m.node,g,y;if(d==="id"){y=u}else if(d==="value"){if(v.name==="select"&&d==="value"){y=v.getAttribute("multiple")?r:n}else if(v.name==="textarea"){y=c}else if(v.getAttribute("contenteditable")!=null){y=l}else if(v.name==="input"){g=v.getAttribute("type");if(g==="file"){y=t}else if(g==="radio"&&v.binding&&v.binding.name==="name"){y=a}else{y=c}}}else if(this.twoway&&d==="name"){if(m.type==="radio"){y=i}else if(m.type==="checkbox"){y=s}}else if(d==="style"&&m.style.setAttribute){y=f}else if(d==="class"&&(!m.namespaceURI||m.namespaceURI===e.html)){y=o}else if(this.useProperty){y=h}if(!y){y=p}this.update=y;this.update()}}(C,Wt,oi,fi,li,ci,hi,pi,di,vi,mi,gi,yi,bi);var xi=function(e,t,n,r,i,a,s){var o=function(e){this.init(e)};o.prototype={bubble:e,init:t,rebind:n,render:r,toString:i,unbind:a,update:s};return o}(Xr,ni,ri,ii,ai,si,wi);var _i=function(e){return function(t,n){var r,i,a=[];for(r in n){if(n.hasOwnProperty(r)){i=new e({element:t,name:r,value:n[r],root:t.root});a.push(a[r]=i)}}return a}}(xi);var Ei=function(e,t,n,r){var i;var a,s;if(typeof document!=="undefined"){s=n("div")}e.push(function(){a=e.Fragment});var o=function(e,t){this.element=e;this.root=e.root;this.parentFragment=e.parentFragment;this.attributes=[];this.fragment=new a({root:e.root,owner:this,template:[t]})};o.prototype={bubble:function(){if(this.node){this.update()}this.element.bubble()},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},render:function(e){this.node=e;this.isSvg=e.namespaceURI===t.svg;this.update()},unbind:function(){this.fragment.unbind()},update:function(){var e=this;var t,n;t=this.fragment.toString();n=u(t,this.isSvg);this.attributes.filter(function(e){return f(n,e)}).forEach(function(t){e.node.removeAttribute(t.name)});n.forEach(function(t){e.node.setAttribute(t.name,t.value)});this.attributes=n},toString:function(){return this.fragment.toString()}};i=o;function u(e,t){var n=t?"svg":"div";s.innerHTML="<"+n+" "+e+"></"+n+">";return r(s.childNodes[0].attributes)}function f(e,t){var n=e.length;while(n--){if(e[n].name===t.name){return false}}return true}return i}(i,C,O,Ir);var ki=function(e){return function(t,n){if(!n){return[]}return n.map(function(n){return new e(t,n)})}}(Ei);var Ai=function(e){var t=Array.prototype.slice;var n=t.call(arguments,1);var r,i;while(i=n.shift()){for(r in i){if(i.hasOwnProperty(r)){e[r]=i[r]}}}return e};var Ti=function(e,t,n,r,i){var a=function(e){var n,r,i;this.element=e;this.root=e.root;this.attribute=e.attributes[this.name||"value"];n=this.attribute.interpolator;n.twowayBinding=this;if(n.keypath&&n.keypath.substr(0,2)==="${"){t("Two-way binding does not work with expressions (`"+n.keypath.slice(2,-1)+"`)");return false}if(!n.keypath){n.resolver.forceResolution()}this.keypath=r=n.keypath;if(this.root.viewmodel.get(r)===undefined&&this.getInitialValue){i=this.getInitialValue();if(i!==undefined){this.root.viewmodel.set(r,i)}}};a.prototype={handleChange:function(){var t=this;e.start(this.root);this.attribute.locked=true;this.root.viewmodel.set(this.keypath,this.getValue());e.scheduleTask(function(){return t.attribute.locked=false});e.end()},rebound:function(){var e,t,n;t=this.keypath;n=this.attribute.interpolator.keypath;if(t===n){return}i(this.root._twowayBindings[t],this);this.keypath=n;e=this.root._twowayBindings[n]||(this.root._twowayBindings[n]=[]);e.push(this)},unbind:function(){}};a.extend=function(e){var t=this,i;i=function(e){a.call(this,e);if(this.init){this.init()}};i.prototype=n(t.prototype);
r(i.prototype,e);i.extend=a.extend;return i};return a}(E,c,B,Ai,v);var Ci=function iu(){this._ractive.binding.handleChange()};var Oi=function(e,t){var n=e.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var e=this.element.node;e.addEventListener("change",t,false);if(!this.root.lazy){e.addEventListener("input",t,false);if(e.attachEvent){e.addEventListener("keyup",t,false)}}},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,false);e.removeEventListener("input",t,false);e.removeEventListener("keyup",t,false)},getValue:function(){return this.element.node.innerHTML}});return n}(Ti,Ci);var Si=function(){var e={};return function t(n,r,i){var a=n+r+i;return e[a]||(e[a]=[])}}();var Ri=function(e,t,n,r,i){var a=n.extend({name:"checked",init:function(){this.siblings=r(this.root._guid,"radio",this.element.getAttribute("name"));this.siblings.push(this)},render:function(){var e=this.element.node;e.addEventListener("change",i,false);if(e.attachEvent){e.addEventListener("click",i,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",i,false);e.removeEventListener("click",i,false)},handleChange:function(){e.start(this.root);this.siblings.forEach(function(e){e.root.viewmodel.set(e.keypath,e.getValue())});e.end()},getValue:function(){return this.element.node.checked},unbind:function(){t(this.siblings,this)}});return a}(E,v,Ti,Si,Ci);var Ni=function(e,t,n,r){var i=t.extend({name:"name",init:function(){this.siblings=r(this.root._guid,"radioname",this.keypath);this.siblings.push(this);this.radioName=true;this.attribute.twoway=true},getInitialValue:function(){if(this.element.getAttribute("checked")){return this.element.getAttribute("value")}},render:function(){var e=this.element.node;e.name="{{"+this.keypath+"}}";e.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value");e.addEventListener("change",n,false);if(e.attachEvent){e.addEventListener("click",n,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",n,false);e.removeEventListener("click",n,false)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){if(this.element.node.checked){t.prototype.handleChange.call(this)}},rebound:function(e,n,r,i){var a;t.prototype.rebound.call(this,e,n,r,i);if(a=this.element.node){a.name="{{"+this.keypath+"}}"}},unbind:function(){e(this.siblings,this)}});return i}(v,Ti,Ci,Si);var Li=function(e,t,n,r,i,a){var s=r.extend({name:"name",getInitialValue:function(){this.noInitialValue=true;return[]},init:function(){var e,t;this.checkboxName=true;this.attribute.twoway=true;this.siblings=i(this.root._guid,"checkboxes",this.keypath);this.siblings.push(this);if(this.noInitialValue){this.siblings.noInitialValue=true}if(this.siblings.noInitialValue&&this.element.getAttribute("checked")){e=this.root.viewmodel.get(this.keypath);t=this.element.getAttribute("value");e.push(t)}},unbind:function(){n(this.siblings,this)},render:function(){var n=this.element.node,r,i;r=this.root.viewmodel.get(this.keypath);i=this.element.getAttribute("value");if(e(r)){this.isChecked=t(r,i)}else{this.isChecked=r==i}n.name="{{"+this.keypath+"}}";n.checked=this.isChecked;n.addEventListener("change",a,false);if(n.attachEvent){n.addEventListener("click",a,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",a,false);e.removeEventListener("click",a,false)},changed:function(){var e=!!this.isChecked;this.isChecked=this.element.node.checked;return this.isChecked===e},handleChange:function(){this.isChecked=this.element.node.checked;r.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(o).map(u)}});function o(e){return e.isChecked}function u(e){return e.element.getAttribute("value")}return s}(s,ui,v,Ti,Si,Ci);var Ii=function(e,t){var n=e.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",t,false);if(e.attachEvent){e.addEventListener("click",t,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,false);e.removeEventListener("click",t,false)},getValue:function(){return this.element.node.checked}});return n}(Ti,Ci);var Pi=function(e,t,n){var r=t.extend({getInitialValue:function(){var e=this.element.options,t,n,r,i;if(this.element.getAttribute("value")!==undefined){return}n=t=e.length;if(!t){return}while(n--){if(e[n].getAttribute("selected")){r=e[n].getAttribute("value");i=true;break}}if(!i){while(++n<t){if(!e[n].getAttribute("disabled")){r=e[n].getAttribute("value");break}}}if(r!==undefined){this.element.attributes.value.value=r}return r},render:function(){this.element.node.addEventListener("change",n,false)},unrender:function(){this.element.node.removeEventListener("change",n,false)},setValue:function(t){e.addViewmodel(this.root.viewmodel);this.root.viewmodel.set(this.keypath,t)},getValue:function(){var e,t,n,r,i;e=this.element.node.options;n=e.length;for(t=0;t<n;t+=1){r=e[t];if(e[t].selected){i=r._ractive?r._ractive.value:r.value;return i}}},forceUpdate:function(){var t=this;var n=this.getValue();if(n!==undefined){this.attribute.locked=true;e.addViewmodel(this.root.viewmodel);e.scheduleTask(function(){return t.attribute.locked=false});this.root.viewmodel.set(this.keypath,n)}}});return r}(E,Ti,Ci);var ji=function(e){return function(t,n){var r;if(!e(t)||!e(n)){return false}if(t.length!==n.length){return false}r=t.length;while(r--){if(t[r]!==n[r]){return false}}return true}}(s);var Fi=function(e,t,n,r){var i=n.extend({getInitialValue:function(){return this.element.options.filter(function(e){return e.getAttribute("selected")}).map(function(e){return e.getAttribute("value")})},render:function(){var e;this.element.node.addEventListener("change",r,false);e=this.root.viewmodel.get(this.keypath);if(e===undefined){this.handleChange()}},unrender:function(){this.element.node.removeEventListener("change",r,false)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,r,i,a;e=[];t=this.element.node.options;r=t.length;for(n=0;n<r;n+=1){i=t[n];if(i.selected){a=i._ractive?i._ractive.value:i.value;e.push(a)}}return e},handleChange:function(){var e,r,i;e=this.attribute;r=e.value;i=this.getValue();if(r===undefined||!t(i,r)){n.prototype.handleChange.call(this)}return this},forceUpdate:function(){var t=this;var n=this.getValue();if(n!==undefined){this.attribute.locked=true;e.addViewmodel(this.root.viewmodel);e.scheduleTask(function(){return t.attribute.locked=false});this.root.viewmodel.set(this.keypath,n)}},updateModel:function(){if(this.attribute.value===undefined||!this.attribute.value.length){this.root.viewmodel.set(this.keypath,this.initialValue)}}});return i}(E,ji,Pi,Ci);var Di=function(e,t){var n=e.extend({render:function(){this.element.node.addEventListener("change",t,false)},unrender:function(){this.element.node.removeEventListener("change",t,false)},getValue:function(){return this.element.node.files}});return n}(Ti,Ci);var Mi=function(e,t){var n;var r,i;i={evaluateWrapped:true};r=e.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var e=this.element.node;e.addEventListener("change",t,false);if(!this.root.lazy){e.addEventListener("input",t,false);if(e.attachEvent){e.addEventListener("keyup",t,false)}}e.addEventListener("blur",a,false)},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,false);e.removeEventListener("input",t,false);e.removeEventListener("keyup",t,false);e.removeEventListener("blur",a,false)}});n=r;function a(){var e;t.call(this);e=this._ractive.root.viewmodel.get(this._ractive.binding.keypath,i);this.value=e==undefined?"":e}return n}(Ti,Ci);var Vi=function(e){return e.extend({getInitialValue:function(){return undefined},getValue:function(){var e=parseFloat(this.element.node.value);return isNaN(e)?undefined:e}})}(Mi);var Ui=function(e,t,n,r,i,a,s,o,u,f,l){var c;c=function p(c){var p=c.attributes,d,v,m,g;if(c.binding){c.binding.teardown();c.binding=null}if((c.getAttribute("contenteditable")||!!p.contenteditable&&h(p.contenteditable))&&h(p.value)){v=t}else if(c.name==="input"){d=c.getAttribute("type");if(d==="radio"||d==="checkbox"){m=h(p.name);g=h(p.checked);if(m&&g){e.error({message:"badRadioInputBinding"})}if(m){v=d==="radio"?r:i}else if(g){v=d==="radio"?n:a}}else if(d==="file"&&h(p.value)){v=u}else if(h(p.value)){v=d==="number"||d==="range"?f:l}}else if(c.name==="select"&&h(p.value)){v=c.getAttribute("multiple")?o:s}else if(c.name==="textarea"&&h(p.value)){v=l}if(v){return new v(c)}};function h(e){return e&&e.isBindable}return c}(p,Oi,Ri,Ni,Li,Ii,Pi,Fi,Di,Vi,Mi);var $i=function au(){var e=this.getAction();if(e&&!this.hasListener){this.listen()}else if(!e&&this.hasListener){this.unrender()}};var qi=function(e){return function t(n){e(this.root,this.getAction(),{event:n})}}(hn);var Wi=function su(){return this.action.toString().trim()};var Bi=function(e,t,n,r,i){var a;var s,o={args:true},u=/^event(?:\.(.+))?/;n.push(function(){s=n.Fragment});a=function h(n,r,a){var o=this,h,p,d;o.element=n;o.root=n.root;o.name=r;if(r.indexOf("*")!==-1){i.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:n.tagName,event:r}});this.invalid=true}if(a.m){p=a.a.r;o.method=a.m;o.keypaths=[];o.fn=e(a.a.s,p.length);o.parentFragment=n.parentFragment;d=o.root;o.refResolvers=p.map(function(e,n){var r;if(r=u.exec(e)){o.keypaths[n]={eventObject:true,refinements:r[1]?r[1].split("."):[]};return null}return t(o,e,function(e){o.resolve(n,e)})});this.fire=f}else{h=a.n||a;if(typeof h!=="string"){h=new s({template:h,root:this.root,owner:this})}this.action=h;if(a.d){this.dynamicParams=new s({template:a.d,root:this.root,owner:this.element});this.fire=c}else if(a.a){this.params=a.a;this.fire=l}}};function f(e){var t,n,r;t=this.root;if(typeof t[this.method]!=="function"){throw new Error('Attempted to call a non-existent method ("'+this.method+'")')}n=this.keypaths.map(function(n){var r,i,a;if(n===undefined){return undefined}if(n.eventObject){r=e;if(i=n.refinements.length){for(a=0;a<i;a+=1){r=r[n.refinements[a]]}}}else{r=t.viewmodel.get(n)}return r});t.event=e;r=this.fn.apply(null,n);t[this.method].apply(t,r);delete t.event}function l(e){r(this.root,this.getAction(),{event:e,args:this.params})}function c(e){var t=this.dynamicParams.getValue(o);if(typeof t==="string"){t=t.substr(1,t.length-2)}r(this.root,this.getAction(),{event:e,args:t})}return a}(nr,tr,i,hn,p);var zi=function ou(e){var t,n;t=this._ractive;n=t.events[e.type];n.fire({node:this,original:e,index:t.index,keypath:t.keypath,context:t.root.get(t.keypath)})};var Hi=function(e,t,n){var r;var i={},a={touchstart:true,touchmove:true,touchend:true,touchcancel:true,touchleave:true};r=function o(){var r,i=this.name;if(this.invalid){return}if(r=e.registries.events.find(this.root,i)){this.custom=r(this.node,s(i))}else{if(!("on"+i in this.node)&&!(window&&"on"+i in window)){if(!a[i]){n.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:i}})}return}this.node.addEventListener(i,t,false)}this.hasListener=true};function s(e){if(!i[e]){i[e]=function(t){var n=t.node._ractive;t.index=n.index;t.keypath=n.keypath;t.context=n.root.get(n.keypath);n.events[e].fire(t)}}return i[e]}return r}(Ht,zi,p);var Gi=function uu(e,t,n,r){var i;if(this.method){i=this.element.parentFragment;this.refResolvers.forEach(a);return}if(typeof this.action!=="string"){a(this.action)}if(this.dynamicParams){a(this.dynamicParams)}function a(i){i&&i.rebind(e,t,n,r)}};var Ki=function fu(){this.node=this.element.node;this.node._ractive.events[this.name]=this;if(this.method||this.getAction()){this.listen()}};var Zi=function lu(e,t){this.keypaths[e]=t};var Qi=function(){var e;e=function n(){if(this.method){this.refResolvers.forEach(t);return}if(typeof this.action!=="string"){this.action.unbind()}if(this.dynamicParams){this.dynamicParams.unbind()}};function t(e){e.unbind()}return e}();var Xi=function(e){return function t(){if(this.custom){this.custom.teardown()}else{this.node.removeEventListener(this.name,e,false)}this.hasListener=false}}(zi);var Yi=function(e,t,n,r,i,a,s,o,u,f){var l=function(e,t,n){this.init(e,t,n)};l.prototype={bubble:e,fire:t,getAction:n,init:r,listen:i,rebind:a,render:s,resolve:o,unbind:u,unrender:f};return l}($i,qi,Wi,Bi,Hi,Gi,Ki,Zi,Qi,Xi);var Ji=function(e){return function(t,n){var r,i,a,s,o=[];for(i in n){if(n.hasOwnProperty(i)){a=i.split("-");r=a.length;while(r--){s=new e(t,a[r],n[i]);o.push(s)}}}return o}}(Yi);var ea=function(e,t,n){var r,i,a;t.push(function(){r=t.Fragment});i={args:true};a=function(t,a){var s=this,o,u,f;s.element=t;s.root=o=t.root;u=a.n||a;if(typeof u!=="string"){f=new r({template:u,root:o,owner:t});u=f.toString();f.unbind()}if(a.a){s.params=a.a}else if(a.d){s.fragment=new r({template:a.d,root:o,owner:t});s.params=s.fragment.getValue(i);s.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=true;s.params=this.getValue(i);if(s.ready){s.update()}}}s.fn=n.registries.decorators.find(o,u);if(!s.fn){e.error({debug:o.debug,message:"missingPlugin",args:{plugin:"decorator",name:u}})}};a.prototype={init:function(){var e=this,t,n,r;t=e.element.node;if(e.params){r=[t].concat(e.params);n=e.fn.apply(e.root,r)}else{n=e.fn.call(e.root,t)}if(!n||!n.teardown){throw new Error("Decorator definition must return an object with a teardown method")}e.actual=n;e.ready=true},update:function(){if(this.actual.update){this.actual.update.apply(this.root,this.params)}else{this.actual.teardown(true);this.init()}},rebind:function(e,t,n,r){if(this.fragment){this.fragment.rebind(e,t,n,r)}},teardown:function(e){this.actual.teardown();if(!e&&this.fragment){this.fragment.unbind()}}};return a}(p,i,Ht);var ta=function(e){var t;t=function r(t){var r,i,a,s,o;r=t.node;if(!r){return}s=e(r.options);i=t.getAttribute("value");a=t.getAttribute("multiple");if(i!==undefined){s.forEach(function(e){var t,r;t=e._ractive?e._ractive.value:e.value;r=a?n(i,t):i==t;if(r){o=true}e.selected=r});if(!o){if(s[0]){s[0].selected=true}if(t.binding){t.binding.forceUpdate()}}}else if(t.binding){t.binding.forceUpdate()}};function n(e,t){var n=e.length;while(n--){if(e[n]==t){return true}}}return t}(Ir);var na=function(e,t){return function n(){var n=this;if(!this.dirty){this.dirty=true;e.scheduleTask(function(){t(n);n.dirty=false})}this.parentFragment.bubble()}}(E,ta);var ra=function cu(e){do{if(e.name==="select"){return e}}while(e=e.parent)};var ia=function(e){return function t(n,r){n.select=e(n.parent);if(!n.select){return}n.select.options.push(n);if(!r.a){r.a={}}if(r.a.value===undefined&&!r.a.hasOwnProperty("disabled")){r.a.value=r.f}if("selected"in r.a&&n.select.getAttribute("value")!==undefined){delete r.a.selected}}}(ra);var aa=function(e,t,n,r,i,a,s,o,u,f){var l;f.push(function(){l=f.Fragment});return function c(f){var c,h,p,d,v;this.type=e.ELEMENT;c=this.parentFragment=f.parentFragment;h=this.template=f.template;this.parent=f.pElement||c.pElement;this.root=p=c.root;this.index=f.index;this.name=t(h.e);if(this.name==="option"){u(this,h)}if(this.name==="select"){this.options=[];this.bubble=o}this.attributes=n(this,h.a);this.conditionalAttributes=r(this,h.m);if(h.f){this.fragment=new l({template:h.f,root:p,owner:this,pElement:this})}if(p.twoway&&(d=i(this,h.a))){this.binding=d;v=this.root._twowayBindings[d.keypath]||(this.root._twowayBindings[d.keypath]=[]);v.push(d)}if(h.v){this.eventHandlers=a(this,h.v)}if(h.o){this.decorator=new s(this,h.o)}this.intro=h.t0||h.t1;this.outro=h.t0||h.t2}}(W,Qr,_i,ki,Ui,Ji,ea,na,ia,i);var sa=function(e){return function t(n,r){return n===r||e(n,r)}}(Qn);var oa=function(e,t){return function n(r,i,a,s){var o=r[i];if(!o||e(o,s)||!e(o,a)){return}r[i]=t(o,a,s)}}(sa,Xn);var ua=function(e){return function t(n,r,i,a){var s,o,u,f;if(this.attributes){this.attributes.forEach(l)}if(this.conditionalAttributes){this.conditionalAttributes.forEach(l)}if(this.eventHandlers){this.eventHandlers.forEach(l)}if(this.decorator){l(this.decorator)}if(this.fragment){l(this.fragment)}if(u=this.liveQueries){f=this.root;s=u.length;while(s--){u[s]._makeDirty()}}if(this.node&&(o=this.node._ractive)){e(o,"keypath",i,a);if(n!=undefined){o.index[n]=r}}function l(e){e.rebind(n,r,i,a)}}}(oa);var fa=function hu(e){var t;if(e.attributes.width||e.attributes.height){e.node.addEventListener("load",t=function(){var n=e.getAttribute("width"),r=e.getAttribute("height");if(n!==undefined){e.node.setAttribute("width",n)}if(r!==undefined){e.node.setAttribute("height",r)}e.node.removeEventListener("load",t,false)},false)}};var la=function(e,t,n){var r,i={};n.push(function(){r=n.Fragment});return function a(n,s,o){var u=this,f,l,c;u.element=n;u.root=f=n.root;u.isIntro=o;l=s.n||s;if(typeof l!=="string"){c=new r({template:l,root:f,owner:n});l=c.toString();c.unbind()}u.name=l;if(s.a){u.params=s.a}else if(s.d){c=new r({template:s.d,root:f,owner:n});u.params=c.getValue(i);c.unbind()}u._fn=t.registries.transitions.find(f,l);if(!u._fn){e.error({debug:f.debug,message:"missingPlugin",args:{plugin:"transition",name:l}});return}}}(p,Ht,i);var ca=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};var ha=function(e,t,n,r){var i,a,s;if(!e){i=null}else{a={};s=n("div").style;i=function(e){var n,i,o;e=r(e);if(!a[e]){if(s[e]!==undefined){a[e]=e}else{o=e.charAt(0).toUpperCase()+e.substring(1);n=t.length;while(n--){i=t[n];if(s[i+o]!==undefined){a[e]=i+o;break}}}}return a[e]}}return i}(S,j,O,ca);var pa=function(e,t,n,r){var i,a;if(!t){i=null}else{a=window.getComputedStyle||e.getComputedStyle;i=function(e){var t,i,s,o,u;t=a(this.node);if(typeof e==="string"){u=t[r(e)];if(u==="0px"){u=0}return u}if(!n(e)){throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties")}i={};s=e.length;while(s--){o=e[s];u=t[r(o)];if(u==="0px"){u=0}i[o]=u}return i}}return i}(wt,S,s,ha);var da=function(e){return function(t,n){var r;if(typeof t==="string"){this.node.style[e(t)]=n}else{for(r in t){if(t.hasOwnProperty(r)){this.node.style[e(r)]=t[r]}}}return this}}(ha);var va=function(e,t,n){var r;var i=function(r){var i;this.duration=r.duration;this.step=r.step;this.complete=r.complete;if(typeof r.easing==="string"){i=r.root.easing[r.easing];if(!i){e('Missing easing function ("'+r.easing+'"). You may need to download a plugin from [TODO]');i=a}}else if(typeof r.easing==="function"){i=r.easing}else{i=a}this.easing=i;this.start=t();this.end=this.start+this.duration;this.running=true;n.add(this)};i.prototype={tick:function(e){var t,n;if(!this.running){return false}if(e>this.end){if(this.step){this.step(1)}if(this.complete){this.complete(1)}return false}t=e-this.start;n=this.easing(t/this.duration);if(this.step){this.step(n)}return true},stop:function(){if(this.abort){this.abort()}this.running=false}};r=i;function a(e){return e}return r}(c,D,M);var ma=function(e){var t=new RegExp("^-(?:"+e.join("|")+")-");return function(e){return e.replace(t,"")}}(j);var ga=function(e){var t=new RegExp("^(?:"+e.join("|")+")([A-Z])");return function(e){var n;if(!e){return""}if(t.test(e)){e="-"+e}n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return n}}(j);var ya=function(e,t,n,r,i,a,s,o,u){var f,l,c,h,p,d,v,m,g={},y={};if(!e){f=null}else{l=n("div").style;(function(){if(l.transition!==undefined){c="transition";h="transitionend";p=true}else if(l.webkitTransition!==undefined){c="webkitTransition";h="webkitTransitionEnd";p=true}else{p=false}})();if(c){d=c+"Duration";v=c+"Property";m=c+"TimingFunction"}f=function(e,n,f,l,c){setTimeout(function(){var b,w,x,_,E;_=function(){if(w&&x){e.root.fire(e.name+":end",e.node,e.isIntro);c()}};b=(e.node.namespaceURI||"")+e.node.tagName;e.node.style[v]=l.map(s).map(u).join(",");e.node.style[m]=u(f.easing||"linear");e.node.style[d]=f.duration/1e3+"s";E=function(t){var n;n=l.indexOf(r(o(t.propertyName)));if(n!==-1){l.splice(n,1)}if(l.length){return}e.node.removeEventListener(h,E,false);x=true;_()};e.node.addEventListener(h,E,false);setTimeout(function(){var o=l.length,u,c,d,v=[],m,k;while(o--){m=l[o];u=b+m;if(p&&!y[u]){e.node.style[s(m)]=n[m];if(!g[u]){c=e.getStyle(m);g[u]=e.getStyle(m)!=n[m];y[u]=!g[u];if(y[u]){e.node.style[s(m)]=c}}}if(!p||y[u]){if(c===undefined){c=e.getStyle(m)}d=l.indexOf(m);if(d===-1){t("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!")}else{l.splice(d,1)}k=/[^\d]*$/.exec(n[m])[0];v.push({name:s(m),interpolator:i(parseFloat(c),parseFloat(n[m])),suffix:k})}}if(v.length){new a({root:e.root,duration:f.duration,easing:r(f.easing||""),step:function(t){var n,r;r=v.length;while(r--){n=v[r];e.node.style[n.name]=n.interpolator(t)+n.suffix}},complete:function(){w=true;_()}})}else{w=true}if(!l.length){e.node.removeEventListener(h,E,false);x=true;_()}},0)},f.delay||0)}}return f}(S,c,O,ca,Gt,va,ha,ma,ga);var ba=function(e){var t,n,r,i,a;if(typeof document!=="undefined"){t="hidden";a={};if(t in document){r=""}else{i=e.length;while(i--){n=e[i];t=n+"Hidden";if(t in document){r=n}}}if(r!==undefined){document.addEventListener(r+"visibilitychange",s);s()}else{if("onfocusout"in document){document.addEventListener("focusout",o);document.addEventListener("focusin",u)}else{window.addEventListener("pagehide",o);window.addEventListener("blur",o);window.addEventListener("pageshow",u);window.addEventListener("focus",u)}a.hidden=false}}function s(){a.hidden=document[t]}function o(){a.hidden=true}function u(){a.hidden=false}return a}(j);var wa=function(e,t,n,r,i,a,s){var o,u,f;if(!t){o=null}else{u=window.getComputedStyle||e.getComputedStyle;o=function(e,t,o,l){var c=this,h;if(s.hidden){this.setStyle(e,t);return f||(f=r.resolve())}if(typeof e==="string"){h={};h[e]=t}else{h=e;l=o;o=t}if(!o){n('The "'+c.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340');o=c;l=c.complete}var p=new r(function(e){var t,n,r,s,f,l,p;if(!o.duration){c.setStyle(h);e();return}t=Object.keys(h);n=[];r=u(c.node);f={};l=t.length;while(l--){p=t[l];s=r[i(p)];if(s==="0px"){s=0}if(s!=h[p]){n.push(p);c.node.style[i(p)]=s}}if(!n.length){e();return}a(c,h,o,n,e)});if(l){n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)");p.then(l)}return p}}return o}(wt,S,c,m,ha,ya,ba);var xa=function(e){var t=Array.prototype.slice;var n=t.call(arguments,1);n.forEach(function(t){for(var n in t){if(t.hasOwnProperty(n)&&!(n in e)){e[n]=t[n]}}});return e};var _a=function(e){return function(t,n){if(typeof t==="number"){t={duration:t}}else if(typeof t==="string"){if(t==="slow"){t={duration:600}}else if(t==="fast"){t={duration:200}}else{t={duration:400}}}else if(!t){t={}}return e({},t,n)}}(xa);var Ea=function(){var e;e=function n(){var e=this,n,r,i;n=e.node=e.element.node;r=n.getAttribute("style");e.complete=function(a){if(i){return}if(!a&&e.isIntro){t(n,r)}n._ractive.transition=null;e._manager.remove(e);i=true};if(!e._fn){e.complete();return}e._fn.apply(e.root,[e].concat(e.params))};function t(e,t){if(t){e.setAttribute("style",t)}else{e.getAttribute("style");e.removeAttribute("style")}}return e}();var ka=function(e,t,n,r,i,a,s){var o,u;s.push(function(){o=s.Fragment});u=function(e,t,n){this.init(e,t,n)};u.prototype={init:e,start:a,getStyle:t,setStyle:n,animateStyle:r,processParams:i};return u}(la,pa,da,wa,_a,Ea,i);var Aa=function(e,t,n,r,i,a,s,o,u,f,l){var c;var h,p;h=function(){var e=this.node,t=this.fragment.toString(false);if(window&&window.appearsToBeIELessEqual8){e.type="text/css"}if(e.styleSheet){e.styleSheet.cssText=t}else{while(e.hasChildNodes()){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(t))}};p=function(){if(!this.node.type||this.node.type==="text/javascript"){n("Script tag was updated. This does not cause the code to be re-evaluated!")}this.node.text=this.fragment.toString(false)};c=function g(){var e=this;var t=this.root,n,c;n=d(this);c=this.node=i(this.name,n);if(t.constructor.css&&this.parentFragment.getNode()===t.el){this.node.setAttribute("data-rvcguid",t.constructor._guid)}a(this.node,"_ractive",{value:{proxy:this,keypath:u(this.parentFragment),index:this.parentFragment.indexRefs,events:r(null),root:t}});this.attributes.forEach(function(e){return e.render(c)});this.conditionalAttributes.forEach(function(e){return e.render(c)});if(this.fragment){if(this.name==="script"){this.bubble=p;this.node.text=this.fragment.toString(false);this.fragment.unrender=s}else if(this.name==="style"){this.bubble=h;this.bubble();this.fragment.unrender=s}else if(this.binding&&this.getAttribute("contenteditable")){this.fragment.unrender=s}else{this.node.appendChild(this.fragment.render())}}if(this.eventHandlers){this.eventHandlers.forEach(function(e){return e.render()})}if(this.binding){this.binding.render();this.node._ractive.binding=this.binding}if(this.name==="img"){f(this)}if(this.decorator&&this.decorator.fn){o.scheduleTask(function(){return e.decorator.init()},true)}if(t.transitionsEnabled&&this.intro){var g=new l(this,this.intro,true);o.registerTransition(g);o.scheduleTask(function(){return g.start()},true);this.transition=g}if(this.name==="option"){v(this)}if(this.node.autofocus){o.scheduleTask(function(){return e.node.focus()},true)}m(this);return this.node};function d(t){var n,r,i;if(r=t.getAttribute("xmlns")){n=r}else if(t.name==="svg"){n=e.svg}else if(i=t.parent){if(i.name==="foreignObject"){n=e.html}else{n=i.node.namespaceURI}}else{n=t.root.el.namespaceURI}return n}function v(e){var n,r,i;if(!e.select){return}r=e.select.getAttribute("value");if(r===undefined){return}n=e.getAttribute("value");if(e.select.node.multiple&&t(r)){i=r.length;while(i--){if(n==r[i]){e.node.selected=true;break}}}else{e.node.selected=n==r}}function m(e){var t,n,r,i,a;t=e.root;do{n=t._liveQueries;r=n.length;while(r--){i=n[r];a=n["_"+i];if(a._test(e)){(e.liveQueries||(e.liveQueries=[])).push(a)}}}while(t=t._parent)}return c}(C,s,c,B,O,R,Wt,E,y,fa,ka);var Ta=function(e,t,n){var r;r=function(){var t,r;t="<"+(this.template.y?"!DOCTYPE":this.template.e);t+=this.attributes.map(s).join("")+this.conditionalAttributes.map(s).join("");if(this.name==="option"&&i(this)){t+=" selected"}if(this.name==="input"&&a(this)){t+=" checked"}t+=">";if(this.name==="textarea"&&this.getAttribute("value")!==undefined){t+=n(this.getAttribute("value"))}else if(this.getAttribute("contenteditable")!==undefined){t+=this.getAttribute("value")}if(this.fragment){r=this.name!=="script"&&this.name!=="style";t+=this.fragment.toString(r)}if(!e.test(this.template.e)){t+="</"+this.template.e+">"}return t};function i(e){var n,r,i;n=e.getAttribute("value");if(n===undefined||!e.select){return false}r=e.select.getAttribute("value");if(r==n){return true}if(e.select.getAttribute("multiple")&&t(r)){i=r.length;while(i--){if(r[i]==n){return true}}}}function a(e){var t,n,r,i;t=e.attributes;n=t.type;r=t.value;i=t.name;if(!n||n.value!=="radio"||!r||!i.interpolator){return}if(r.value===i.interpolator.value){return true}}function s(e){var t=e.toString();return t?" "+t:""}return r}(kt,s,Bn);var Ca=function(e){return function t(n){if(n.select){e(n.select.options,n)}}}(v);var Oa=function(e){var t;t=function r(){if(this.fragment){this.fragment.unbind()}if(this.binding){this.binding.unbind()}if(this.eventHandlers){this.eventHandlers.forEach(n)}if(this.name==="option"){e(this)}this.attributes.forEach(n);this.conditionalAttributes.forEach(n)};function n(e){e.unbind()}return t}(Ca);var Sa=function(e,t){var n;n=function i(n){var i,a;if(this.transition){this.transition.complete()}if(this.name==="option"){this.detach()}else if(n){e.detachWhenReady(this)}if(this.fragment){this.fragment.unrender(false)}if(i=this.binding){this.binding.unrender();this.node._ractive.binding=null;a=this.root._twowayBindings[i.keypath];a.splice(a.indexOf(i),1)}if(this.eventHandlers){this.eventHandlers.forEach(function(e){return e.unrender()})}if(this.decorator){this.decorator.teardown()}if(this.root.transitionsEnabled&&this.outro){var s=new t(this,this.outro,false);e.registerTransition(s);e.scheduleTask(function(){return s.start()})}if(this.liveQueries){r(this)}};function r(e){var t,n,r;r=e.liveQueries.length;while(r--){t=e.liveQueries[r];n=t.selector;t._remove(e.node)}}return n}(E,ka);var Ra=function(e,t,n,r,i,a,s,o,u,f,l,c,h,p,d){var v=function(e){this.init(e)};v.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:a,findNextNode:s,firstNode:o,getAttribute:u,init:f,rebind:l,render:c,toString:h,unbind:p,unrender:d};return v}($r,qr,Wr,Br,zr,Hr,Gr,Kr,Zr,aa,ua,Aa,Ta,Oa,Sa);var Na=function(){var e;var t=/^\s*$/,n=/^\s*/;e=function(e){var n,i,a,s;n=e.split("\n");i=n[0];if(i!==undefined&&t.test(i)){n.shift()}a=n[n.length-1];if(a!==undefined&&t.test(a)){n.pop()}s=n.reduce(r,null);if(s){e=n.map(function(e){return e.replace(s,"")}).join("\n")}return e};function r(e,t){var r=n.exec(t)[0];if(e===null||r.length<e.length){return r}return e}return e}();var La=function(e,t,n,r){var i;i=function s(e,t){var i;if(i=a(e,t)){return i}i=n.fromId(t,{noThrow:true});if(i){i=r(i);var s=n.parse(i,n.getParseOptions(e));return e.partials[t]=s.t}};function a(r,i){var a=t.registries.partials;var s=a.findInstance(r,i);if(!s){return}var o=s.partials[i],u;if(typeof o==="function"){u=o.bind(s);u.isOwner=s.partials.hasOwnProperty(i);o=u(s.data,n)}if(!o){e.warn({debug:r.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:i}});return}if(!n.isParsed(o)){var f=n.parse(o,n.getParseOptions(s));if(f.p){e.warn({debug:r.debug,message:"noNestedPartials",args:{rname:i}})}var l=u?s:a.findOwner(s,i);l.partials[i]=o=f.t}if(u){o._fn=u}return o.v?o.t:o}return i}(p,Ht,Vt,Na);var Ia=function(e,t){var n;if(!t){return e}n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n");return n};var Pa=function(e,t,n,r,i,a,s,o,u){var f,l;i.push(function(){l=i.Fragment});f=function(e){var r,i;r=this.parentFragment=e.parentFragment;this.root=r.root;this.type=t.PARTIAL;this.index=e.index;this.name=e.template.r;this.fragment=this.fragmentToRender=this.fragmentToUnrender=null;s.init(this,e);if(!this.keypath&&(i=n(this.root,this.name))){u.call(this);this.isNamed=true;this.setTemplate(i)}};f.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getValue:function(){return this.fragment.getValue()},rebind:function(e,t,n,r){o.call(this,e,t,n,r);this.fragment.rebind(e,t,n,r)},render:function(){this.docFrag=document.createDocumentFragment();this.update();this.rendered=true;return this.docFrag},resolve:s.resolve,setValue:function(t){var r;if(t!==undefined&&t===this.value){return}r=n(this.root,""+t);if(!r&&this.name&&(r=n(this.root,this.name))){u.call(this);this.isNamed=true}if(!r){e.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}})}this.setTemplate(r||[]);this.value=t;this.bubble();if(this.rendered){a.addView(this)}},setTemplate:function(e){if(this.fragment){this.fragment.unbind();this.fragmentToUnrender=this.fragment}this.fragment=new l({template:e,root:this.root,owner:this,pElement:this.parentFragment.pElement});this.fragmentToRender=this.fragment},toString:function(e){var n,i,a,s;n=this.fragment.toString(e);i=this.parentFragment.items[this.index-1];if(!i||i.type!==t.TEXT){return n}a=i.text.split("\n").pop();if(s=/^\s+$/.exec(a)){return r(n,s[0])}return n},unbind:function(){if(!this.isNamed){u.call(this)}if(this.fragment){this.fragment.unbind()}},unrender:function(e){if(this.rendered){if(this.fragment){this.fragment.unrender(e)
}this.rendered=false}},update:function(){var e,t;if(this.fragmentToUnrender){this.fragmentToUnrender.unrender(true);this.fragmentToUnrender=null}if(this.fragmentToRender){this.docFrag.appendChild(this.fragmentToRender.render());this.fragmentToRender=null}if(this.rendered){e=this.parentFragment.getNode();t=this.parentFragment.findNextNode(this);e.insertBefore(this.docFrag,t)}}};return f}(p,W,La,Ia,i,E,fr,ur,Kn);var ja=function(e,t,n){var r;n.push(function(){r=n.Ractive});return function i(n,r){var a,s=e.registries.components.findInstance(n,r);if(s){a=s.components[r];if(!a._parent){var o=a.bind(s);o.isOwner=s.components.hasOwnProperty(r);a=o(s.data);if(!a){t.warn({debug:n.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:r}});return}if(typeof a==="string"){a=i(n,a)}a._fn=o;s.components[r]=a}}return a}}(Ht,p,i);var Fa=function(e){var t=new e("detach");return function n(){var e=this.instance.fragment.detach();t.fire(this.instance);return e}}(d);var Da=function pu(e){return this.instance.fragment.find(e)};var Ma=function du(e,t){return this.instance.fragment.findAll(e,t)};var Va=function vu(e,t){t._test(this,true);if(this.instance.fragment){this.instance.fragment.findAllComponents(e,t)}};var Ua=function mu(e){if(!e||e===this.name){return this.instance}if(this.instance.fragment){return this.instance.fragment.findComponent(e)}return null};var $a=function gu(){return this.parentFragment.findNextNode(this)};var qa=function yu(){if(this.rendered){return this.instance.fragment.firstNode()}return null};var Wa=function(e,t){var n,r;t.push(function(){n=t.Fragment});r=function(e,t,r){this.parentFragment=e.parentFragment;this.component=e;this.key=t;this.fragment=new n({template:r,root:e.root,owner:this});this.value=this.fragment.getValue()};r.prototype={bubble:function(){if(!this.dirty){this.dirty=true;e.addView(this)}},update:function(){var t=this.fragment.getValue();this.component.instance.viewmodel.set(this.key,t);e.addViewmodel(this.component.instance.viewmodel);this.value=t;this.dirty=false},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},unbind:function(){this.fragment.unbind()}};return r}(E,i);var Ba=function(e,t){var n=function(n,r,i,a){var s=this;this.root=n.root;this.parentFragment=n.parentFragment;this.ready=false;this.hash=null;this.resolver=new e(this,i,function(e){if(s.binding||(s.binding=n.bindings[s.hash])){n.bindings[s.hash]=null;s.binding.rebind(e);s.hash=e+"="+r;n.bindings[s.hash]}else{if(!s.ready){a.push({childKeypath:r,parentKeypath:e})}else{t(n,n.root,e,r)}}s.value=n.root.viewmodel.get(e)})};n.prototype={rebind:function(e,t,n,r){this.resolver.rebind(e,t,n,r)},unbind:function(){this.resolver.unbind()}};return n}(ar,w);var za=function(e,t,n,r,i){var a;a=function(e,t,n,r){var i={},a,o;e.complexParameters=[];for(a in n){if(n.hasOwnProperty(a)){o=s(e,a,n[a],r);if(o!==undefined||t[a]===undefined){i[a]=o}}}return i};function s(a,s,o,u){var f,l,c,h,p,d;c=a.root;h=a.parentFragment;if(typeof o==="string"){l=t(o);if(!l){return o}return l.value}if(o===null){return true}if(o.length===1&&o[0].t===e.INTERPOLATOR){if(o[0].r){if(h.indexRefs&&h.indexRefs[d=o[0].r]!==undefined){a.indexRefBindings[d]=s;return h.indexRefs[d]}p=n(c,o[0].r,h)||o[0].r;u.push({childKeypath:s,parentKeypath:p});return c.viewmodel.get(p)}if(o[0].rx){f=new i(a,s,o[0].rx,u);a.complexParameters.push(f);f.ready=true;return f.value}}f=new r(a,s,o);a.complexParameters.push(f);return f.value}return a}(W,Rt,x,Wa,Ba);var Ha=function(e){return function(t,n,r,i){var a,s,o,u;s=t.parentFragment;u=t.root;o={content:i||[]};if(n.defaults.el){e.warn({debug:u.debug,message:"defaultElSpecified",args:{name:t.name}})}a=new n({el:null,append:true,data:r,partials:o,magic:u.magic||n.defaults.magic,modifyArrays:u.modifyArrays,_parent:u,_component:t,adapt:u.adapt,"yield":{template:i,instance:u}});return a}}(p);var Ga=function(e){return function t(n,r){r.forEach(function i(t){var r,i;e(n,n.root,t.parentKeypath,t.childKeypath);r=n.instance.viewmodel.get(t.childKeypath);i=n.root.viewmodel.get(t.parentKeypath);if(r!==undefined&&i===undefined){n.root.viewmodel.set(t.parentKeypath,r)}})}}(w);var Ka=function(e,t,n){var r;var i;e.push(function(){i=e.Fragment});r=function s(e,t){var n;for(n in t){if(t.hasOwnProperty(n)){a(e.instance,e.root,n,t[n])}}};function a(e,r,i,a){if(typeof a!=="string"){n.error({debug:r.debug,message:"noComponentEventArguments"})}e.on(i,function(){var e,n;if(arguments.length&&arguments[0]&&arguments[0].node){e=Array.prototype.shift.call(arguments)}n=Array.prototype.slice.call(arguments);t(r,a,{event:e,args:n});return false})}return r}(i,hn,p);var Za=function(e){var t,n;t=e.root;while(t){if(n=t._liveComponentQueries["_"+e.name]){n.push(e.instance)}t=t._parent}};var Qa=function(e,t,n,r,i,a,s){return function o(u,f){var l,c,h,p;l=this.parentFragment=u.parentFragment;c=l.root;this.root=c;this.type=e.COMPONENT;this.name=u.template.e;this.index=u.index;this.indexRefBindings={};this.bindings=[];this.yielders=[];if(!f){throw new Error('Component "'+this.name+'" not found')}p=[];h=n(this,f.defaults.data||{},u.template.a,p);r(this,f,h,u.template.f);i(this,p);a(this,u.template.v);if(u.template.t1||u.template.t2||u.template.o){t('The "intro", "outro" and "decorator" directives have no effect on components')}s(this)}}(W,c,za,Ha,Ga,Ka,Za);var Xa=function(e,t){return function n(r,i,a,s){var o=this.instance,u=o._parent,f,l;this.bindings.forEach(function(e){var n;if(e.root!==u){return}if(n=t(e.keypath,a,s)){e.rebind(n)}});this.complexParameters.forEach(c);if(this.yielders[0]){c(this.yielders[0])}if(f=this.indexRefBindings[r]){e.addViewmodel(o.viewmodel);o.viewmodel.set(f,i)}if(l=this.root._liveComponentQueries["_"+this.name]){l._makeDirty()}function c(e){e.rebind(r,i,a,s)}}}(E,Xn);var Ya=function bu(){var e=this.instance;e.render(this.parentFragment.getNode());this.rendered=true;return e.fragment.detach()};var Ja=function wu(){return this.instance.fragment.toString()};var es=function(e,t){var n;var r=new e("teardown");n=function s(){var e=this.instance;this.complexParameters.forEach(i);this.bindings.forEach(i);a(this);e.fragment.unbind();e.viewmodel.teardown();if(e.fragment.rendered&&e.el.__ractive_instances__){t(e.el.__ractive_instances__,e)}r.fire(e)};function i(e){e.unbind()}function a(e){var t,n;t=e.root;do{if(n=t._liveComponentQueries["_"+e.name]){n._remove(e)}}while(t=t._parent)}return n}(d,v);var ts=function xu(e){this.shouldDestroy=e;this.instance.unrender()};var ns=function(e,t,n,r,i,a,s,o,u,f,l,c,h){var p=function(e,t){this.init(e,t)};p.prototype={detach:e,find:t,findAll:n,findAllComponents:r,findComponent:i,findNextNode:a,firstNode:s,init:o,rebind:u,render:f,toString:l,unbind:c,unrender:h};return p}(Fa,Da,Ma,Va,Ua,$a,qa,Qa,Xa,Ya,Ja,es,ts);var rs=function(e,t){var n=function(t){this.type=e.COMMENT;this.value=t.template.c};n.prototype={detach:t,firstNode:function(){return this.node},render:function(){if(!this.node){this.node=document.createComment(this.value)}return this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){if(e){this.node.parentNode.removeChild(this.node)}}};return n}(W,Hn);var is=function(e,t,n){var r;n.push(function(){r=n.Fragment});var i=function(t){var n,i;n=t.parentFragment.root;this.component=i=n.component;this.surrogateParent=t.parentFragment;this.parentFragment=i.parentFragment;this.fragment=new r({owner:this,root:n.yield.instance,template:n.yield.template,pElement:this.surrogateParent.pElement});i.yielders.push(this);e.scheduleTask(function(){if(i.yielders.length>1){throw new Error("A component template can only have one {{yield}} declaration at a time")}})};i.prototype={detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},findNextNode:function(){return this.surrogateParent.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(e){return this.fragment.getValue(e)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(e){this.fragment.unrender(e);t(this.component.yielders,this)},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},toString:function(){return this.fragment.toString()}};return i}(E,v,i);var as=function(e,t,n,r,i,a,s,o,u,f,l){return function c(h){if(typeof h.template==="string"){return new t(h)}switch(h.template.t){case e.INTERPOLATOR:if(h.template.r==="yield"){return new l(h)}return new n(h);case e.SECTION:return new r(h);case e.TRIPLE:return new i(h);case e.ELEMENT:var p;if(p=o(h.parentFragment.root,h.template.e)){return new u(h,p)}return new a(h);case e.PARTIAL:return new s(h);case e.COMMENT:return new f(h);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}}(W,Gn,lr,Cr,Ur,Ra,Pa,ja,ns,rs,is);var ss=function(e,t,n){return function r(i){var a=this;var s,o,u;this.owner=i.owner;s=this.parent=this.owner.parentFragment;this.root=i.root;this.pElement=i.pElement;this.context=i.context;if(this.owner.type===e.SECTION){this.index=i.index}if(s){o=s.indexRefs;if(o){this.indexRefs=t(null);for(u in o){this.indexRefs[u]=o[u]}}}if(i.indexRef){if(!this.indexRefs){this.indexRefs={}}this.indexRefs[i.indexRef]=i.index}if(typeof i.template==="string"){i.template=[i.template]}else if(!i.template){i.template=[]}this.items=i.template.map(function(e,t){return n({parentFragment:a,pElement:i.pElement,template:e,index:t})});this.value=this.argsList=null;this.dirtyArgs=this.dirtyValue=true;this.bound=true}}(W,B,as);var os=function(e){return function t(n,r,i,a){this.index=r;e(this,"context",i,a);if(this.indexRefs&&this.indexRefs[n]!==undefined){this.indexRefs[n]=r}this.items.forEach(function(e){if(e.rebind){e.rebind(n,r,i,a)}})}}(oa);var us=function _u(){var e;if(this.items.length===1){e=this.items[0].render()}else{e=document.createDocumentFragment();this.items.forEach(function(t){e.appendChild(t.render())})}this.rendered=true;return e};var fs=function Eu(e){if(!this.items){return""}return this.items.map(function(t){return t.toString(e)}).join("")};var ls=function(){var e;e=function n(){if(!this.bound){return}this.items.forEach(t);this.bound=false};function t(e){if(e.unbind){e.unbind()}}return e}();var cs=function ku(e){if(!this.rendered){throw new Error("Attempted to unrender a fragment that was not rendered")}this.items.forEach(function(t){return t.unrender(e)});this.rendered=false};var hs=function(e,t,n,r,i,a,s,o,u,f,l,c,h,p,d,v,m){var g=function(e){this.init(e)};g.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:a,findNextNode:s,firstNode:o,getNode:u,getValue:f,init:l,rebind:c,render:h,toString:p,unbind:d,unrender:v};m.Fragment=g;return g}(Pn,jn,Fn,Dn,Mn,Vn,Un,$n,qn,Wn,ss,os,us,fs,ls,cs,i);var ps=function(e,t,n,r){var i=["template","partials","components","decorators","events"],a=new e("reset");return function s(e,o){var u,f,l,c,h;if(typeof e==="function"&&!o){o=e;e={}}else{e=e||{}}if(typeof e!=="object"){throw new Error("The reset method takes either no arguments, or an object containing new data")}if((f=this.viewmodel.wrapped[""])&&f.reset){if(f.reset(e)===false){this.data=e}}else{this.data=e}l=r.reset(this);c=l.length;while(c--){if(i.indexOf(l[c])>-1){h=true;break}}if(h){var p;this.viewmodel.mark("");if(p=this.component){p.shouldDestroy=true}this.unrender();if(p){p.shouldDestroy=false}if(this.fragment.template!==this.template){this.fragment.unbind();this.fragment=new n({template:this.template,root:this,owner:this})}u=this.render(this.el,this.anchor)}else{u=t.start(this,true);this.viewmodel.mark("");t.end()}a.fire(this,e);if(o){u.then(o)}return u}}(d,E,hs,Ht);var ds=function(e,t){return function n(r){var i,a;e.template.init(null,this,{template:r});i=this.transitionsEnabled;this.transitionsEnabled=false;if(a=this.component){a.shouldDestroy=true}this.unrender();if(a){a.shouldDestroy=false}this.fragment.unbind();this.fragment=new t({template:this.template,root:this,owner:this});this.render(this.el,this.anchor);this.transitionsEnabled=i}}(Ht,hs);var vs=function(e){return e("reverse")}(Sn);var ms=function(e,t,n,r){var i=/\*/;return function a(s,o,u){var f=this;var l,c;c=e.start(this,true);if(t(s)){l=s;u=o;for(s in l){if(l.hasOwnProperty(s)){o=l[s];s=n(s);this.viewmodel.set(s,o)}}}else{s=n(s);if(i.test(s)){r(this,s).forEach(function(e){f.viewmodel.set(e,o)})}else{this.viewmodel.set(s,o)}}e.end();if(u){c.then(u.bind(this))}return c}}(E,o,P,bn);var gs=function(e){return e("shift")}(Sn);var ys=function(e){return e("sort")}(Sn);var bs=function(e){return e("splice")}(Sn);var ws=function(e){return function t(n,r){return e(this,n,r===undefined?-1:-r)}}(L);var xs=function(e,t,n){var r=new e("teardown");return function i(e){var i;this.fragment.unbind();this.viewmodel.teardown();if(this.fragment.rendered&&this.el.__ractive_instances__){n(this.el.__ractive_instances__,this)}this.shouldDestroy=true;i=this.fragment.rendered?this.unrender():t.resolve();r.fire(this);if(e){i.then(e.bind(this))}return i}}(d,m,v);var _s=function(e){return function t(n,r){var i;if(typeof n!=="string"){e.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:n}})}i=this.get(n);return this.set(n,!i,r)}}(p);var Es=function Au(){return this.fragment.toString(true)};var ks=function(e,t,n,r,i,a){var s=new t("unrender");return function o(){var t=this;var o,u;if(!this.fragment.rendered){n.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"});return r.resolve()}o=a.start(this,true);u=!this.component||this.component.shouldDestroy||this.shouldDestroy;if(this.constructor.css){o.then(function(){e.remove(t.constructor)})}while(this._animations[0]){this._animations[0].stop()}this.fragment.unrender(u);i(this.el.__ractive_instances__,this);s.fire(this);a.end();return o}}(Ln,d,p,m,v,E);var As=function(e){return e("unshift")}(Sn);var Ts=function(e,t){var n=new e("update");return function r(e,i){var a;if(typeof e==="function"){i=e;e=""}else{e=e||""}a=t.start(this,true);this.viewmodel.mark(e);t.end();n.fire(this,e);if(i){a.then(i.bind(this))}return a}}(d,E);var Cs=function(e,t){var n;n=function i(e,t){var n;if(typeof e!=="string"){e="";t=true}r(this,e,n={},t);return this.set(n)};function r(n,i,a,s){var o,u,f,l,c,h,p=[];o=n._twowayBindings[i];if(o&&(f=o.length)){while(f--){l=o[f];if(l.radioName&&!l.element.node.checked){continue}if(l.checkboxName){if(!p[l.keypath]&&!l.changed()){p.push(l.keypath);p[l.keypath]=l}continue}c=l.attribute.value;h=l.getValue();if(e(c,h)){continue}if(!t(c,h)){a[i]=h}}}if(p.length){p.forEach(function(t){var n,r,i;n=p[t];r=n.attribute.value;i=n.getValue();if(!e(r,i)){a[t]=i}})}if(!s){return}u=n.viewmodel.depsMap["default"][i];if(u){f=u.length;while(f--){r(n,u[f],a,s)}}}return n}(ji,b);var Os=function(e,t,n,r,i,a,s,o,u,f,l,c,h,p,d,v,m,g,y,b,w,x,_,E,k,A,T,C,O,S,R,N){return{add:e,animate:t,detach:n,find:r,findAll:i,findAllComponents:a,findComponent:s,fire:o,get:u,insert:f,merge:l,observe:c,off:h,on:p,pop:d,push:v,render:m,reset:g,resetTemplate:y,reverse:b,set:w,shift:x,sort:_,splice:E,subtract:k,teardown:A,toggle:T,toHTML:C,unrender:O,unshift:S,update:R,updateModel:N}}(I,Zt,Qt,Xt,un,fn,ln,pn,dn,mn,gn,En,Tn,Cn,Rn,Nn,In,ps,ds,vs,ms,gs,ys,bs,ws,xs,_s,Es,ks,As,Ts,Cs);var Ss=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;t=Math.random()*16|0;n=e=="x"?t:t&3|8;return n.toString(16)})};var Rs=function(){var e=0;return function(){return"r-"+e++}}();var Ns=function(e){function t(t){this.hook=new e(t);this.inProcess={};this.queue={}}t.prototype={constructor:t,begin:function(e){this.inProcess[e._guid]=true},end:function(e){var t=e._parent;if(!t||!this.inProcess[t._guid]){r(this,e)}else{n(this.queue,t).push(e)}delete this.inProcess[e._guid]}};function n(e,t){return e[t._guid]||(e[t._guid]=[])}function r(e,t){var i=n(e.queue,t);e.hook.fire(t);while(i.length){r(e,i.shift())}delete e.queue[t._guid]}return t}(d);var Ls=function(e,t,n,r){var i=e.root,a=e.keypath;if(n==="sort"||n==="reverse"){i.viewmodel.set(a,t);return}i.viewmodel.smartUpdate(a,t,r)};var Is=function(e,t,n,r){var i=[],a=["pop","push","reverse","shift","sort","splice","unshift"],s,o,u;a.forEach(function(a){var s=function(){var t=Array.prototype.slice;var i=t.call(arguments,0);var s,o,u,f;s=n(this,a,i);o=Array.prototype[a].apply(this,arguments);e.start();this._ractive.setting=true;f=this._ractive.wrappers.length;while(f--){u=this._ractive.wrappers[f];e.addViewmodel(u.root.viewmodel);r(u,this,a,s)}e.end();this._ractive.setting=false;return o};t(i,a,{value:s})});s={};if(s.__proto__){o=function(e){e.__proto__=i};u=function(e){e.__proto__=Array.prototype}}else{o=function(e){var n,r;n=a.length;while(n--){r=a[n];t(e,r,{value:i[r],configurable:true})}};u=function(e){var t;t=a.length;while(t--){delete e[a[t]]}}}o.unpatch=u;return o}(E,R,On,Ls);var Ps=function(e,t,n){var r,i,a;r={filter:function(e){return t(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new i(e,t,n)}};i=function(t,r,i){this.root=t;this.value=r;this.keypath=i;if(!r._ractive){e(r,"_ractive",{value:{wrappers:[],instances:[],setting:false},configurable:true});n(r)}if(!r._ractive.instances[t._guid]){r._ractive.instances[t._guid]=0;r._ractive.instances.push(t)}r._ractive.instances[t._guid]+=1;r._ractive.wrappers.push(this)};i.prototype={get:function(){return this.value},teardown:function(){var e,t,r,i,s;e=this.value;t=e._ractive;r=t.wrappers;i=t.instances;if(t.setting){return false}s=r.indexOf(this);if(s===-1){throw new Error(a)}r.splice(s,1);if(!r.length){delete e._ractive;n.unpatch(this.value)}else{i[this.root._guid]-=1;if(!i[this.root._guid]){s=i.indexOf(this.root);if(s===-1){throw new Error(a)}i.splice(s,1)}}}};a="Something went wrong in a rather interesting way";return r}(R,s,Is);var js=function(e,t){var n,r;if(e){n={filter:function(n,r,i){return e.filter(n,r,i)&&t.filter(n)},wrap:function(e,t,n){return new r(e,t,n)}};r=function(n,r,i){this.value=r;this.magic=true;this.magicWrapper=e.wrap(n,r,i);this.arrayWrapper=t.wrap(n,r,i)};r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown();this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}}}return n}(A,Ps);var Fs=function(e,t,n,r,i){var a;var s={};a=function f(a,s){var o=this.ractive,f,l,c,h;f=o.adapt.length;for(l=0;l<f;l+=1){c=o.adapt[l];if(typeof c==="string"){var p=e.registries.adaptors.find(o,c);if(!p){return n.critical({debug:o.debug,message:"missingPlugin",args:{plugin:"adaptor",name:c}})}c=o.adapt[l]=p}if(c.filter(s,a,o)){h=this.wrapped[a]=c.wrap(o,s,a,u(a));h.value=s;return s}}if(o.magic){if(i.filter(s,a,o)){this.wrapped[a]=i.wrap(o,s,a)}else if(r.filter(s,a,o)){this.wrapped[a]=r.wrap(o,s,a)}}else if(o.modifyArrays&&t.filter(s,a,o)){this.wrapped[a]=t.wrap(o,s,a)}return s};function o(e,t){var n={},r;if(!t){return e}t+=".";for(r in e){if(e.hasOwnProperty(r)){n[t+r]=e[r]}}return n}function u(e){var t;if(!s[e]){t=e?e+".":"";s[e]=function(n,r){var i;if(typeof n==="string"){i={};i[t+n]=r;return i}if(typeof n==="object"){return t?o(n,e):n}}}return s[e]}return a}(Ht,Ps,p,A,js);var Ds=function Tu(e){var t=[""],n,r,i,a;n=e.length;while(n--){r=e[n];i=r.split(".");while(i.length>1){i.pop();a=i.join(".");if(t.indexOf(a)===-1){t.push(a)}}}return t};var Ms=function(){var e;var t={};e=function r(e){var t,r,i,a;t=e.split(".");r=n(t.length);i=function(e,n){return e?"*":t[n]};a=r.map(function(e){return e.map(i).join(".")});return a};function n(e){var n="",r,i,a,s,o;if(!t[e]){a=[];while(n.length<e){n+=1}r=parseInt(n,2);s=function(e){return e==="1"};for(o=0;o<=r;o+=1){i=o.toString(2);while(i.length<e){i="0"+i}a[o]=Array.prototype.map.call(i,s)}t[e]=a}return t[e]}return e}();var Vs=function(e){var t;var n=/[^\.]+$/;t=r;function r(t,n,r){var s;a(t,n);if(r){return}s=e(n);s.forEach(function(e){i(t,e,n)})}function i(e,t,r){var s,o,u;s=e.depsMap.patternObservers;o=s[t];if(o){o.forEach(function(t){var s=n.exec(t)[0];u=r?r+"."+s:s;a(e,u);i(e,t,u)})}}function a(e,t){e.patternObservers.forEach(function(e){if(e.regex.test(t)){e.update(t)}})}return t}(Ms);var Us=function(e,t){var n;n=function f(){var n=this;var u=this,f,l,c={};f=this.changes;if(!f.length){return}function h(e){var t,n,a;if(u.noCascade.hasOwnProperty(e)){return}if(n=u.deps.computed[e]){n.forEach(r);a=n.map(i);a.forEach(p);a.forEach(h)}if(t=u.depsMap.computed[e]){t.forEach(h)}}function p(e){u.mark(e)}f.forEach(h);l=e(f);l.forEach(function(e){var t,n;if(t=u.deps.computed[e]){t.forEach(r);n=t.map(i);n.forEach(p);n.forEach(h)}});this.changes=[];if(this.patternObservers.length){l.forEach(function(e){return t(n,e,true)});f.forEach(function(e){return t(n,e)})}if(this.deps.observers){l.forEach(function(e){return a(n,null,e,"observers")});o(this,f,"observers")}if(this.deps["default"]){var d=[];l.forEach(function(e){return a(n,d,e,"default")});if(d.length){s(this,d,f)}o(this,f,"default")}f.forEach(function(e){c[e]=n.get(e)});this.implicitChanges={};this.noCascade={};return c};function r(e){e.invalidate()}function i(e){return e.key}function a(e,t,n,r){var i,a;if(i=u(e,n,r)){a=e.get(n);i.forEach(function(e){if(t&&e.refineValue){t.push(e)}else{e.setValue(a)}})}}function s(e,t,n){t.forEach(function(t){var r=false,i=0,a=n.length,s=[];while(i<a){var o=n[i];if(o===t.keypath){r=true;break}if(o.slice(0,t.keypath.length)===t.keypath){s.push(o)}i++}if(r){t.setValue(e.get(t.keypath))}if(s.length){t.refineValue(s)}})}function o(e,t,n){var r=[];i(t);r.forEach(o);function i(e){e.forEach(a);e.forEach(s)}function a(t){var i=u(e,t,n);if(i){r.push({keypath:t,deps:i})}}function s(t){var r;if(r=e.depsMap[n][t]){i(r)}}function o(t){var n=e.get(t.keypath);t.deps.forEach(function(e){return e.setValue(n)})}}function u(e,t,n){var r=e.deps[n];return r?r[t]:null}return n}(Ds,Vs);var $s=function Cu(){this.captureGroups.push([])};var qs=function Ou(e,t){var n,r;if(!t){if(r=this.wrapped[e]){if(r.teardown()!==false){this.wrapped[e]=null}}}this.cache[e]=undefined;if(n=this.cacheMap[e]){while(n.length){this.clearCache(n.pop())}}};var Ws=function(){var e;var t=/\$\{([^\}]+)\}/g;e=function(e){if(typeof e==="function"){return{get:e}}if(typeof e==="string"){return{get:n(e)}}if(typeof e==="object"&&typeof e.get==="string"){e={get:n(e.get),set:e.set}}return e};function n(e){var n="var __ractive=this;return("+e.replace(t,function(e,t){return'__ractive.get("'+t+'")'})+")";return new Function(n)}return e}();var Bs=function(e,t){var n=function(e,t,n){var r=this;this.ractive=e;this.viewmodel=e.viewmodel;this.key=t;this.getter=n.get;this.setter=n.set;this.hardDeps=n.deps||[];this.softDeps=[];this.depValues={};if(this.hardDeps){this.hardDeps.forEach(function(t){return e.viewmodel.register(t,r,"computed")})}this._dirty=this._firstRun=true};n.prototype={constructor:n,init:function(){var e;this.bypass=true;e=this.ractive.viewmodel.get(this.key);this.ractive.viewmodel.clearCache(this.key);this.bypass=false;if(this.setter&&e!==undefined){this.set(e)}},invalidate:function(){this._dirty=true},get:function(){var n=this;var r,i,a,s=false;if(this.getting){return}this.getting=true;if(this._dirty){r=this.ractive;if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length){s=true}else{[this.hardDeps,this.softDeps].forEach(function(e){var i,a,o;if(s){return}o=e.length;while(o--){i=e[o];a=r.viewmodel.get(i);if(!t(a,n.depValues[i])){n.depValues[i]=a;s=true;return}}})}if(s){r.viewmodel.capture();try{this.value=this.getter.call(r)}catch(o){e.warn({debug:r.debug,message:"failedComputation",args:{key:this.key,err:o.message||o}});this.value=void 0}i=r.viewmodel.release();a=this.updateDependencies(i);if(a){[this.hardDeps,this.softDeps].forEach(function(e){e.forEach(function(e){n.depValues[e]=r.viewmodel.get(e)})})}}this._dirty=false}this.getting=this._firstRun=false;return this.value},set:function(e){if(this.setting){this.value=e;return}if(!this.setter){throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)")}this.setter.call(this.ractive,e)},updateDependencies:function(e){var t,n,r,i;n=this.softDeps;t=n.length;while(t--){r=n[t];if(e.indexOf(r)===-1){i=true;this.viewmodel.unregister(r,this,"computed")}}t=e.length;while(t--){r=e[t];if(n.indexOf(r)===-1&&(!this.hardDeps||this.hardDeps.indexOf(r)===-1)){i=true;this.viewmodel.register(r,this,"computed")}}if(i){this.softDeps=e.slice()}return i}};return n}(p,b);var zs=function(e,t){return function n(r,i){i=e(i);return this.computations[r]=new t(this.ractive,r,i)}}(Ws,Bs);var Hs={FAILED_LOOKUP:true};var Gs=function(e,t){var n={};var r=function(e,r){this.viewmodel=e;this.root=e.ractive;this.ref=r;this.parentFragment=n;e.unresolvedImplicitDependencies[r]=true;e.unresolvedImplicitDependencies.push(this);t.addUnresolved(this)};r.prototype={resolve:function(){this.viewmodel.mark(this.ref);this.viewmodel.unresolvedImplicitDependencies[this.ref]=false;e(this.viewmodel.unresolvedImplicitDependencies,this)},teardown:function(){t.removeUnresolved(this)}};return r}(v,E);var Ks=function(e,t,n){var r;var i={};r=function s(r){var s=arguments[1];if(s===void 0)s=i;var o=this.ractive,u=this.cache,f,l,c,h;if(r[0]==="@"){f=r.slice(1);return e(f)?+f:f}if(u[r]===undefined){if((l=this.computations[r])&&!l.bypass){f=l.get();this.adapt(r,f)}else if(c=this.wrapped[r]){f=c.value}else if(!r){this.adapt("",o.data);f=o.data}else{f=a(this,r)}u[r]=f}else{f=u[r]}if(s.evaluateWrapped&&(c=this.wrapped[r])){f=c.get()}if(s.capture&&(h=this.captureGroups[this.captureGroups.length-1])){if(!~h.indexOf(r)){h.push(r);if(f===t&&this.unresolvedImplicitDependencies[r]!==true){new n(this,r)}}}return f===t?void 0:f};function a(e,n){var r,i,a,s,o,u,f;r=n.split(".");i=r.pop();a=r.join(".");s=e.get(a);if(f=e.wrapped[a]){s=f.get()}if(s===null||s===undefined){return}if(!(o=e.cacheMap[a])){e.cacheMap[a]=[n]}else{if(o.indexOf(n)===-1){o.push(n)}}if(typeof s==="object"&&!(i in s)){return e.cache[n]=t}u=s[i];e.adapt(n,u,false);e.cache[n]=u;return u}return r}(u,Hs,Gs);var Zs=function(){var e;e=function n(){var e,n,r=[];for(e in this.ractive.computed){n=this.compute(e,this.ractive.computed[e]);r.push(n)}r.forEach(t)};function t(e){e.init()}return e}();var Qs=function Su(e,t){var n;if(t){if(t.implicit){this.implicitChanges[e]=true}if(t.noCascade){this.noCascade[e]=true}}if(n=this.computations[e]){n.invalidate()}if(this.changes.indexOf(e)===-1){this.changes.push(e)}this.clearCache(e)};var Xs=function(e,t){var n,r,i,a;n={};r=0;i=e.map(function(e,i){var s,o,u;o=r;u=t.length;do{s=t.indexOf(e,o);if(s===-1){a=true;return-1}o=s+1}while(n[s]&&o<u);if(s===r){r+=1}if(s!==i){a=true}n[s]=true;return s});return i};var Ys=function(e,t){var n;var r={};n=function s(n,r,i,o){var u,f,l,c;this.mark(n);if(o&&o.compare){l=a(o.compare);try{u=r.map(l);f=i.map(l)}catch(h){if(this.debug){throw h}else{e("Merge operation: comparison failed. Falling back to identity checking")}u=r;f=i}}else{u=r;f=i}c=t(u,f);this.smartUpdate(n,i,c,r.length!==i.length)};function i(e){return JSON.stringify(e)}function a(e){if(e===true){return i}if(typeof e==="string"){if(!r[e]){r[e]=function(t){return t[e]}}return r[e]}if(typeof e==="function"){return e}throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}return n}(c,Xs);var Js=function(){var e;e=function n(e,r){var i=arguments[2];if(i===void 0)i="default";var a,s;if(r.isStatic){return}a=this.deps[i]||(this.deps[i]={});s=a[e]||(a[e]=[]);s.push(r);if(!e){return}t(this,e,i)};function t(e,t,n){var r,i,a,s;r=t.split(".");while(r.length){r.pop();i=r.join(".");a=e.depsMap[n]||(e.depsMap[n]={});s=a[i]||(a[i]=[]);if(s[t]===undefined){s[t]=0;s.push(t)}s[t]+=1;t=i}}return e}();var eo=function Ru(){return this.captureGroups.pop()};var to=function(e,t){var n;n=function i(t,n,a){var s,o,u;s=this.computations[t];if(s){if(s.setting){return}s.set(n);n=s.get()}if(e(this.cache[t],n)){return}o=this.wrapped[t];if(o&&o.reset){u=o.reset(n)!==false;if(u){n=o.get()}}if(!s&&!u){r(this,t,n)}if(!a){this.mark(t)}else{this.clearCache(t)}};function r(e,n,r){var i,a,s,o,u,f,l;f=function(){if(o.set){o.set(a,r)}else{u=o.get();l()}};l=function(){if(!u){u=t(a);e.set(s,u,true)}u[a]=r};i=n.split(".");a=i.pop();s=i.join(".");o=e.wrapped[s];if(o){f()}else{u=e.get(s);if(o=e.wrapped[s]){f()}else{l()}}}return n}(b,k);var no=function(){var e;var t={implicit:true},n={noCascade:true};e=function i(e,a,s){var o=this;var u,f;f=s.length;s.forEach(function(t,r){if(t===-1){o.mark(e+"."+r,n)}});this.set(e,a,true);if(u=this.deps["default"][e]){u.filter(r).forEach(function(e){return e.shuffle(s,a)})}if(f!==a.length){this.mark(e+".length",t);for(var l=f;l<a.length;l+=1){this.mark(e+"."+l)}for(var c=a.length;c<f;c+=1){this.mark(e+"."+c,n)}}};function r(e){return typeof e.shuffle==="function"}return e}();var ro=function Nu(){var e=this;var t;Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});while(t=this.unresolvedImplicitDependencies.pop()){t.teardown()}};var io=function(){var e;e=function n(e,r){var i=arguments[2];if(i===void 0)i="default";var a,s;if(r.isStatic){return}a=this.deps[i][e];s=a.indexOf(r);if(s===-1){throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks")}a.splice(s,1);if(!e){return}t(this,e,i)};function t(e,t,n){var r,i,a,s;r=t.split(".");while(r.length){r.pop();i=r.join(".");a=e.depsMap[n];s=a[i];s[t]-=1;if(!s[t]){s.splice(s.indexOf(t),1);s[t]=undefined}t=i}}return e}();var ao=function(){var e={lookup:function(e,t){var n,r=e.adapt;if(!r||!r.length){return r}if(t&&Object.keys(t).length&&(n=r.length)){while(n--){var i=r[n];if(typeof i==="string"){r[n]=t[i]||i}}}return r},combine:function(e,n){e=t(e);n=t(n);if(!e||!e.length){return n}if(!n||!n.length){return e.slice()}e.forEach(function(e){if(n.indexOf(e)===-1){n.push(e)}});return n}};function t(e){if(typeof e==="string"){e=[e]}return e}return e}();var so=function(e,t,n,r,i,a,s,o,u,f,l,c,h,p,d,v,m){var g;try{Object.defineProperty({},"test",{value:0})}catch(y){g=true}var b=function(t){this.ractive=t;b.extend(t.constructor,t);this.cache={};this.cacheMap=e(null);this.deps={computed:{},"default":{}};this.depsMap={computed:{},"default":{}};this.patternObservers=[];this.wrapped=e(null);this.computations=e(null);this.captureGroups=[];this.unresolvedImplicitDependencies=[];this.changes=[];this.implicitChanges={};this.noCascade={}};b.extend=function(e,t){if(t.magic&&g){throw new Error("Getters and setters (magic mode) are not supported in this browser")}t.adapt=m.combine(e.prototype.adapt,t.adapt)||[];t.adapt=m.lookup(t,t.adaptors)};b.prototype={adapt:t,applyChanges:n,capture:r,clearCache:i,compute:a,get:s,init:o,mark:u,merge:f,register:l,release:c,set:h,smartUpdate:p,teardown:d,unregister:v};return b}(B,Fs,Us,$s,qs,zs,Ks,Zs,Qs,Ys,Js,eo,to,no,ro,io,ao);var oo=function(e,t,n,r,i,a,s,o){var u;var f=new a("construct"),l=new a("config"),c=new s("init");u=function p(t){var i=arguments[1];if(i===void 0)i={};var a;h(t,i);f.fire(e.getConstructTarget(t,i),i);e.init(t.constructor,t,i);l.fire(t);if(a=r(t.el)){if(!t.append){if(a.__ractive_instances__){try{a.__ractive_instances__.splice(0,a.__ractive_instances__.length).forEach(function(e){return e.teardown()})}catch(s){}}a.innerHTML=""}}c.begin(t);t.viewmodel=new o(t);t.viewmodel.init();if(t.template){t.fragment=new n({template:t.template,root:t,owner:t})}c.end(t);if(a){t.render(a,t.append)}};function h(e,n){e._guid=i();e._subs=t(null);e._config={};e._twowayBindings=t(null);e._animations=[];e.nodes={};e._liveQueries=[];e._liveComponentQueries=[];if(n._parent&&n._component){e._parent=n._parent;e.component=n._component;n._component.instance=e}}return u}(Ht,B,hs,vn,Rs,d,Ns,so);var uo=function(e,t,n){var r;
var i;n.push(function(){i=n.Ractive});r=function s(n){if(!(n.prototype instanceof i)){return n}var r={};while(n){t.registries.forEach(function(e){a(e.useDefaults?n.prototype:n,r,e.name)});Object.keys(n.prototype).forEach(function(t){if(t==="computed"){return}var i=n.prototype[t];if(!(t in r)){r[t]=i._method?i._method:i}else if(typeof r[t]==="function"&&typeof i==="function"&&r[t]._method){var a,s=i._method;if(s){i=i._method}a=e(r[t]._method,i);if(s){a._method=a}r[t]=a}});if(n._parent!==i){n=n._parent}else{n=false}}return r};function a(e,t,n){var r,i=Object.keys(e[n]);if(!i.length){return}if(!(r=t[n])){r=t[n]={}}i.filter(function(e){return!(e in r)}).forEach(function(t){return r[t]=e[n][t]})}return r}($,Ht,i);var fo=function(e,t,n,r,i,a,s){return function o(){var u=arguments[0];if(u===void 0)u={};var f=this,l,c,h;u=s(u);l=function(e){i(this,e)};c=e(f.prototype);c.constructor=l;h={_guid:{value:n()},defaults:{value:c},extend:{value:o,writable:true,configurable:true},_parent:{value:f}};t(l,h);r.extend(f,c,u);a.extend(f,c);l.prototype=c;return l}}(B,N,Ss,Ht,oo,so,uo);var lo=function(e,t,n,r,i,a,s,o,u,f,l,c,h){var p,d;p=function(e){c(this,e)};d={extend:{value:f},parse:{value:l},Promise:{value:o},svg:{value:r},magic:{value:i},VERSION:{value:"0.6.1"},adaptors:{writable:true,value:{}},components:{writable:true,value:{}},decorators:{writable:true,value:{}},easing:{writable:true,value:t},events:{writable:true,value:{}},interpolators:{writable:true,value:n},partials:{writable:true,value:{}},transitions:{writable:true,value:{}}};a(p,d);p.prototype=u(s,e);p.prototype.constructor=p;p.defaults=p.prototype;h.Ractive=p;while(h.length){h.pop()()}var v="function";if(typeof Date.now!==v||typeof String.prototype.trim!==v||typeof Object.keys!==v||typeof Array.prototype.indexOf!==v||typeof Array.prototype.forEach!==v||typeof Array.prototype.map!==v||typeof Array.prototype.filter!==v||typeof window!=="undefined"&&typeof window.addEventListener!==v){throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.")}return p}(n,r,f,l,T,N,Os,m,Ai,fo,Ft,oo,i);if(typeof module!=="undefined"&&module.exports){module.exports=lo}else if(typeof define==="function"&&define.amd){define(function(){return lo})}e.Ractive=lo;lo.noConflict=function(){e.Ractive=t;return lo}})(typeof window!=="undefined"?window:this);